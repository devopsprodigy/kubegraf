{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./common/constants.ts","webpack:///./common/helpers.ts","webpack:///./common/proxies/prometheusProxy.ts","webpack:///./common/store.ts","webpack:///./common/types/component.ts","webpack:///./common/types/cronjob.ts","webpack:///./common/types/daemonset.ts","webpack:///./common/types/deployment.ts","webpack:///./common/types/job.ts","webpack:///./common/types/namespace.ts","webpack:///./common/types/node.ts","webpack:///./common/types/pod.ts","webpack:///./common/types/service.ts","webpack:///./common/types/statefulset.ts","webpack:///./common/types/traits/baseModel.ts","webpack:///./components/applications-overview/applications-overview.ts","webpack:///./components/cluster-alerts/cluster-alerts.ts","webpack:///./components/cluster-config/cluster-config.ts","webpack:///./components/cluster-overview/cluster-overview.ts","webpack:///./components/clusters-list/clusters-list.ts","webpack:///./components/k8s-page.ts","webpack:///./components/nodes-overview/nodes-overview.ts","webpack:///./config/config.ts","webpack:///./module.ts","webpack:///external \"@grafana/data\"","webpack:///external \"@grafana/runtime\"","webpack:///external \"app/core/app_events\"","webpack:///external \"app/core/utils/kbn\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEO;AACP;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,oCAAoC;AACvE;;AAEO;AACP;AACA;;AAEO;AACP,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;;AAEO;AACP,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEO;AACP,4BAA4B,sBAAsB;AAClD;AACA;AACA;;AAEO;AACP,iDAAiD,QAAQ;AACzD,wCAAwC,QAAQ;AAChD,wDAAwD,QAAQ;AAChE;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,iBAAiB,sFAAsF,aAAa,EAAE;AACtH,sBAAsB,gCAAgC,qCAAqC,0CAA0C,EAAE,EAAE,GAAG;AAC5I,2BAA2B,MAAM,eAAe,EAAE,YAAY,oBAAoB,EAAE;AACpF,sBAAsB,oGAAoG;AAC1H,6BAA6B,uBAAuB;AACpD,4BAA4B,wBAAwB;AACpD,2BAA2B,yDAAyD;AACpF;;AAEO;AACP;AACA,iBAAiB,4CAA4C,SAAS,EAAE,qDAAqD,aAAa,EAAE;AAC5I,yBAAyB,6BAA6B,oBAAoB,gDAAgD,gBAAgB,EAAE,KAAK;AACjJ;;AAEO;AACP;AACA;AACA,2GAA2G,sFAAsF,aAAa,EAAE;AAChN,sBAAsB,8BAA8B,gDAAgD,uDAAuD,EAAE,EAAE,GAAG;AAClK,4CAA4C,sCAAsC,UAAU,oBAAoB,EAAE,EAAE,UAAU;AAC9H;;AAEO;AACP,gCAAgC,uCAAuC,aAAa,EAAE,EAAE,OAAO,kBAAkB;AACjH;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,4CAA4C;AAC5C;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAM,KAAK,GAAG,CAAd;AACA,IAAM,OAAO,GAAG,CAAhB;AACA,IAAM,WAAW,GAAG,CAApB;AACA,IAAM,OAAO,GAAG,CAAhB;AACA,IAAM,SAAS,GAAG,CAAlB;AAEA,IAAM,YAAY,GAAG,WAArB;AACA,IAAM,SAAS,GAAG,SAAlB;AACA,IAAM,WAAW,GAAG,SAApB;AAEA,IAAM,UAAU,GAAG,EAAnB;AAEA,IAAM,eAAe,GAAG,YAAxB;AAEA,IAAM,eAAe,GAAG,mCAAxB;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAI,SAAS,GAAG,SAAZ,SAAY,CAAC,KAAD,EAAM;AACpB,SAAO,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD,EAAK;AACpB,WAAO;AACL,UAAI,EAAE,IAAI,CAAC,QAAL,CAAc,IADf;AAEL,UAAI,EAAE;AAFD,KAAP;AAID,GALM,CAAP;AAMD,CAPD;;AASA,IAAI,aAAa,GAAG,SAAhB,aAAgB,CAAC,IAAD,EAAK;AACvB,SAAO,IAAI,CAAC,GAAL,CAAS,UAAC,IAAD,EAAK;AACnB,WAAO,IAAI,8CAAJ,CAAQ,IAAR,CAAP;AACD,GAFM,CAAP;AAGD,CAJD;;AAMA,IAAI,aAAa,GAAG,SAAhB,aAAgB,CAAC,KAAD,EAAM;AACxB,SAAO,iEAAG,CAAC,YAAJ,CAAiB,OAAjB,EAA0B,KAA1B,EAAiC,CAAjC,EAAoC,IAApC,CAAP;AACD,CAFD;;AAIA,IAAI,gBAAgB,GAAG,SAAnB,gBAAmB,CAAC,OAAD,EAAQ;AAC7B,SAAO,iEAAG,CAAC,YAAJ,CAAiB,IAAjB,EAAuB,OAAvB,EAAgC,CAAhC,EAAmC,IAAnC,CAAP;AACD,CAFD;;AAIA,IAAI,UAAU,GAAG,SAAb,UAAa,CAAC,GAAD,EAAI;AACnB,SAAO,UAAU,CAAC,GAAD,CAAV,CAAgB,OAAhB,CAAwB,CAAxB,CAAP;AACD,CAFD;;AAIA,IAAI,gBAAgB,GAAG,SAAnB,gBAAmB,CAAC,GAAD,EAAI;AACzB,SAAO,GAAG,GAAG,IAAN,GAAa,GAApB;AACD,CAFD;;AAIA,IAAI,qBAAqB,GAAG,SAAxB,qBAAwB,CAAC,OAAD,EAAQ;AAClC,MAAI,OAAJ,EAAa;AACX,QAAI,MAAM,GAAG,OAAO,CAAC,MAAR,CAAe,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,CAAD,CAAJ;AAAe,KAAxC,CAAb;AACA,WAAO,MAAM,CAAC,MAAM,CAAC,MAAP,GAAgB,CAAjB,CAAN,CAA0B,CAA1B,CAAP;AACD;AACF,CALD;;AAOA,IAAI,aAAa,GAAG,SAAhB,aAAgB,CAAC,IAAD,EAAO,WAAP,EAAkB;AACpC,SAAO,CAAE,UAAU,CAAC,IAAD,CAAV,GAAmB,UAAU,CAAC,WAAD,CAA9B,GAA+C,GAAhD,EAAqD,OAArD,CAA6D,CAA7D,IAAkE,GAAzE;AACD,CAFD;;AAIA,IAAM,mBAAmB,GAAG,SAAtB,mBAAsB,CAAC,MAAD,EAAO;AACjC,MAAI,OAAO,GAAG,CAAd;;AAEA,MAAI;AACF,WAAO,GAAG,MAAM,CAAC,eAAP,CAAuB,QAAvB,CAAgC,SAAhC,CAA0C,OAA1C,CAAkD,KAAlD,CAAwD,GAAxD,EAA6D,CAA7D,CAAV;AACD,GAFD,CAEE,OAAO,CAAP,EAAU;AACV,WAAO,CAAC,KAAR,CAAc,CAAd;AACD;;AAED,SAAO,OAAP;AACD,CAVD;;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;AAIE,2BAAY,EAAZ,EAAc;AAwCd,iCAAwB,UAAC,IAAD,EAAK;AAC3B,UAAI,IAAI,CAAC,MAAT,EAAiB;AACf,YAAI,UAAU,GAAG,IAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,UAAC,GAAD,EAAI;AACtC,iBAAO,GAAG,CAAC,IAAJ,IAAY,GAAG,CAAC,IAAJ,KAAa,OAAhC;AACD,SAFgB,CAAjB;;AAIA,YAAI,UAAJ,EAAgB;AACd,cAAI,IAAI,GAAG,UAAU,CAAC,CAAD,CAAV,CAAc,MAAd,CAAqB,MAArB,CAA4B,MAA5B,CAAmC,UAAC,KAAD,EAAM;AAAK,wBAAK,IAAL;AAAa,WAA3D,CAAX;AACA,cAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAL,GAAc,CAAf,CAAhB;;AACA,cAAI,KAAK,IAAI,IAAb,EAAmB;AACjB,mBAAO,CAAC,GAAR,CAAY,IAAZ;AACD;;AACD,iBAAO,KAAP;AACD;AACF,OAbD,MAaO,IAAI,IAAI,CAAC,UAAT,EAAqB;AAC1B,YAAI,MAAM,GAAG,IAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,UAAC,IAAD,EAAK;AAAK,qBAAI,CAAC,CAAD,CAAJ;AAAe,SAAhD,CAAb;AACA,eAAO,MAAM,CAAC,MAAM,CAAC,MAAP,GAAgB,CAAjB,CAAN,CAA0B,CAA1B,CAAP;AACD,OAHM,MAGA;AACL,eAAO,CAAP;AACD;AACF,KApBD;;AAsBA,qBAAY,UAAC,IAAD,EAAO,KAAP,EAAY;AACtB,UAAI,IAAI,CAAC,MAAL,KAAgB,SAApB,EAA+B;AAC7B,eAAO,IAAI,CAAC,MAAL,CAAY,SAAZ,CAAsB,KAAK,CAAC,MAAN,CAAa,MAAb,GAAsB,CAA5C,EAA+C,IAAI,CAAC,MAAL,CAAY,MAAZ,GAAqB,CAApE,CAAP;AACD;;AAED,UAAI,IAAI,CAAC,IAAL,KAAc,SAAlB,EAA6B;AAC3B,eAAO,IAAI,CAAC,IAAL,CAAU,SAAV,CAAoB,KAAK,CAAC,MAAN,CAAa,MAAb,GAAsB,CAA1C,EAA6C,IAAI,CAAC,IAAL,CAAU,MAAV,GAAmB,CAAhE,CAAP;AACD;AACF,KARD;;AA7DE,SAAK,EAAL,GAAU,EAAV;AACD;;AAED,8CAAM,KAAN,EAAkB,KAAlB,EAA+B;AAA/B;;AAAkB;AAAA;AAAa;;AAC7B,QAAI,IAAI,GAAG;AACT;AACA,WAAK,EAAE;AAAE,YAAI,EAAE,8DAAQ,GAAG,QAAX,CAAoB,CAApB,EAAuB,QAAvB,CAAR;AAA0C,UAAE,EAAE,8DAAQ;AAAtD,OAFE;AAGT,aAAO,EAAE,CAAC;AAAE,YAAI,EAAE,KAAK,CAAC,IAAd;AAAoB,cAAM,EAAE;AAA5B,OAAD,CAHA;AAIT,kBAAY,EAAE,OAAO,KAAK,CAAC,MAAb,GAAsB,IAJ3B;AAKT,cAAQ,EAAE;AALD,KAAX;AAQA,QAAI,GAAG,GAAG,KAAK,EAAL,CAAQ,KAAR,CAAc,IAAd,CAAV;;AACA,QAAI,OAAO,GAAG,CAAC,IAAX,KAAoB,UAAxB,EAAoC;AAClC,SAAG,GAAG,GAAG,CAAC,SAAJ,EAAN;AACD;;AAED,WAAO,GAAG,CAAC,IAAJ,CAAS,UAAC,GAAD,EAAI;AAClB,UAAI,GAAG,IAAI,GAAG,CAAC,IAAf,EAAqB;AACnB,eAAO,KAAI,CAAC,QAAL,CAAc,GAAG,CAAC,IAAlB,EAAwB,KAAxB,EAA+B,KAA/B,CAAP;AACD,OAFD,MAEO;AACL,eAAO,EAAP;AACD;AACF,KANM,CAAP;AAOD,GArBD;;AAuBA,iDAAS,IAAT,EAAe,KAAf,EAAsB,KAAtB,EAAmC;AAAnC;;AAAsB;AAAA;AAAa;;AACjC,WAAO,IAAI,CAAC,GAAL,CAAS,UAAC,IAAD,EAAK;AACnB,UAAI,KAAJ,EAAW;AACT,eAAO,CAAC,GAAR,CAAY,IAAZ;AACD;;AAED,aAAO;AACL,cAAM,EAAE,KAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,KAArB,CADH;AAEL,iBAAS,EAAE,KAAI,CAAC,qBAAL,CAA2B,IAA3B;AAFN,OAAP;AAID,KATM,CAAP;AAUD,GAXD;;AA4CF;AAAC,CA3ED;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAuDC;;AAtDC,kCAAI,GAAJ,EAAe;AACb,WAAO,MAAM,CAAC,YAAP,CAAoB,GAApB,CAAP;AACD,GAFD;;AAIA,kCAAI,GAAJ,EAAiB,KAAjB,EAA2B;AACzB,UAAM,CAAC,YAAP,CAAoB,GAApB,IAA2B,KAA3B;AACD,GAFD;;AAIA,sCAAQ,GAAR,EAAqB,GAArB,EAA6B;AAC3B,QAAI,GAAG,KAAK,KAAK,CAAb,IAAkB,CAAC,KAAK,MAAL,CAAY,GAAZ,CAAvB,EAAyC;AACvC,aAAO,GAAP;AACD;;AACD,WAAO,MAAM,CAAC,YAAP,CAAoB,GAApB,MAA6B,MAApC;AACD,GALD;;AAOA,wCAAU,GAAV,EAAuB,GAAvB,EAAgC;AAC9B,QAAI,GAAG,GAAG,GAAV;;AACA,QAAI,KAAK,MAAL,CAAY,GAAZ,CAAJ,EAAsB;AACpB,UAAM,IAAI,GAAG,MAAM,CAAC,YAAP,CAAoB,GAApB,CAAb;;AACA,UAAI;AACF,WAAG,GAAG,IAAI,CAAC,KAAL,CAAW,IAAX,CAAN;AACD,OAFD,CAEE,OAAO,KAAP,EAAc;AACd,eAAO,CAAC,KAAR,CAAc,iCAA+B,GAA/B,GAAkC,uBAAlC,GAA0D,GAA1D,GAA6D,KAA7D,GAAmE,KAAnE,GAAwE,GAAtF;AACD;AACF;;AACD,WAAO,GAAP;AACD,GAXD,CAhBF,CA6BE;;;AACA,wCAAU,GAAV,EAAuB,KAAvB,EAAiC;AAC/B,QAAI,IAAJ;;AACA,QAAI;AACF,UAAI,GAAG,IAAI,CAAC,SAAL,CAAe,KAAf,CAAP;AACD,KAFD,CAEE,OAAO,KAAP,EAAc;AACd,aAAO,CAAC,KAAR,CAAc,iCAA+B,GAA/B,GAAkC,KAAlC,GAAwC,KAAxC,GAA6C,GAA3D;AACA,aAAO,KAAP;AACD;;AACD,QAAI;AACF,WAAK,GAAL,CAAS,GAAT,EAAc,IAAd;AACD,KAFD,CAEE,OAAO,KAAP,EAAc;AACd;AACA,aAAO,CAAC,KAAR,CAAc,0CAAwC,GAAxC,GAA2C,KAA3C,GAAiD,KAAjD,GAAsD,GAApE;AACA,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD,GAhBD;;AAkBA,qCAAO,GAAP,EAAkB;AAChB,WAAO,MAAM,CAAC,YAAP,CAAoB,GAApB,MAA6B,KAAK,CAAzC;AACD,GAFD;;AAIA,wCAAO,GAAP,EAAkB;AAChB,UAAM,CAAC,YAAP,CAAoB,UAApB,CAA+B,GAA/B;AACD,GAFD;;AAGF;AAAC,CAvDD;;;AAyDO,IAAM,KAAK,GAAG,IAAI,KAAJ,EAAd;AACQ,oEAAf,E;;;;;;;;;;;;;;;;;;AC1DA;AACA;;AAEA;AAAA;AAAA;AAA+B;;AAC7B,qBAAY,IAAZ,EAAgB;WACd,kBAAM,IAAN,KAAW,I;AACZ;;AAED,wBAAI,mBAAJ,EAAI,QAAJ,EAAU;SAAV;AACE,UAAI,IAAI,GAAG,KAAK,IAAL,CAAU,UAAV,CAAqB,MAArB,CAA4B,UAAC,IAAD,EAAK;AAAK,mBAAI,CAAC,IAAL;AAAuB,OAA7D,EAA+D,CAA/D,CAAX;;AAEA,UAAI,IAAI,KAAK,SAAT,IAAsB,IAAI,CAAC,MAAL,KAAgB,MAA1C,EAAkD;AAChD,eAAO,yDAAP;AACD,OAFD,MAEO;AACL,eAAO,uDAAP;AACD;AACF,KARS;qBAAA;;AAAA,GAAV;AAUA,wBAAI,mBAAJ,EAAI,OAAJ,EAAS;SAAT;AACE,cAAQ,KAAK,MAAb;AACE,aAAK,yDAAL;AACE,iBAAO,6DAAP;;AACF,aAAK,uDAAL;AACE,iBAAO,2DAAP;;AACF;AACE;AANJ;AAQD,KATQ;qBAAA;;AAAA,GAAT;AAWA,wBAAI,mBAAJ,EAAI,SAAJ,EAAW;SAAX;AACE,UAAI,UAAU,GAAG,KAAK,IAAL,CAAU,UAA3B;;AAEA,UAAI,UAAJ,EAAgB;AACd,YAAI,OAAO,GAAG,UAAU,CAAC,MAAX,CAAkB,UAAC,IAAD,EAAK;AAAK,qBAAI,CAAC,IAAL;AAAuB,SAAnD,EAAqD,CAArD,CAAd;AACA,eAAO,OAAO,IAAI,OAAO,CAAC,OAA1B;AACD;AACF,KAPU;qBAAA;;AAAA,GAAX;AAQF;AAAC,CAlCD,CAA+B,wEAA/B;;;;;;;;;;;;;;;;;;;ACFA;;AAEA;AAAA;AAAA;AAA6B;;AAG3B,mBAAY,IAAZ,EAAgB;AAAhB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,IAAL,GAAY,EAAZ;;AACD;;AACH;AAAC,CAPD,CAA6B,wEAA7B;;;;;;;;;;;;;;;;;;;ACDA;;AAEA;AAAA;AAAA;AAA+B;;AAI7B,qBAAY,IAAZ,EAAqB;AAArB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,IAAL,GAAY,EAAZ;;AACD;;AACH;AAAC,CARD,CAA+B,wEAA/B;;;;;;;;;;;;;;;;;;;ACFA;;AAEA;AAAA;AAAA;AAAgC;;AAI9B,sBAAY,IAAZ,EAAqB;AAArB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,IAAL,GAAY,EAAZ;AACA,SAAI,CAAC,QAAL,GAAgB,EAAhB;;AACD;;AACH;AAAC,CATD,CAAgC,2DAAhC;;;;;;;;;;;;;;;;;;;ACHA;;AAEA;AAAA;AAAA;AAAyB;;AAGvB,eAAY,IAAZ,EAAgB;AAAhB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,IAAL,GAAY,EAAZ;;AACD;;AACH;AAAC,CAPD,CAAyB,wEAAzB;;;;;;;;;;;;;;;;;;;;ACAA;AAIA;;AAEA;AAAA;AAAA;AAA+B;;AAS7B,qBAAY,IAAZ,EAAgB;AAAhB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,WAAL,GAAmB,EAAnB;AACA,SAAI,CAAC,YAAL,GAAoB,EAApB;AACA,SAAI,CAAC,UAAL,GAAkB,EAAlB;AACA,SAAI,CAAC,KAAL,GAAa,CAAC;AAAE,UAAI,EAAE;AAAR,KAAD,CAAb;AACA,SAAI,CAAC,IAAL,GAAY,MAAZ;;AACD;;AAED;AAAA;;AACE,qBAAM,MAAN,CAAY,IAAZ,CAAY,IAAZ;;AACA,QAAI,cAAc,GAAG,qDAAK,CAAC,SAAN,CAAgB,gBAAhB,CAArB;AACA,QAAI,KAAK,GAAG,cAAc,CAAC,SAAf,CAAyB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,IAAL,KAAc,KAAI,CAAlB;AAAuB,KAA1D,CAAZ;;AACA,QAAI,KAAK,IAAI,KAAK,KAAK,CAAvB,EAA0B;AACxB,oBAAc,CAAC,KAAD,CAAd,CAAsB,IAAtB,GAA6B,KAAK,IAAlC;AACD;;AACD,yDAAK,CAAC,SAAN,CAAgB,gBAAhB,EAAkC,cAAlC;AACD,GARD;;AASF;AAAC,CA3BD,CAA+B,wEAA/B;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAA0B;;AA2BxB,gBAAY,IAAZ,EAAgB;AAAhB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,UAAL,GAAkB,EAAlB;AACA,SAAI,CAAC,OAAL,GAAe;AACb,aAAO,EAAE,KADI;AAEb,gBAAU,EAAE,KAFC;AAGb,eAAS,EAAE,KAHE;AAIb,kBAAY,EAAE,KAJD;AAKb,qBAAe,EAAE,KALJ;AAMb,cAAQ,EAAE,KANG;AAOb,iBAAW,EAAE;AAPA,KAAf;AASA,SAAI,CAAC,WAAL,GAAmB,KAAnB;AACA,SAAI,CAAC,cAAL,GAAsB,KAAtB;AACA,SAAI,CAAC,YAAL,GAAoB,KAApB;AACA,SAAI,CAAC,oBAAL,GAA4B,KAA5B;AACA,SAAI,CAAC,uBAAL,GAA+B,KAA/B;AACA,SAAI,CAAC,qBAAL,GAA6B,KAA7B;AACA,SAAI,CAAC,gBAAL,GAAwB,KAAxB;AACA,SAAI,CAAC,mBAAL,GAA2B,KAA3B;;AACA,SAAI,CAAC,WAAL;;AACA,SAAI,CAAC,MAAL,GAAc,qDAAK,CAAC,OAAN,CAAc,KAAI,CAAC,IAAL,GAAY,QAA1B,EAAoC,KAApC,CAAd;;AACD;;AAED;AAAA;;AACE,qBAAM,MAAN,CAAY,IAAZ,CAAY,IAAZ;;AACA,QAAI,SAAS,GAAG,qDAAK,CAAC,SAAN,CAAgB,WAAhB,CAAhB;AACA,QAAI,KAAK,GAAG,SAAS,CAAC,SAAV,CAAoB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,IAAL,KAAc,KAAI,CAAlB;AAAuB,KAArD,CAAZ;;AACA,QAAI,KAAK,IAAI,KAAK,KAAK,CAAvB,EAA0B;AACxB,eAAS,CAAC,KAAD,CAAT,CAAiB,IAAjB,GAAwB,KAAK,IAA7B;AACD;;AACD,yDAAK,CAAC,SAAN,CAAgB,WAAhB,EAA6B,SAA7B;AACD,GARD;;AAUA;AACE,QAAI,qDAAK,CAAC,GAAN,CAAU,KAAK,IAAL,GAAY,QAAtB,MAAoC,SAAxC,EAAmD;AACjD,2DAAK,CAAC,GAAN,CAAU,KAAK,IAAL,GAAY,QAAtB,EAAgC,IAAhC;AACD;;AAED,WAAO,qDAAK,CAAC,GAAN,CAAU,KAAK,IAAL,GAAY,QAAtB,CAAP;AACD,GAND;;AAQA,wBAAI,cAAJ,EAAI,QAAJ,EAAU;SAAV;AACE,UAAI,IAAI,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,UAAjB,CAA4B,MAA5B,CAAmC,UAAC,IAAD,EAAK;AAAK,mBAAI,CAAC,IAAL;AAAqB,OAAlE,EAAoE,CAApE,CAAX;;AAEA,UAAI,IAAI,KAAK,SAAT,IAAsB,IAAI,CAAC,MAAL,KAAgB,MAA1C,EAAkD;AAChD,eAAO,kDAAP;AACD,OAFD,MAEO;AACL,eAAO,gDAAP;AACD;AACF,KARS;qBAAA;;AAAA,GAAV;AAUA,wBAAI,cAAJ,EAAI,WAAJ,EAAa;SAAb;AACE,UAAI,KAAK,UAAT,EAAqB;AACnB,eAAO,KAAK,UAAL,CAAgB,MAAhB,CAAuB,UAAC,WAAD,EAAc,YAAd,EAA0B;AACtD,iBAAO,WAAW,GAAG,YAAY,CAAC,IAAb,CAAkB,MAAvC;AACD,SAFM,EAEJ,CAFI,CAAP;AAGD;;AACD,aAAO,CAAP;AACD,KAPY;qBAAA;;AAAA,GAAb;AASA,wBAAI,cAAJ,EAAI,OAAJ,EAAS;SAAT;AACE,UAAI,KAAK,MAAL,KAAgB,kDAApB,EAA6B;AAC3B,eAAO,SAAP;AACD,OAFD,MAEO;AACL,eAAO,oDAAP;AACD;AACF,KANQ;qBAAA;;AAAA,GAAT;AAQA,wBAAI,cAAJ,EAAI,SAAJ,EAAW;SAAX;AACE,UAAI,KAAK,MAAL,KAAgB,kDAApB,EAA6B;AAC3B,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,kBAAP;AACD;AACF,KANU;qBAAA;;AAAA,GAAX;AAQA,wBAAI,cAAJ,EAAI,WAAJ,EAAa;SAAb;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AACD,aAAO,KAAK,WAAL,CAAiB,KAAK,OAAL,CAAa,OAA9B,EAAuC,GAAvC,CAAP;AACD,KANY;qBAAA;;AAAA,GAAb;AAQA,wBAAI,cAAJ,EAAI,oBAAJ,EAAsB;SAAtB;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AACD,aAAO,KAAK,oBAAL,CAA0B,KAAK,OAAL,CAAa,YAAvC,EAAqD,GAArD,CAAP;AACD,KANqB;qBAAA;;AAAA,GAAtB;AAQA,wBAAI,cAAJ,EAAI,gBAAJ,EAAkB;SAAlB;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AACD,aAAO,KAAK,gBAAL,CAAsB,KAAK,OAAL,CAAa,QAAnC,EAA6C,GAA7C,CAAP;AACD,KANiB;qBAAA;;AAAA,GAAlB;AAQA,wBAAI,cAAJ,EAAI,cAAJ,EAAgB;SAAhB;AACE,aAAO,KAAK,WAAL,CAAiB,KAAK,OAAL,CAAa,UAA9B,EAA0C,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAA1C,CAAP;AACD,KAFe;qBAAA;;AAAA,GAAhB;AAIA,wBAAI,cAAJ,EAAI,uBAAJ,EAAyB;SAAzB;AACE,aAAO,KAAK,oBAAL,CACL,KAAK,OAAL,CAAa,eADR,EAEL,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAFK,CAAP;AAID,KALwB;qBAAA;;AAAA,GAAzB;AAOA,wBAAI,cAAJ,EAAI,mBAAJ,EAAqB;SAArB;AACE,aAAO,KAAK,gBAAL,CAAsB,KAAK,OAAL,CAAa,WAAnC,EAAgD,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAAhD,CAAP;AACD,KAFoB;qBAAA;;AAAA,GAArB;AAIA,wBAAI,cAAJ,EAAI,YAAJ,EAAc;SAAd;AACE,aAAO,KAAK,WAAL,CAAiB,KAAK,OAAL,CAAa,SAA9B,EAAyC,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,IAAtE,CAAP;AACD,KAFa;qBAAA;;AAAA,GAAd;AAIA,wBAAI,cAAJ,EAAI,qBAAJ,EAAuB;SAAvB;AACE,aAAO,KAAK,oBAAL,CAA0B,KAAK,OAAL,CAAa,SAAvC,EAAkD,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,IAA/E,CAAP;AACD,KAFsB;qBAAA;;AAAA,GAAvB;AAIA,wBAAI,cAAJ,EAAI,QAAJ,EAAU;SAAV;AACE,aAAO,KAAK,IAAL,CAAU,MAAV,CAAiB,SAAjB,CAA2B,MAA3B,CAAkC,UAAC,IAAD,EAAK;AAAK,mBAAI,CAAC,IAAL;AAA0B,OAAtE,EAAwE,CAAxE,EAA2E,OAAlF;AACD,KAFS;qBAAA;;AAAA,GAAV;AAIA,wBAAI,cAAJ,EAAI,yBAAJ,EAA2B;SAA3B;AACE,aAAO,8DAAa,CAAC,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,QAAjB,CAA0B,MAA1C,CAAD,CAApB;AACD,KAF0B;qBAAA;;AAAA,GAA3B;AAIA,wBAAI,cAAJ,EAAI,4BAAJ,EAA8B;SAA9B;AACE,aAAO,8DAAa,CAAC,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAAD,CAApB;AACD,KAF6B;qBAAA;;AAAA,GAA9B;AAIA,wBAAI,cAAJ,EAAI,yBAAJ,EAA2B;SAA3B;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AACD,aAAO,GAAP;AACD,KAN0B;qBAAA;;AAAA,GAA3B;AAUA,wBAAI,cAAJ,EAAI,qBAAJ,EAAuB;AAFvB;SAEA;AACE,aACE,8DAAa,CAAC,KAAK,OAAL,CAAa,UAAd,CAAb,GACA,IADA,GAEA,8DAAa,CAAC,KAAK,OAAL,CAAa,UAAd,EAA0B,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAA1B,CAFb,GAGA,GAJF;AAMD,KAPsB;qBAAA;;AAAA,GAAvB;AASA,wBAAI,cAAJ,EAAI,0BAAJ,EAA4B;SAA5B;AACE,aACE,8DAAa,CAAC,KAAK,OAAL,CAAa,eAAd,CAAb,GACA,IADA,GAEA,8DAAa,CAAC,KAAK,OAAL,CAAa,eAAd,EAA+B,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAA/B,CAFb,GAGA,GAJF;AAMD,KAP2B;qBAAA;;AAAA,GAA5B;AASA,wBAAI,cAAJ,EAAI,sBAAJ,EAAwB;SAAxB;AACE,aACE,8DAAa,CAAC,KAAK,OAAL,CAAa,WAAd,CAAb,GACA,IADA,GAEA,8DAAa,CAAC,KAAK,OAAL,CAAa,WAAd,EAA2B,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAA3B,CAFb,GAGA,GAJF;AAMD,KAPuB;qBAAA;;AAAA,GAAxB;AASA,wBAAI,cAAJ,EAAI,kBAAJ,EAAoB;SAApB;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AAED,aAAO,2DAAU,CAAC,KAAK,OAAL,CAAa,OAAd,CAAV,GAAmC,IAAnC,GAA0C,8DAAa,CAAC,KAAK,OAAL,CAAa,OAAd,EAAuB,GAAvB,CAAvD,GAAqF,GAA5F;AACD,KAPmB;qBAAA;;AAAA,GAApB;AASA,wBAAI,cAAJ,EAAI,uBAAJ,EAAyB;SAAzB;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AAED,aAAO,2DAAU,CAAC,KAAK,OAAL,CAAa,YAAd,CAAV,GAAwC,IAAxC,GAA+C,8DAAa,CAAC,KAAK,OAAL,CAAa,YAAd,EAA4B,GAA5B,CAA5D,GAA+F,GAAtG;AACD,KAPwB;qBAAA;;AAAA,GAAzB;AASA,wBAAI,cAAJ,EAAI,mBAAJ,EAAqB;SAArB;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AAED,aAAO,2DAAU,CAAC,KAAK,OAAL,CAAa,QAAd,CAAV,GAAoC,IAApC,GAA2C,8DAAa,CAAC,KAAK,OAAL,CAAa,QAAd,EAAwB,GAAxB,CAAxD,GAAuF,GAA9F;AACD,KAPoB;qBAAA;;AAAA,GAArB;AASA,wBAAI,cAAJ,EAAI,mBAAJ,EAAqB;SAArB;AACE,aACE,KAAK,OAAL,CAAa,SAAb,GAAyB,IAAzB,GAAgC,8DAAa,CAAC,KAAK,OAAL,CAAa,SAAd,EAAyB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,IAAtD,CAA7C,GAA2G,GAD7G;AAGD,KAJoB;qBAAA;;AAAA,GAArB;AAMA,wBAAI,cAAJ,EAAI,wBAAJ,EAA0B;SAA1B;AACE,aACE,KAAK,OAAL,CAAa,SAAb,GAAyB,IAAzB,GAAgC,8DAAa,CAAC,KAAK,OAAL,CAAa,SAAd,EAAyB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,IAAtD,CAA7C,GAA2G,GAD7G;AAGD,KAJyB;qBAAA;;AAAA,GAA1B;AAQA,wBAAI,cAAJ,EAAI,gBAAJ,EAAkB;AAFlB;SAEA;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AACD,aAAO,2DAAU,CAAC,KAAK,OAAL,CAAa,OAAd,CAAV,GAAmC,KAAnC,GAA2C,GAA3C,GAAiD,IAAjD,GAAwD,8DAAa,CAAC,KAAK,OAAL,CAAa,OAAd,EAAuB,GAAvB,CAArE,GAAmG,GAA1G;AACD,KANiB;qBAAA;;AAAA,GAAlB;AAQA,wBAAI,cAAJ,EAAI,qBAAJ,EAAuB;SAAvB;AACE,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,GAAvC;;AACA,UAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,IAAmB,CAAC,CAAxB,EAA2B;AACzB,WAAG,GAAG,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAR,GAAoB,IAA1B;AACD;;AACD,aACE,2DAAU,CAAC,KAAK,OAAL,CAAa,YAAd,CAAV,GAAwC,KAAxC,GAAgD,GAAhD,GAAsD,IAAtD,GAA6D,8DAAa,CAAC,KAAK,OAAL,CAAa,YAAd,EAA4B,GAA5B,CAA1E,GAA6G,GAD/G;AAGD,KARsB;qBAAA;;AAAA,GAAvB;AAUA,wBAAI,cAAJ,EAAI,mBAAJ,EAAqB;SAArB;AACE,UAAI,IAAI,GAAG,KAAK,OAAL,CAAa,UAAxB;;AACA,UAAI,WAAW,GAAG,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAAlB;;AACA,UAAI,OAAO,GAAG,8DAAa,CAAC,IAAD,EAAO,WAAP,CAA3B;;AACA,aAAO,8DAAa,CAAC,IAAD,CAAb,GAAsB,KAAtB,GAA8B,8DAAa,CAAC,WAAD,CAA3C,GAA2D,IAA3D,GAAkE,OAAlE,GAA4E,IAAnF;AACD,KALoB;qBAAA;;AAAA,GAArB;AAOA,wBAAI,cAAJ,EAAI,wBAAJ,EAA0B;SAA1B;AACE,UAAI,WAAW,GAAG,KAAK,UAAL,CAAgB,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,MAA7C,CAAlB;;AACA,UAAI,OAAO,GAAG,8DAAa,CAAC,KAAK,OAAL,CAAa,eAAd,EAA+B,WAA/B,CAA3B;;AACA,aAAO,8DAAa,CAAC,KAAK,OAAL,CAAa,eAAd,CAAb,GAA8C,KAA9C,GAAsD,8DAAa,CAAC,WAAD,CAAnE,GAAmF,IAAnF,GAA0F,OAA1F,GAAoG,IAA3G;AACD,KAJyB;qBAAA;;AAAA,GAA1B;AAMA,wBAAI,cAAJ,EAAI,iBAAJ,EAAmB;SAAnB;AACE,UAAI,IAAI,GAAG,KAAK,OAAL,CAAa,SAAxB;AACA,UAAI,WAAW,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,WAAjB,CAA6B,IAA/C;;AACA,UAAI,OAAO,GAAG,8DAAa,CAAC,IAAD,EAAO,WAAP,CAA3B;;AACA,aAAO,IAAI,GAAG,KAAP,GAAe,WAAf,GAA6B,IAA7B,GAAoC,OAApC,GAA8C,IAArD;AACD,KALkB;qBAAA;;AAAA,GAAnB;AASA,wBAAI,cAAJ,EAAI,aAAJ,EAAe;AAFf;SAEA;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,SAArB,CAAP;AACD,KAFc;qBAAA;;AAAA,GAAf;AAIA,wBAAI,cAAJ,EAAI,sBAAJ,EAAwB;SAAxB;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,kBAArB,CAAP;AACD,KAFuB;qBAAA;;AAAA,GAAxB;AAIA,wBAAI,cAAJ,EAAI,kBAAJ,EAAoB;SAApB;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,cAArB,CAAP;AACD,KAFmB;qBAAA;;AAAA,GAApB;AAIA,wBAAI,cAAJ,EAAI,gBAAJ,EAAkB;SAAlB;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,YAArB,CAAP;AACD,KAFiB;qBAAA;;AAAA,GAAlB;AAIA,wBAAI,cAAJ,EAAI,yBAAJ,EAA2B;SAA3B;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,qBAArB,CAAP;AACD,KAF0B;qBAAA;;AAAA,GAA3B;AAIA,wBAAI,cAAJ,EAAI,qBAAJ,EAAuB;SAAvB;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,iBAArB,CAAP;AACD,KAFsB;qBAAA;;AAAA,GAAvB;AAIA,wBAAI,cAAJ,EAAI,cAAJ,EAAgB;SAAhB;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,UAArB,CAAP;AACD,KAFe;qBAAA;;AAAA,GAAhB;AAIA,wBAAI,cAAJ,EAAI,uBAAJ,EAAyB;SAAzB;AACE,aAAO,KAAK,UAAL,CAAgB,KAAK,mBAArB,CAAP;AACD,KAFwB;qBAAA;;AAAA,GAAzB;;AAIA,0CAAa,MAAb,EAAqB,SAArB,EAAgC,IAAhC,EAAsC,OAAtC,EAA+C,UAA/C,EAA2D,QAA3D,EAAqE,WAArE,EAAgF;AAC9E,QAAM,aAAa,GAAG;AACpB,gBAAU,EAAE,KAAK,UADG;AAEpB,yBAAmB,EAAE,KAAK,mBAFN;AAGpB,eAAS,EAAE,KAAK,SAHI;AAIpB,wBAAkB,EAAE,KAAK,kBAJL;AAKpB,oBAAc,EAAE,KAAK,cALD;AAMpB,kBAAY,EAAE,KAAK,YANC;AAOpB,2BAAqB,EAAE,KAAK,qBAPR;AAQpB,uBAAiB,EAAE,KAAK;AARJ,KAAtB;AAWA,SAAK,OAAL,CAAa,YAAb,GAA4B,KAAK,eAAL,CAAqB,MAArB,CAA5B;AACA,SAAK,OAAL,CAAa,eAAb,GAA+B,KAAK,eAAL,CAAqB,SAArB,CAA/B;AACA,SAAK,OAAL,CAAa,SAAb,GAAyB,KAAK,yBAAL,CAA+B,IAA/B,CAAzB;AACA,SAAK,OAAL,CAAa,OAAb,GAAuB,KAAK,yBAAL,CAA+B,OAA/B,CAAvB;AACA,SAAK,OAAL,CAAa,UAAb,GAA0B,KAAK,yBAAL,CAA+B,UAA/B,CAA1B;AACA,SAAK,OAAL,CAAa,QAAb,GAAwB,KAAK,yBAAL,CAA+B,QAA/B,CAAxB;AACA,SAAK,OAAL,CAAa,WAAb,GAA2B,KAAK,yBAAL,CAA+B,WAA/B,CAA3B;;AAEA,SAAK,IAAM,IAAX,IAAmB,aAAnB,EAAkC;AAChC,UAAI,aAAa,CAAC,cAAd,CAA6B,IAA7B,KAAsC,KAAK,cAAL,CAAoB,IAApB,CAA1C,EAAqE;AACnE,YAAI,aAAa,CAAC,IAAD,CAAb,KAAwB,SAAxB,IAAqC,aAAa,CAAC,IAAD,CAAb,KAAwB,KAAK,IAAL,CAAjE,EAA6E;AAC3E,eAAK,kBAAL,CAAwB,IAAxB;AACD;AACF;AACF;AACF,GA3BD;;AA6BA,gDAAmB,YAAnB,EAA+B;AAA/B;;AACE,QAAM,GAAG,GAAG;AACV,gBAAU,EAAE,cADF;AAEV,yBAAmB,EAAE,uBAFX;AAGV,eAAS,EAAE,aAHD;AAIV,wBAAkB,EAAE,sBAJV;AAKV,oBAAc,EAAE,kBALN;AAMV,kBAAY,EAAE,gBANJ;AAOV,2BAAqB,EAAE,yBAPb;AAQV,uBAAiB,EAAE;AART,KAAZ;;AAUA,QAAI,GAAG,CAAC,YAAD,CAAH,IAAqB,KAAK,cAAL,CAAoB,GAAG,CAAC,YAAD,CAAvB,CAAzB,EAAiE;AAC/D,WAAK,GAAG,CAAC,YAAD,CAAR,IAA0B,IAA1B;AACA,gBAAU,CAAC;AACT,aAAI,CAAC,GAAG,CAAC,YAAD,CAAJ,CAAJ,GAA0B,KAA1B;AACD,OAFS,EAEP,KAFO,CAAV;AAGD;AACF,GAjBD;;AAmBA,uDAA0B,OAA1B,EAAiC;AAAjC;;AACE,QAAM,UAAU,GAAG,OAAO,CAAC,MAAR,CAAe,UAAC,IAAD,EAAK;AACrC,aAAO,IAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,KAAI,CAAC,MAA1B,KAAqC,IAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,KAAI,CAAC,IAA1B,CAA5C;AACD,KAFkB,EAEhB,CAFgB,CAAnB;;AAIA,QAAI,UAAU,KAAK,SAAnB,EAA8B;AAC5B,aAAO,UAAU,CAAC,SAAlB;AACD;;AACD,WAAO,KAAP;AACD,GATD;;AAWA,6CAAgB,OAAhB,EAAuB;AAAvB;;AACE,QAAM,UAAU,GAAG,OAAO,CAAC,MAAR,CAAe,UAAC,IAAD,EAAK;AACrC,aAAO,IAAI,CAAC,MAAL,KAAgB,KAAI,CAAC,IAA5B;AACD,KAFkB,EAEhB,CAFgB,CAAnB;;AAIA,QAAI,UAAU,KAAK,SAAnB,EAA8B;AAC5B,aAAO,UAAU,CAAC,SAAlB;AACD;;AACD,WAAO,KAAP;AACD,GATD;;AAWA,wCAAW,GAAX,EAAsB;AACpB,QAAI,KAAK,GAAG,KAAK,UAAL,CAAgB,GAAhB,IAAuB,IAAnC;;AACA,QAAI,GAAG,CAAC,OAAJ,CAAY,IAAZ,IAAoB,CAAC,CAAzB,EAA4B;AAC1B,WAAK,GAAG,KAAK,GAAG,IAAhB;AACD;;AACD,WAAO,KAAP;AACD,GAND;;AAQA,wCAAW,GAAX,EAAsB;AACpB,WAAO,QAAQ,CAAC,GAAD,EAAM,EAAN,CAAf;AACD,GAFD;;AAIA,yCAAY,IAAZ,EAAkB,WAAlB,EAA6B;AAC3B,QAAI,IAAI,GAAG,IAAI,GAAG,WAAlB;;AAEA,QAAI,IAAI,IAAI,GAAZ,EAAiB;AACf,aAAO,kDAAP;AACD,KAFD,MAEO,IAAI,IAAI,GAAG,GAAP,IAAc,IAAI,IAAI,GAA1B,EAA+B;AACpC,aAAO,kDAAP;AACD,KAFM,MAEA,IAAI,IAAI,GAAG,GAAX,EAAgB;AACrB,aAAO,gDAAP;AACD,KAFM,MAEA;AACL;AACD;AACF,GAZD;;AAcA,kDAAqB,SAArB,EAAgC,WAAhC,EAA2C;AACzC,QAAI,IAAI,GAAG,SAAS,GAAG,WAAvB;;AAEA,QAAI,IAAI,IAAI,GAAZ,EAAiB;AACf,aAAO,kDAAP;AACD,KAFD,MAEO,IAAI,IAAI,GAAG,GAAP,IAAc,IAAI,IAAI,GAA1B,EAA+B;AACpC,aAAO,kDAAP;AACD,KAFM,MAEA,IAAI,IAAI,GAAG,GAAX,EAAgB;AACrB,aAAO,gDAAP;AACD,KAFM,MAEA;AACL;AACD;AACF,GAZD;;AAcA,8CAAiB,KAAjB,EAAwB,WAAxB,EAAmC;AACjC,QAAI,IAAI,GAAG,KAAK,GAAG,WAAnB;;AAEA,QAAI,IAAI,IAAI,GAAZ,EAAiB;AACf,aAAO,kDAAP;AACD,KAFD,MAEO,IAAI,IAAI,GAAG,GAAP,IAAc,IAAI,IAAI,CAA1B,EAA6B;AAClC,aAAO,kDAAP;AACD,KAFM,MAEA,IAAI,IAAI,GAAG,CAAX,EAAc;AACnB,aAAO,gDAAP;AACD;;AACD;AACD,GAXD;;AAaA,wCAAW,MAAX,EAAiB;AACf,YAAQ,MAAR;AACE,WAAK,kDAAL;AACE,eAAO,sDAAP;;AACF,WAAK,kDAAL;AACE,eAAO,uDAAP;;AACF,WAAK,gDAAL;AACE,eAAO,oDAAP;;AACF;AACE;AARJ;AAUD,GAXD;;AAYF;AAAC,CAhcD,CAA0B,wEAA1B;;;;;;;;;;;;;;;;;;;;ACNA;AACA;;AAEA;AAAA;AAAA;AAAyB;;AAoBvB,eAAY,IAAZ,EAAgB;AAAhB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAFQ,yBAAuB,IAAvB;AAIN,SAAI,CAAC,OAAL,GAAe;AACb,aAAO,EAAE,KADI;AAEb,gBAAU,EAAE,KAFC;AAGb,kBAAY,EAAE,KAHD;AAIb,qBAAe,EAAE,KAJJ;AAKb,cAAQ,EAAE,KALG;AAMb,iBAAW,EAAE;AANA,KAAf;AAQA,SAAI,CAAC,aAAL,GAAqB;AACnB,aAAO,EAAE,IADU;AAEnB,gBAAU,EAAE,IAFO;AAGnB,kBAAY,EAAE,IAHK;AAInB,qBAAe,EAAE,IAJE;AAKnB,cAAQ,EAAE,IALS;AAMnB,iBAAW,EAAE;AANM,KAArB;AAQA,SAAI,CAAC,IAAL,GAAY,KAAZ;;AACD;;AAED,wBAAI,aAAJ,EAAI,QAAJ,EAAU;SAAV;AACE,UAAI,KAAK,IAAL,CAAU,QAAV,CAAmB,iBAAvB,EAA0C;AACxC,eAAO,sDAAP;AACD,OAFD,MAEO,IAAI,KAAK,IAAL,CAAU,MAAV,CAAiB,KAAjB,KAA2B,SAA/B,EAA0C;AAC/C,YAAI,eAAe,SAAnB;AACA,YAAI,iBAAiB,SAArB;AACA,YAAI,qBAAqB,SAAzB;;AAEA,YAAI,KAAK,IAAL,CAAU,MAAV,CAAiB,UAArB,EAAiC;AAC/B,yBAAe,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,UAAjB,CAA4B,MAA5B,CAAmC,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,MAAL;AAAuB,WAApE,CAAlB;AACA,yBAAe,CAAC,MAAhB,GAAyB,CAAzB,GAA8B,eAAe,GAAG,IAAhD,GAAyD,eAAe,GAAG,KAA3E;AACD;;AACD,YAAI,KAAK,IAAL,CAAU,MAAV,CAAiB,iBAArB,EAAwC;AACtC,2BAAiB,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,iBAAjB,CAAmC,MAAnC,CAA0C,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,KAAL;AAAoB,WAAxE,CAApB;AACA,2BAAiB,CAAC,MAAlB,GAA2B,CAA3B,GAAgC,iBAAiB,GAAG,IAApD,GAA6D,iBAAiB,GAAG,KAAjF;AACD;;AACD,YAAI,KAAK,IAAL,CAAU,MAAV,CAAiB,qBAArB,EAA4C;AAC1C,+BAAqB,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,qBAAjB,CAAuC,MAAvC,CAA8C,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,KAAL;AAAoB,WAA5E,CAAxB;AACA,+BAAqB,CAAC,MAAtB,GAA+B,CAA/B,GAAoC,qBAAqB,GAAG,IAA5D,GAAqE,qBAAqB,GAAG,KAA7F;AACD;;AACD,YAAI,eAAe,IAAI,iBAAnB,IAAwC,qBAA5C,EAAmE;AACjE,iBAAO,gDAAP;AACD,SAFD,MAEO;AACL,iBAAO,kDAAP;AACD;AACF,OAtBM,MAsBA;AACL,gBAAQ,KAAK,IAAL,CAAU,MAAV,CAAiB,KAAzB;AACE,eAAK,SAAL;AACE,mBAAO,kDAAP;;AACF,eAAK,WAAL;AACE,mBAAO,oDAAP;;AACF,eAAK,QAAL;AACE,mBAAO,gDAAP;;AACF,eAAK,SAAL;AACE,mBAAO,gDAAP;;AACF;AACE,mBAAO,gDAAP;AAVJ;AAYD;AACF,KAvCS;qBAAA;;AAAA,GAAV;AAyCA,wBAAI,aAAJ,EAAI,OAAJ,EAAS;SAAT;AACE,cAAQ,KAAK,MAAb;AACE,aAAK,gDAAL;AACE,iBAAO,OAAP;;AACF,aAAK,kDAAL;AACE,iBAAO,SAAP;;AACF,aAAK,sDAAL;AACE,iBAAO,aAAP;;AACF,aAAK,kDAAL;AACE,iBAAO,SAAP;;AACF,aAAK,oDAAL;AACE,iBAAO,WAAP;;AACF;AACE,iBAAO,SAAP;AAZJ;AAcD,KAfQ;qBAAA;;AAAA,GAAT;AAiBA,wBAAI,aAAJ,EAAI,SAAJ,EAAW;SAAX;AACE,UAAI,KAAK,YAAT,EAAuB;AACrB,eAAO,KAAK,YAAZ;AACD;;AAED,UAAI,MAAM,GAAG,KAAK,MAAlB;AACA,UAAI,IAAI,GAAG,KAAK,IAAhB;AACA,UAAI,KAAK,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,KAA7B;AACA,UAAI,OAAO,GAAG,YAAY,KAA1B;;AACA,UAAI,MAAM,KAAK,gDAAf,EAAsB;AACpB,YAAI,IAAI,CAAC,MAAL,CAAY,iBAAhB,EAAmC;AACjC,cAAI,CAAC,GAAG,IAAI,CAAC,MAAL,CAAY,iBAAZ,CAA8B,MAA9B,CAAqC,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,KAAL;AAAoB,WAAnE,EAAqE,CAArE,CAAR;;AACA,cAAI,CAAC,IAAI,CAAC,CAAC,KAAP,IAAgB,CAAC,CAAC,KAAF,CAAQ,OAA5B,EAAqC;AACnC,gBAAI,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,OAAhB,IAA2B,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,MAA/C,EAAuD;AACrD,qBAAO,GAAG,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,MAAhB,GAAyB,IAAzB,GAAgC,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,OAA1D;AACA,qBAAO,OAAP;AACD;AACF;AACF,SARD,MAQO,IAAI,IAAI,CAAC,MAAL,CAAY,UAAhB,EAA4B;AACjC,cAAI,CAAC,GAAG,IAAI,CAAC,MAAL,CAAY,UAAZ,CAAuB,MAAvB,CACN,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,KAAL,KAAe,KAAf,IAAyB,IAAI,CAAC,IAAL,KAAc,cAAd,IAAgC,IAAI,CAAC,MAAL,KAAzD;AAAiF,WADrF,EAEN,CAFM,CAAR;;AAGA,cAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,mBAAO,CAAC,CAAC,OAAT;AACD;AACF,SAPM,MAOA,IAAI,IAAI,CAAC,MAAL,CAAY,OAAhB,EAAyB;AAC9B,iBAAO,IAAI,CAAC,MAAL,CAAY,OAAnB;AACD;;AACD,eAAO,iBAAP;AACD,OApBD,MAoBO;AACL,YAAI,KAAK,IAAL,CAAU,QAAV,CAAmB,iBAAvB,EAA0C;AACxC,iBAAO,oBAAP;AACD,SAFD,MAEO,IAAI,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,WAArC,EAAkD;AACvD,iBAAO,YAAY,KAAnB;AACD,SAFM,MAEA;AACL,cAAI,IAAI,CAAC,MAAL,CAAY,iBAAhB,EAAmC;AACjC,gBAAI,CAAC,GAAG,IAAI,CAAC,MAAL,CAAY,iBAAZ,CAA8B,MAA9B,CAAqC,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,KAAL;AAAoB,aAAnE,EAAqE,CAArE,CAAR;;AACA,gBAAI,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,OAAhB,IAA2B,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,OAAhB,CAAwB,MAAxB,GAAiC,CAAhE,EAAmE;AACjE,qBAAO,GAAG,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,OAA1B;AACD;AACF,WALD,MAKO,IAAI,IAAI,CAAC,MAAL,CAAY,UAAhB,EAA4B;AACjC,gBAAI,CAAC,GAAG,IAAI,CAAC,MAAL,CAAY,UAAZ,CAAuB,MAAvB,CACN,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,KAAL,KAAe,KAAf,IAAyB,IAAI,CAAC,IAAL,KAAc,cAAd,IAAgC,IAAI,CAAC,MAAL,KAAzD;AAAiF,aADrF,EAEN,CAFM,CAAR;;AAGA,gBAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,qBAAO,GAAG,CAAC,CAAC,OAAZ;AACD;AACF,WAPM,MAOA,IAAI,IAAI,CAAC,MAAL,CAAY,OAAhB,EAAyB;AAC9B,mBAAO,GAAG,IAAI,CAAC,MAAL,CAAY,OAAtB;AACD;;AACD,iBAAO,OAAP;AACD;AACF;AACF,KArDU;SAuDX,aAAY,GAAZ,EAAe;AACb,WAAK,YAAL,GAAoB,GAApB;AACD,KAzDU;qBAAA;;AAAA,GAAX;AA2DA,wBAAI,aAAJ,EAAI,WAAJ,EAAa;SAAb;AACE,aAAO,gCAAP;AACD,KAFY;qBAAA;;AAAA,GAAb;AAIA,wBAAI,aAAJ,EAAI,eAAJ,EAAiB;SAAjB;AACE,UAAI,KAAK,aAAL,CAAmB,OAAnB,KAA+B,IAAnC,EAAyC;AACvC,eAAO,EAAP;AACD;;AAED,UAAI,KAAK,aAAL,CAAmB,YAAnB,IAAmC,KAAK,aAAL,CAAmB,QAA1D,EAAoE;AAClE,YAAM,GAAG,GACP,CAAC,KAAK,aAAL,CAAmB,QAAnB,GAA8B,KAAK,aAAL,CAAmB,YAAlD,IAAkE,GAAlE,GAAwE,KAAK,aAAL,CAAmB,YAD7F;AAEA,YAAM,GAAG,GACP,CAAC,KAAK,aAAL,CAAmB,QAAnB,GAA8B,KAAK,aAAL,CAAmB,YAAlD,IAAkE,GAAlE,GAAwE,KAAK,aAAL,CAAmB,YAD7F;;AAGA,YAAI,KAAK,aAAL,CAAmB,OAAnB,GAA6B,GAAjC,EAAsC;AACpC,iBAAO,OAAP;AACD,SAFD,MAEO,IAAI,KAAK,aAAL,CAAmB,OAAnB,IAA8B,GAAlC,EAAuC;AAC5C,iBAAO,KAAP;AACD,SAFM,MAEA;AACL,iBAAO,QAAP;AACD;AACF;;AACD,aAAO,KAAP;AACD,KApBgB;qBAAA;;AAAA,GAAjB;AAsBA,wBAAI,aAAJ,EAAI,kBAAJ,EAAoB;SAApB;AACE,UAAI,KAAK,aAAL,CAAmB,UAAnB,KAAkC,IAAtC,EAA4C;AAC1C,eAAO,EAAP;AACD;;AAED,UAAI,KAAK,aAAL,CAAmB,eAAnB,IAAsC,KAAK,aAAL,CAAmB,WAA7D,EAA0E;AACxE,YAAM,GAAG,GACP,CAAC,KAAK,aAAL,CAAmB,WAAnB,GAAiC,KAAK,aAAL,CAAmB,eAArD,IAAwE,GAAxE,GACA,KAAK,aAAL,CAAmB,eAFrB;AAGA,YAAM,GAAG,GACP,CAAC,KAAK,aAAL,CAAmB,WAAnB,GAAiC,KAAK,aAAL,CAAmB,eAArD,IAAwE,GAAxE,GACA,KAAK,aAAL,CAAmB,eAFrB;;AAIA,YAAI,KAAK,aAAL,CAAmB,UAAnB,GAAgC,GAApC,EAAyC;AACvC,iBAAO,OAAP;AACD,SAFD,MAEO,IAAI,KAAK,aAAL,CAAmB,UAAnB,IAAiC,GAArC,EAA0C;AAC/C,iBAAO,KAAP;AACD,SAFM,MAEA;AACL,iBAAO,QAAP;AACD;AACF;;AAED,aAAO,KAAP;AACD,KAvBmB;qBAAA;;AAAA,GAApB;AAwBF;AAAC,CAhND,CAAyB,2DAAzB;;;;;;;;;;;;;;;;;;;ACHA;;AAEA;AAAA;AAAA;AAA6B;;AAC3B,mBAAY,IAAZ,EAAgB;WACd,kBAAM,IAAN,KAAW,I;AACZ;;AACH;AAAC,CAJD,CAA6B,wEAA7B;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;AAAA;AAAA;AAAiC;;AAI/B,uBAAY,IAAZ,EAAqB;AAArB,gBACE,kBAAM,IAAN,KAAW,IADb;;AAEE,SAAI,CAAC,IAAL,GAAY,EAAZ;;AACD;;AACH;AAAC,CARD,CAAiC,wEAAjC;;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAOE,qBAAY,IAAZ,EAAgB;AACd,SAAK,IAAL,GAAY,IAAI,CAAC,QAAL,CAAc,IAA1B;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,UAAL,GAAkB,KAAlB;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,KAAL,GAAa,qDAAb;AACD;;AAED,yCAAO,IAAP,EAAW;AACT,SAAK,IAAL,GAAY,IAAI,CAAC,QAAL,CAAc,IAA1B;AACA,SAAK,IAAL,GAAY,IAAZ;AACD,GAHD;;AAKA;AACE,SAAK,UAAL,GAAkB,IAAlB;AACD,GAFD;;AAIA;AACE,SAAK,IAAL,GAAY,CAAC,KAAK,IAAlB;AACD,GAFD;;AAIA;AACE,SAAK,KAAL,GAAa,KAAb;AACD,GAFD;;AAGF;AAAC,CA/BD;;;;;;;;;;;;;;;;;;;;;;ACDA;AAEA;AACA;AACA;;AAEA;AAAA;AAAA;AAA0C;;AA0BxC,gCACE,MADF,EAEE,SAFF,EAGS,EAHT,EAIS,UAJT,EAKS,aALT,EAMS,UANT,EAOS,SAPT,EAQS,QART,EASU,OATV,EASiB;AATjB,gBAWE,kBAAM,MAAN,EAAc,UAAd,EAA0B,aAA1B,EAAyC,UAAzC,EAAqD,SAArD,EAAgE,QAAhE,EAA0E,EAA1E,EAA8E,OAA9E,KAAsF,IAXxF;;AAGS;AACA;AACA;AACA;AACA;AACA;AACC;AAfV,2BAAiB,2BAAjB;AAEA,iCAAuB,kCAAvB;AACA,6BAAmB,KAAnB;AAeE,SAAI,CAAC,SAAL,GAAiB,KAAjB;AACA,SAAI,CAAC,OAAL,GAAe,2EAAmB,CAAC,OAAD,CAAlC;;AAEA,SAAI,CAAC,WAAL,GAAmB,IAAnB,CAAwB;AACtB,WAAI,CAAC,SAAL;;AACA,WAAI,CAAC,WAAL;;AACA,WAAI,CAAC,oBAAL;;AACA,WAAI,CAAC,eAAL;AACD,KALD;;AAOA,SAAI,CAAC,WAAL,GAAmB,CACjB;AACE,aAAO,EAAE,aADX;AAEE,WAAK,EAAE;AAFT,KADiB,EAKjB;AACE,aAAO,EAAE,cADX;AAEE,WAAK,EAAE;AAFT,KALiB,EASjB;AACE,aAAO,EAAE,YADX;AAEE,WAAK,EAAE;AAFT,KATiB,EAajB;AACE,aAAO,EAAE,YADX;AAEE,WAAK,EAAE;AAFT,KAbiB,EAiBjB;AACE,aAAO,EAAE,WADX;AAEE,WAAK,EAAE;AAFT,KAjBiB,EAqBjB;AACE,aAAO,EAAE,MADX;AAEE,WAAK,EAAE;AAFT,KArBiB,CAAnB;AA0BA,SAAI,CAAC,kBAAL,GAA0B,IAA1B;AAEA,QAAM,eAAe,GAAG,YAAY,CAAC,OAAb,CAAqB,KAAI,CAAC,cAA1B,CAAxB;AACA,SAAI,CAAC,IAAL,GAAY,eAAe,GAAG,IAAI,CAAC,KAAL,CAAW,eAAX,CAAH,GAAiC,EAA5D,CA1Ce,CA4Cf;;AACA,QAAM,qBAAqB,GAAG,KAA9B;AACA,SAAI,CAAC,UAAL,GAAkB,qBAAqB,GAAG,IAAI,CAAC,KAAL,CAAW,qBAAX,CAAH,GAAuC;AAAE,cAAQ,EAAE,EAAZ;AAAgB,UAAI,EAAE,EAAtB;AAA0B,WAAK,EAAE;AAAjC,KAA9E;;AACA,QAAI,OAAO,KAAI,CAAC,UAAL,CAAgB,KAAvB,KAAiC,WAArC,EAAkD;AAChD,WAAI,CAAC,UAAL,CAAgB,KAAhB,GAAwB,EAAxB;AACD;;AAED,QAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,gBAAvB,CAAb;AACA,QAAI,CAAC,gBAAL,CAAsB,QAAtB,EAAgC;AAC9B,WAAI,CAAC,gBAAL,GAAwB,IAAI,CAAC,SAAL,GAAiB,EAAzC;AACA,YAAM,CAAC,MAAP;AACD,KAHD;;AAID;;AAEK,+CAAN;;;;;;AACsB;AAAA;AAAA,cAAM,KAAK,aAAL,CAAmB,MAAnB,EAAN;;;AAAd,uBAAW,GAAG,SAAd;AACA,gBAAI,GAAG,iEAAP;;AAEN,gBAAI,KAAK,CAAC,OAAN,CAAc,WAAd,CAAJ,EAAgC;AAC9B,mBAAK,QAAL,GAAgB,WAAW,CAAC,MAAZ,CAAmB,UAAC,IAAD,EAAK;AACtC,uBAAO,IAAI,CAAC,IAAL,KAAc,IAArB;AACD,eAFe,CAAhB;AAGD,aAJD,MAIO;AACD,2BAAW,EAAX;AACJ,oBAAM,CAAC,IAAP,CAAY,WAAZ,EAAyB,OAAzB,CAAiC,UAAC,GAAD,EAAI;AACnC,oBAAI,WAAW,CAAC,GAAD,CAAX,CAAiB,IAAjB,KAA0B,IAA9B,EAAoC;AAClC,4BAAQ,CAAC,IAAT,CAAc,WAAW,CAAC,GAAD,CAAzB;AACD;AACF,eAJD;AAKA,mBAAK,QAAL,GAAgB,UAAhB;AACD;;;;;;;;AACF,GAjBK;;AAmBN;AACE,SAAK,eAAL,CAAqB,IAArB;AACD,GAFD;;AAIA;AACE,SAAK,eAAL,CAAqB,KAArB;AACD,GAFD;;AAIA,4DAAe,KAAf,EAAsB,SAAtB,EAA+B;AAC7B,QAAI,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,OAA3B,EAAoC;AAClC,UAAI,SAAS,CAAC,IAAd,EAAoB;AAClB,aAAK,CAAC,cAAN;AACD;;AACD,WAAK,eAAL,CAAqB,SAArB;AACD,KALD,MAKO;AACL,eAAS,CAAC,MAAV;AACD;AACF,GATD;;AAWA,6DAAgB,SAAhB,EAAwC;AACtC,yDAAK,UAAL,CAAa,gBAAb;AACA,QAAI,cAAc,GAAG,EAArB;AACA,SAAK,YAAL,CAAkB,GAAlB,CAAsB,UAAC,EAAD,EAAG;AACvB,QAAE,CAAC,IAAH,GAAU,SAAS,KAAK,IAAd,IAAsB,SAAS,KAAK,KAApC,GAA4C,SAA5C,GAAwD,SAAS,CAAC,IAAV,KAAmB,EAAE,CAAC,IAAxF;AACA,oBAAc,CAAC,IAAf,CAAoB;AAAE,YAAI,EAAE,EAAE,CAAC,IAAX;AAAiB,YAAI,EAAE,EAAE,CAAC;AAA1B,OAApB;AACD,KAHD;AAIA,yDAAK,CAAC,SAAN,CAAgB,gBAAhB,EAAkC,cAAlC;AACD,GARD;;AAUA,wDAAW,OAAX,EAAkB;AAChB,SAAK,mBAAL;AACD,GAFD;;AAIA;AACE,SAAK,kBAAL,GAA0B,CAAC,KAAK,kBAAhC;AACD,GAFD;;AAIA,sEAAyB,UAAzB,EAAmC;AACjC,WAAO,UAAU,CAAC,MAAX,CAAkB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,UAAL,KAAoB,KAApB,IAA6B,OAAO,IAAI,CAAC,UAAZ,KAA7B;AAAmE,KAA/F,CAAP;AACD,GAFD;;AAIA;AACE,WAAO,KAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,MAAtC,GAA+C,CAAtD;AACD,GAFD;;AAIA;AACE,WAAO,KAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,MAAlB,CAAyB,UAAC,SAAD,EAAU;AAAK,sBAAS,CAAT;AAAc,KAAtD,EAAwD,MAA5E,GAAqF,CAA5F;AACD,GAFD;;AAIA,uDAAU,SAAV,EAA2B;AACzB,QAAI,KAAK,IAAL,CAAU,SAAV,MAAyB,SAA7B,EAAwC;AACtC,WAAK,IAAL,CAAU,SAAV,IAAuB,KAAvB;AACD,KAFD,MAEO;AACL,WAAK,IAAL,CAAU,SAAV,IAAuB,CAAC,KAAK,IAAL,CAAU,SAAV,CAAxB;AACD;;AACD,gBAAY,CAAC,OAAb,CAAqB,KAAK,cAA1B,EAA0C,IAAI,CAAC,SAAL,CAAe,KAAK,IAApB,CAA1C;AACD,GAPD;;AASA,0DAAa,UAAb,EAAiC,SAAjC,EAAkD;AAChD,QAAI,KAAK,UAAL,CAAgB,UAAhB,EAA4B,SAA5B,MAA2C,SAA/C,EAA0D;AACxD,WAAK,UAAL,CAAgB,UAAhB,EAA4B,SAA5B,IAAyC,IAAzC;AACD,KAFD,MAEO;AACL,WAAK,UAAL,CAAgB,UAAhB,EAA4B,SAA5B,IAAyC,CAAC,KAAK,UAAL,CAAgB,UAAhB,EAA4B,SAA5B,CAA1C;AACD,KAL+C,CAMhD;;AACD,GAPD;;AASA,uDAAU,UAAV,EAA8B,SAA9B,EAA+C;AAC7C,WACG,UAAU,KAAK,MAAf,IAAyB,UAAU,KAAK,UAAxC,IAAsD,UAAU,KAAK,OAAtE,IACC,KAAK,UAAL,CAAgB,UAAhB,EAA4B,SAA5B,MAA2C,SAA3C,IAAwD,KAAK,UAAL,CAAgB,UAAhB,EAA4B,SAA5B,MAA2C,KAFtG;AAID,GALD;;AAlLO,iCAAU,CACf,QADe,EAEf,WAFe,EAGf,IAHe,EAIf,YAJe,EAKf,eALe,EAMf,YANe,EAOf,WAPe,EAQf,UARe,EASf,SATe,CAAV;AAWA,qCAAc,6DAAd;AA6KT;AAAC,CAzLD,CAA0C,iDAA1C;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;;AAEA;AAAA;AAAA;AAAmC;;AAiBjC,yBACE,MADF,EAEE,SAFF,EAGS,EAHT,EAIS,UAJT,EAKS,aALT,EAMS,UANT,EAOS,SAPT,EAQS,QART,EASU,OATV,EASiB;AATjB,gBAWE,kBAAM,MAAN,EAAc,UAAd,EAA0B,aAA1B,EAAyC,UAAzC,EAAqD,SAArD,EAAgE,QAAhE,EAA0E,EAA1E,EAA8E,OAA9E,KAAsF,IAXxF;;AAGS;AACA;AACA;AACA;AACA;AACA;AACC;AAXV,6BAAmB,KAAnB;AAcE,SAAI,CAAC,SAAL,GAAiB,KAAjB;AACA,SAAI,CAAC,OAAL,GAAe,2EAAmB,CAAC,OAAD,CAAlC;;AAEA,SAAI,CAAC,WAAL,GAAmB,IAAnB,CAAwB;AACtB,UAAI,SAAS,GAAG,EAAhB;;AAEA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,SAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,OAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,oBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,WAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CACE,KAAI,CAAC,UAAL,CAAgB,IAAhB,EAAsB,IAAtB,CAA2B;AACzB,aAAI,CAAC,mBAAL,GAA2B,IAA3B,CAAgC;AAC9B,eAAI,CAAC,aAAL,GAAqB,IAArB;AACD,SAFD;AAGD,OAJD,CADF;;AAQA,WAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B;AAC1B,aAAI,CAAC,SAAL,GAAiB,IAAjB;AACD,OAFD;AAGD,KAlBD;;AAoBA,QAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,gBAAvB,CAAb;AACA,QAAI,CAAC,gBAAL,CAAsB,QAAtB,EAAgC;AAC9B,WAAI,CAAC,gBAAL,GAAwB,IAAI,CAAC,SAAL,GAAiB,EAAzC;AACA,YAAM,CAAC,MAAP;AACD,KAHD;;AAID;;AACD,2DAAqB,MAArB,EAA6E;AAAxD;AAAA;AAAwD;AAAI,GAAjF;;AAEM,wCAAN;;;;;;AACsB;AAAA;AAAA,cAAM,KAAK,aAAL,CAAmB,MAAnB,EAAN;;;AAAd,uBAAW,GAAG,SAAd;AACA,gBAAI,GAAG,iEAAP;;AAEN,gBAAI,KAAK,CAAC,OAAN,CAAc,WAAd,CAAJ,EAAgC;AAC9B,mBAAK,QAAL,GAAgB,WAAW,CAAC,MAAZ,CAAmB,UAAC,IAAD,EAAK;AACtC,uBAAO,IAAI,CAAC,IAAL,KAAc,IAArB;AACD,eAFe,CAAhB;AAGD,aAJD,MAIO;AACD,2BAAW,EAAX;AACJ,oBAAM,CAAC,IAAP,CAAY,WAAZ,EAAyB,OAAzB,CAAiC,UAAC,GAAD,EAAI;AACnC,oBAAI,WAAW,CAAC,GAAD,CAAX,CAAiB,IAAjB,KAA0B,IAA9B,EAAoC;AAClC,4BAAQ,CAAC,IAAT,CAAc,WAAW,CAAC,GAAD,CAAzB;AACD;AACF,eAJD;AAKA,mBAAK,QAAL,GAAgB,UAAhB;AACD;;;;;;;;AACF,GAjBK;;AAmBN;AAAA;;AACE,WAAO,KAAK,QAAL,CACJ,MADI,CACG,KAAK,eADR,EAEJ,GAFI,CAEA,UAAC,IAAD,EAAU;AACb,UACE,IAAI,CAAC,SAAL,KAAmB,uDAAnB,IACA,IAAI,CAAC,kBAAL,KAA4B,uDAD5B,IAEA,IAAI,CAAC,YAAL,KAAsB,uDAFtB,IAGA,IAAI,CAAC,qBAAL,KAA+B,uDAH/B,IAIA,IAAI,CAAC,UAAL,KAAoB,uDALtB,EAME;AACA,YAAI,CAAC,WAAL,GAAmB,2DAAnB;AACA,YAAI,CAAC,aAAL,GAAqB,uDAArB;AACD,OATD,MASO;AACL,YAAI,CAAC,WAAL,GAAmB,8DAAnB;AACA,YAAI,CAAC,aAAL,GAAqB,yDAArB;AACD;;AACD,UAAI,CAAC,aAAL,GAAqB,KAAI,CAAC,YAAL,CAAkB,IAAlB,EAAwB,IAAxB,CAA6B,QAA7B,CAArB;AACA,aAAO,IAAP;AACD,KAlBI,EAmBJ,IAnBI,CAmBC,UAAC,CAAD,EAAI,CAAJ,EAAK;AAAK,cAAC,CAAC,aAAF,GAAkB,CAAC,CAAnB;AAAiC,KAnB5C,CAAP;AAoBD,GArBD;;AAuBA;AACE,QAAM,QAAQ,GAAG,CACf,KAAK,eAAL,GAAuB,MAAvB,KAAkC,CADnB,EAEf,KAAK,mBAAL,GAA2B,MAA3B,KAAsC,CAFvB,EAGf,KAAK,sBAAL,GAA8B,MAA9B,KAAyC,CAH1B,EAIf,KAAK,oBAAL,GAA4B,MAA5B,KAAuC,CAJxB,EAKf,KAAK,mBAAL,CAAyB,oBAAzB,EAA+C,MAA/C,KAA0D,CAL3C,EAMf,KAAK,sBAAL,CAA4B,uBAA5B,EAAqD,MAArD,KAAgE,CANjD,EAOf,KAAK,cAAL,GAAsB,MAAtB,KAAiC,CAPlB,EAQf,KAAK,mBAAL,CAAyB,MAAzB,KAAoC,CARrB,CAAjB;AAWA,WAAO,KAAK,UAAL,IAAmB,KAAK,eAAxB,IAA2C,KAAK,SAAhD,IAA6D,QAAQ,CAAC,IAAT,CAAc,UAAC,CAAD,EAAE;AAAK,cAAC,KAAD;AAAU,KAA/B,CAApE;AACD,GAbD;;AAeA,sDAAgB,IAAhB,EAAoB;AAClB,WACE,IAAI,CAAC,SAAL,KAAmB,yDAAnB,IACA,IAAI,CAAC,SAAL,KAAmB,uDADnB,IAEA,IAAI,CAAC,kBAAL,KAA4B,uDAF5B,IAGA,IAAI,CAAC,kBAAL,KAA4B,yDAH5B,IAIA,IAAI,CAAC,YAAL,KAAsB,uDAJtB,IAKA,IAAI,CAAC,YAAL,KAAsB,yDALtB,IAMA,IAAI,CAAC,qBAAL,KAA+B,uDAN/B,IAOA,IAAI,CAAC,qBAAL,KAA+B,yDAP/B,IAQA,IAAI,CAAC,UAAL,KAAoB,yDARpB,IASA,IAAI,CAAC,UAAL,KAAoB,uDAVtB;AAYD,GAbD;;AAeA,mDAAa,IAAb,EAAiB;AACf,QAAM,QAAQ,GAAa,EAA3B;;AACA,QAAI,IAAI,CAAC,SAAL,KAAmB,uDAAnB,IAA4B,IAAI,CAAC,SAAL,KAAmB,yDAAnD,EAA4D;AAC1D,cAAQ,CAAC,IAAT,CAAc,eAAa,IAAI,CAAC,cAAhC;AACD;;AACD,QAAI,IAAI,CAAC,kBAAL,KAA4B,uDAA5B,IAAqC,IAAI,CAAC,kBAAL,KAA4B,yDAArE,EAA8E;AAC5E,cAAQ,CAAC,IAAT,CAAc,oBAAkB,IAAI,CAAC,mBAArC;AACD;;AACD,QAAI,IAAI,CAAC,YAAL,KAAsB,uDAAtB,IAA+B,IAAI,CAAC,YAAL,KAAsB,yDAAzD,EAAkE;AAChE,cAAQ,CAAC,IAAT,CAAc,kBAAgB,IAAI,CAAC,iBAAnC;AACD;;AACD,QAAI,IAAI,CAAC,qBAAL,KAA+B,uDAA/B,IAAwC,IAAI,CAAC,qBAAL,KAA+B,yDAA3E,EAAoF;AAClF,cAAQ,CAAC,IAAT,CAAc,uBAAqB,IAAI,CAAC,iBAAxC;AACD;;AACD,QAAI,IAAI,CAAC,UAAL,KAAoB,uDAApB,IAA6B,IAAI,CAAC,UAAL,KAAoB,yDAArD,EAA8D;AAC5D,cAAQ,CAAC,IAAT,CAAc,sBAAoB,IAAI,CAAC,eAAvC;AACD;;AACD,WAAO,QAAP;AACD,GAlBD;;AAnIO,8BAAc,+CAAd;AACA,0BAAU,CACf,QADe,EAEf,WAFe,EAGf,IAHe,EAIf,YAJe,EAKf,eALe,EAMf,YANe,EAOf,WAPe,EAQf,UARe,EASf,SATe,CAAV;AAqJT;AAAC,CAvJD,CAAmC,iDAAnC;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;;AAEA;AAAA;AAAA;AAWE,yBACE,MADF,EAEE,SAFF,EAGU,UAHV,EAIU,aAJV,EAKU,QALV,EAMU,EANV,EAOU,SAPV,EAQU,OARV,EAQiB;AARjB;;AAGU;AACA;AACA;AACA;AACA;AACA;AAVV,iBAAQ,CAAR;AAYE,SAAK,SAAL,GAAiB,KAAjB;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,IAAL,GAAY,KAAZ;AACA,SAAK,OAAL,GAAe,2EAAmB,CAAC,OAAD,CAAlC;AAEA,SAAK,UAAL,cAA0B;AACxB,WAAI,CAAC,SAAL,GAAiB,IAAjB;;AACA,WAAI,CAAC,MAAL,CAAY,MAAZ;AACD,KAHD;AAID;;AAEK,uCAAN;iFAAoB,O,EAAO;;;;gBACrB,iBAAe,KAAK,SAAL,CAAe,MAAf,EAAf,C,EAAA;AAAA;AAAA;AACF;AAAA;AAAA,cAAM,KAAK,aAAL,CAAmB,KAAK,SAAL,CAAe,MAAf,GAAwB,SAA3C,CAAN;;;AAAA;;AACA,oBAAQ,CAAC,KAAT,GAAiB,uCAAjB;;;;;;AAEA,iBAAK,OAAL,GAAe;AACb,kBAAI,EAAE,iEADO;AAEb,oBAAM,EAAE,OAFK;AAGb,sBAAQ,EAAE;AACR,iCAAiB,EAAE,IADX;AAER,gCAAgB,EAAE,KAFV;AAGR,yBAAS,EAAE;AAHH;AAHG,aAAf;AASA,oBAAQ,CAAC,KAAT,GAAiB,sCAAjB;;;;AAGF;AAAA;AAAA,cAAM,KAAK,iBAAL,EAAN;;;AAAA;;;;;;;;AACD,GAlBK;;AAoBN;AAAA;;AACE,WAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,kBAApB,EAAwC,IAAxC,CAA6C,UAAC,WAAD,EAAY;AAC9D,WAAI,CAAC,cAAL,GAAsB,WAAW,CAAC,MAAZ,CAAmB,UAAC,IAAD,EAAK;AAC5C,eAAO,IAAI,CAAC,IAAL,KAAc,iEAArB;AACD,OAFqB,CAAtB;;AAGA,UAAI,OAAO,GAAG,KAAI,CAAC,cAAL,CAAoB,MAApB,CAA2B,UAAC,IAAD,EAAK;AAAK,mBAAI,CAAJ;AAAc,OAAnD,CAAd;;AACA,UAAI,OAAO,CAAC,MAAR,GAAiB,CAAjB,IAAsB,KAAI,CAAC,OAAL,CAAa,QAAb,CAAsB,SAAtB,KAAoC,EAA9D,EAAkE;AAChE,aAAI,CAAC,OAAL,CAAa,QAAb,CAAsB,SAAtB,GAAkC,OAAO,CAAC,CAAD,CAAP,CAAW,IAA7C;AACD;AACF,KARM,CAAP;AASD,GAVD;;AAYA;AAAA;;AACE,QAAI,KAAK,IAAT,EAAe;AACb;AACD;;AACD,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,OAAL,CAAa,QAAb,CAAsB,WAAtB,GAAoC,KAAK,OAAL,CAAa,GAAjD;AAEA,WAAO,KAAK,cAAL,GACJ,IADI,CACC,UAAC,GAAD,EAAI;AACR,UAAI,GAAG,IAAI,GAAG,CAAC,UAAf,EAA2B;AACzB,aAAI,CAAC,OAAL,GAAe,GAAG,CAAC,UAAnB;;AACA,aAAI,CAAC,WAAL;AACD;AACF,KANI,aAOI;AACP,WAAI,CAAC,IAAL,GAAY,KAAZ;AACD,KATI,CAAP;AAUD,GAjBD;;AAmBA;AACE,WAAO,CAAC,KAAK,SAAN,GAAkB,KAAlB,GAA0B,KAAK,MAAL,CAAY,WAAZ,CAAwB,MAAzD;AACD,GAFD;;AAIA;AACE,WAAO,KAAK,OAAL,CAAa,EAAb,GAAkB,KAAK,gBAAL,EAAlB,GAA4C,KAAK,gBAAL,EAAnD;AACD,GAFD;;AAIA;AAAA;;AACE,WAAO,KAAK,UAAL,CAAgB,IAAhB,CAAqB,kBAArB,EAAyC,KAAK,OAA9C,EAAuD,IAAvD,CACL,UAAC,GAAD,EAAI;AACF,aAAO,KAAI,CAAC,EAAL,CAAQ,OAAR,CAAgB,GAAhB,CAAP;AACD,KAHI,EAIL,UAAC,GAAD,EAAI;AACF,aAAO,KAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,GAAf,CAAP;AACD,KANI,CAAP;AAQD,GATD;;AAWA;AAAA;;AACE,WAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,sBAAsB,KAAK,OAAL,CAAa,EAAvD,EAA2D,KAAK,OAAhE,EAAyE,IAAzE,CACL,UAAC,GAAD,EAAI;AACF,aAAO,KAAI,CAAC,EAAL,CAAQ,OAAR,CAAgB,GAAhB,CAAP;AACD,KAHI,EAIL,UAAC,GAAD,EAAI;AACF,aAAO,KAAI,CAAC,EAAL,CAAQ,MAAR,CAAe,GAAf,CAAP;AACD,KANI,CAAP;AAQD,GATD;;AAWA,oDAAc,EAAd,EAAgB;AAAhB;;AACE,WAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,sBAAsB,EAA1C,EAA8C,IAA9C,CAAmD,UAAC,MAAD,EAAO;AAC/D,UAAI,CAAC,MAAM,CAAC,QAAP,CAAgB,SAArB,EAAgC;AAC9B,cAAM,CAAC,QAAP,CAAgB,SAAhB,GAA4B,EAA5B;AACD;;AAED,UAAI,CAAC,MAAM,CAAC,QAAP,CAAgB,iBAArB,EAAwC;AACtC,cAAM,CAAC,QAAP,CAAgB,iBAAhB,GAAoC,IAApC;AACD;;AAED,WAAI,CAAC,OAAL,GAAe,MAAf;AACD,KAVM,CAAP;AAWD,GAZD;;AAcA;AACE,QAAI,GAAG,GAAG,oBAAV;;AACA,QAAI,IAAI,GAAG,4BAA4B,KAAK,OAAL,CAAa,EAApD;;AACA,QAAI,KAAK,OAAL,CAAa,QAAb,CAAsB,gBAA1B,EAA4C;AAC1C,UAAI,IAAI,UAAR;AACD;;AACD,QAAI,IAAI,GAAR;AACA,SAAK,UAAL,CACG,iBADH,CACqB;AACjB,SAAG,EAAE,IADY;AAEjB,YAAM,EAAE,KAFS;AAGjB,aAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHQ,KADrB,EAMG,IANH,CAOI,UAAC,QAAD,EAAS;AACP,UAAI,QAAQ,IAAI,QAAQ,CAAC,MAAT,KAAoB,GAApC,EAAyC;AACvC,kBAAU,CAAC;AACT,gBAAM,CAAC,OAAP,CAAe,IAAf;AACD,SAFS,EAEP,GAFO,CAAV;AAGD,OAJD,MAIO;AACL,0EAAS,CAAC,IAAV,CAAe,aAAf,EAA8B,CAAC,iBAAD,CAA9B;AACD;AACF,KAfL,EAgBI,UAAC,KAAD,EAAM;AACJ,UAAI,KAAK,IAAI,KAAK,CAAC,MAAf,IAAyB,KAAK,CAAC,UAAnC,EAA+C;AAC7C,0EAAS,CAAC,IAAV,CAAe,aAAf,EAA8B,CAAC,KAAK,CAAC,MAAN,GAAe,GAAf,GAAqB,KAAK,CAAC,UAA5B,CAA9B;AACD,OAFD,MAEO;AACL,0EAAS,CAAC,IAAV,CAAe,aAAf,EAA8B,CAAC,iBAAD,CAA9B;AACD;AACF,KAtBL;AAwBD,GA/BD;;AA9HO,8BAAc,+CAAd;AACA,0BAAU,CAAC,QAAD,EAAW,WAAX,EAAwB,YAAxB,EAAsC,eAAtC,EAAuD,UAAvD,EAAmE,IAAnE,EAAyE,WAAzE,EAAsF,SAAtF,CAAV;AA6JT;AAAC,CA/JD;;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAEE,2BAAY,SAAZ,EAAqB;AACnB,QAAM,OAAO,GAAG,SAAS,CAAC,MAAV,GAAmB,WAAnC;;AACA,QAAI,OAAJ,EAAa;AACX,YAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,+EAA+E,OAAtG;AACD;AACF;;AANM,4BAAU,CAAC,WAAD,CAAV;AAOT;AAAC,CARD;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;;AAEA;AAAA;AAAA;AAUE,wBACE,MADF,EAEE,SAFF,EAGU,UAHV,EAIU,aAJV,EAKU,UALV,EAMU,OANV,EAOU,OAPV,EAOiB;AAPjB;;AAGU;AACA;AACA;AACA;AACA;AATV,4BAAmB,KAAnB;AAWE,SAAK,OAAL,GAAe,KAAf;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,OAAL,GAAe,2EAAmB,CAAC,OAAD,CAAlC;AACA,YAAQ,CAAC,KAAT,GAAiB,wBAAjB;;AAEA,QAAI;AACF,WAAK,WAAL,GAAmB,IAAnB,CAAwB;AACtB,aAAI,CAAC,OAAL,GAAe,IAAf;;AACA,aAAI,CAAC,MAAL,CAAY,MAAZ;AACD,OAHD;AAID,KALD,CAKE,OAAO,CAAP,EAAU;AACV,aAAO,CAAC,KAAR,CAAc,CAAd;AACD;;AAED,QAAI;AACF,WAAK,OAAL,GAAe,KAAK,UAAL,CAAgB,OAAhB,CAAwB,OAAxB,CAAf;AACD,KAFD,CAEE,OAAO,CAAP,EAAU;AACV,aAAO,CAAC,KAAR,CAAc,CAAd;AACA,WAAK,OAAL,GAAe,KAAf;AACD;;AAED,QAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,gBAAvB,CAAb;AACA,QAAI,CAAC,gBAAL,CAAsB,QAAtB,EAAgC;AAC9B,WAAI,CAAC,gBAAL,GAAwB,IAAI,CAAC,SAAL,GAAiB,EAAzC;AACA,YAAM,CAAC,MAAP;AACD,KAHD;AAID;;AAEK,uCAAN;;;;;;AACsB;AAAA;AAAA,cAAM,KAAK,aAAL,CAAmB,MAAnB,EAAN;;;AAAd,uBAAW,GAAG,SAAd;AACA,gBAAI,GAAG,iEAAP;;AAEN,gBAAI,KAAK,CAAC,OAAN,CAAc,WAAd,CAAJ,EAAgC;AAC9B,mBAAK,QAAL,GAAgB,WAAW,CAAC,MAAZ,CAAmB,UAAC,IAAD,EAAK;AACtC,uBAAO,IAAI,CAAC,IAAL,KAAc,IAArB;AACD,eAFe,CAAhB;AAGD,aAJD,MAIO;AACD,2BAAW,EAAX;AACJ,oBAAM,CAAC,IAAP,CAAY,WAAZ,EAAyB,OAAzB,CAAiC,UAAC,GAAD,EAAI;AACnC,oBAAI,WAAW,CAAC,GAAD,CAAX,CAAiB,IAAjB,KAA0B,IAA9B,EAAoC;AAClC,4BAAQ,CAAC,IAAT,CAAc,WAAW,CAAC,GAAD,CAAzB;AACD;AACF,eAJD;AAKA,mBAAK,QAAL,GAAgB,UAAhB;AACD;;;;;;;;AACF,GAjBK;;AAmBN,mDAAc,OAAd,EAAqB;AAArB;;AACE,sEAAS,CAAC,IAAV,CAAe,eAAf,EAAgC;AAC9B,WAAK,EAAE,QADuB;AAE9B,UAAI,EAAE,+CAFwB;AAG9B,aAAO,EAAE,QAHqB;AAI9B,UAAI,EAAE,UAJwB;AAK9B,eAAS,EAAE;AACT,aAAI,CAAC,aAAL,CAAmB,OAAO,CAAC,EAA3B;AACD;AAP6B,KAAhC;AASD,GAVD;;AAYA,mDAAc,EAAd,EAAgB;AAAhB;;AACE,SAAK,UAAL,WAAuB,sBAAsB,EAA7C,EAAiD,IAAjD,CAAsD;AACpD,WAAI,CAAC,QAAL,GAAgB,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,UAAC,IAAD,EAAK;AACxC,eAAO,IAAI,CAAC,EAAL,KAAY,EAAnB;AACD,OAFe,CAAhB;;AAGA,WAAI,CAAC,MAAL,CAAY,MAAZ;AACD,KALD;AAMD,GAPD;;AA7EO,yBAAU,CAAC,QAAD,EAAW,WAAX,EAAwB,YAAxB,EAAsC,eAAtC,EAAuD,YAAvD,EAAqE,SAArE,EAAgF,SAAhF,CAAV;AACA,6BAAc,6CAAd;AAoFT;AAAC,CAtFD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAM,oBAAoB,GAAG,KAA7B;AACA,IAAM,gCAAgC,GAAG,2CAAzC;AACA,IAAM,6BAA6B,GAAG,wCAAtC;;AAEA;AAAA;AAAA;AAoCE,mBAAY,MAAZ,EAAoB,UAApB,EAAgC,aAAhC,EAA+C,UAA/C,EAA2D,SAA3D,EAAsE,OAAtE,EAA+E,EAA/E,EAAmF,OAAnF,EAA0F;AAjC1F,yBAAgB,KAAhB,CAiC0F,CAnB1F;;AACA,qBAAmB,EAAnB;AACA,uBAAqB,IAArB;AACA,2BAA+B,EAA/B;AACA,yBAA2B,EAA3B;AACA,qBAAmB,EAAnB;AACA,yBAA2B,EAA3B;AACA,4BAAiC,EAAjC;AACA,6BAAmC,EAAnC;AACA,2BAA+B,EAA/B;AACA,wBAA4B,EAA5B;AACA,oBAAmB,EAAnB;AACA,sBAA8B,KAA9B;AACA,qBAA6B,KAA7B;AACA,2BAAmC,KAAnC;AACA,iBAAQ,CAAR;AACA,oBAAW,KAAX;AAIE,SAAK,EAAL,GAAU,EAAV;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,SAAL,GAAiB,KAAjB;AACA,SAAK,QAAL,GAAgB,SAAhB;AACA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,aAAL,GAAqB,aAArB;AACA,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,KAAL,GAAa,OAAO,CAAC,eAAR,IAA2B,OAAO,CAAC,eAAR,CAAwB,IAAnD,GAA0D,OAAO,CAAC,eAAR,CAAwB,IAAxB,CAA6B,KAAvF,GAA+F,CAA5G;;AACA,QAAI;AACF,WAAK,OAAL,GAAe,KAAK,UAAL,CAAgB,OAAhB,CAAwB,OAAxB,CAAf;AACD,KAFD,CAEE,OAAO,CAAP,EAAU;AACV,aAAO,CAAC,KAAR,CAAc,CAAd;AACA,WAAK,OAAL,GAAe,KAAf;AACD;;AACD,QAAI,EAAE,iBAAiB,SAAS,CAAC,MAAV,EAAnB,CAAJ,EAA4C;AAC1C,wEAAS,CAAC,IAAV,CAAe,aAAf,EAA8B,CAAC,uBAAD,CAA9B;AAEA;AACD;;AACD,YAAQ,CAAC,KAAT,GAAiB,wBAAjB;AAEA,QAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,gBAAvB,CAAb;;AACA,SAAK,WAAL,GAAmB;AACjB,UAAI,CAAC,QAAL,CAAc;AACZ,WAAG,EAAE,CADO;AAEZ,YAAI,EAAE,IAAI,CAAC,UAFC;AAGZ,gBAAQ,EAAE;AAHE,OAAd;AAKD,KAND;AAOD;;AAjCD,2CAAW,IAAX,EAAsB,CAAI,CAA1B;;AAmCM,uCAAN,UAAuB,KAAvB,EAAoC;;;;;;;;;AAC5B,gBAAI,GAAG,EAAP;AACA,oBAAQ,GAAG,KAAK,CACnB,MADc,CACP,UAAC,WAAD,EAAwB,IAAxB,EAA4B;AAAK,4EAAI,WAAJ,EAAe,CAAK,IAAI,CAAC,IAAL,GAAS,GAAT,GAAa,IAAI,CAAC,MAAlB,GAApB,KAAe,CAAf;AAAkD,aAD5E,EAC8E,EAD9E,EAEd,IAFc,CAET,GAFS,CAAX;AAIS;AAAA;AAAA,cAAM,OAAO,CAAC,GAAR,CAAY,CAC/B,KAAK,YAAL,CAAkB,KAAlB,CACE;AACE,kBAAI,EAAE,oDAAiD,QAAjD,GAAyD,wCADjE;AAEE,oBAAM,EAAE;AAFV,aADF,EAKE,KALF,CAD+B,EAQ/B,KAAK,YAAL,CAAkB,KAAlB,CACE;AACE,kBAAI,EAAE,gDAA6C,QAA7C,GAAqD,oBAD7D;AAEE,oBAAM,EAAE;AAFV,aADF,EAKE,KALF,CAR+B,EAe/B,KAAK,YAAL,CAAkB,KAAlB,CACE;AACE,kBAAI,EAAE,iDAA8C,QAA9C,GAAsD,oBAD9D;AAEE,oBAAM,EAAE;AAFV,aADF,EAKE,KALF,CAf+B,EAsB/B,KAAK,YAAL,CAAkB,KAAlB,CACE;AACE,kBAAI,EAAE,gDAA6C,QAA7C,GAAqD,wDAD7D;AAEE,oBAAM,EAAE;AAFV,aADF,EAKE,KALF,CAtB+B,EA6B/B,KAAK,YAAL,CAAkB,KAAlB,CACE;AACE,kBAAI,EAAE,gCAA6B,QAA7B,GAAqC,oBAD7C;AAEE,oBAAM,EAAE;AAFV,aADF,EAKE,KALF,CA7B+B,EAoC/B,KAAK,YAAL,CAAkB,KAAlB,CACE;AACE,kBAAI,EAAE,uCAAoC,QAApC,GAA4C,2CAA5C,GAAsF,QAAtF,GAA8F,oBADtG;AAEE,oBAAM,EAAE;AAFV,aADF,EAKE,KALF,CApC+B,CAAZ,CAAN;;;AAAT,kBAAM,GAAG,SAAT;;uCA6CK,I,EAAI;AACb,kBAAM,UAAU,GAAG,MAAM,CAAC,GAAP,CAAW,UAAC,IAAD,EAAK;AACjC,uBAAO,IAAI,CAAC,IAAL,CAAU,UAAC,OAAD,EAAQ;AAAK,gCAAO,CAAC,MAAR,KAAmB,IAAI,CAAC,IAAxB,IAAgC,OAAO,CAAC,MAAR,CAAe,OAAf,CAA0B,IAAI,CAAC,MAAL,GAAW,GAArC,MAAhC;AAA+E,iBAAtG,CAAP;AACD,eAFkB,CAAnB;AAIA,kBAAI,CAAC,IAAI,CAAC,IAAN,CAAJ,GAAkB;AAChB,wBAAQ,EAAE,UAAU,CAAC,CAAD,CAAV,IAAiB,UAAU,CAAC,CAAD,CAAV,CAAc,SADzB;AAEhB,wBAAQ,EAAE,UAAU,CAAC,CAAD,CAAV,IAAiB,sEAAa,CAAC,UAAU,CAAC,CAAD,CAAV,CAAc,SAAf,CAFxB;AAGhB,yBAAS,EAAE,UAAU,CAAC,CAAD,CAAV,IAAiB,sEAAa,CAAC,UAAU,CAAC,CAAD,CAAV,CAAc,SAAf,CAHzB;AAIhB,2BAAW,EAAE,UAAU,CAAC,CAAD,CAAV,IAAiB,sEAAa,CAAC,UAAU,CAAC,CAAD,CAAV,CAAc,SAAf,CAJ3B;AAKhB,uBAAO,EAAE,UAAU,CAAC,CAAD,CAAV,IAAiB,UAAU,CAAC,CAAD,CAAV,CAAc,SALxB;AAMhB,sBAAM,EAAE,UAAU,CAAC,CAAD,CAAV,IAAiB,yEAAgB,CAAC,UAAU,CAAC,CAAD,CAAV,CAAc,SAAd,GAA0B,IAA3B;AANzB,eAAlB;;;;AALF,mBAAmB,yEAAK,0BAAxB,EAAwB,eAAxB,EAAwB,0BAAxB,EAAwB;AAAb,oBAAI,kBAAJ;;wBAAA,I;AAaV;;;;;;;;;;;;;AAED;AAAA;AAAA,cAAO,IAAP;;;;AACD,GAnEK;;AAqEN,qDAAqB,IAArB,EAAyB;AACvB,QAAI,KAAK,GAAG,+DAA+D,KAAK,KAAhF;AACA,SAAK,IAAI,MAAM,cAAN,GAAuB,KAAK,OAAL,CAAa,IAA7C;AACA,SAAK,IAAI,MAAM,WAAN,GAAoB,IAAI,CAAC,IAAlC;AACA,WAAO,KAAP;AACD,GALD;;AAOA,oDAAoB,GAApB,EAAuB;AACrB,QAAI,KAAK,GAAG,8DAA8D,KAAK,KAA/E;AACA,SAAK,IAAI,MAAM,cAAN,GAAuB,KAAK,OAAL,CAAa,IAA7C;AACA,SAAK,IAAI,MAAM,gBAAN,GAAyB,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,SAApD;AACA,SAAK,IAAI,MAAM,UAAN,GAAmB,GAAG,CAAC,IAAhC;AACA,WAAO,KAAP;AACD,GAND;;AAQA,uDAAuB,MAAvB,EAA+B,IAA/B,EAAmC;AACjC,QAAI,UAAU,GAAG,IAAI,CAAC,SAAL,CAAe,CAAf,EAAkB,IAAI,CAAC,MAAL,GAAc,CAAhC,CAAjB;AACA,QAAI,KAAK,GAAG,yCAAyC,IAAzC,GAAgD,mBAAhD,GAAsE,KAAK,KAAvF;AACA,SAAK,IAAI,MAAM,cAAN,GAAuB,KAAK,OAAL,CAAa,IAA7C;AACA,SAAK,IAAI,MAAM,gBAAN,GAAyB,MAAM,CAAC,IAAP,CAAY,QAAZ,CAAqB,SAAvD;AACA,SAAK,IAAI,MAAM,MAAN,GAAe,UAAf,GAA4B,GAA5B,GAAkC,MAAM,CAAC,IAAlD;AACA,WAAO,KAAP;AACD,GAPD;;AASA,2CAAW,WAAX,EAA8B;AAA9B;;AAAW;AAAA;AAAmB;;AAC5B,QAAI,SAAS,GAAG,EAAhB;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,QAAL,EAAf;;AAEA,QAAI,CAAC,WAAL,EAAkB;AAChB,eAAS,CAAC,IAAV,CAAe,KAAK,OAAL,CAAa,IAAb,CAAf;AACD;;AAED,WAAO,KAAK,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B;AACjC,UAAI,CAAC,WAAL,EAAkB;AAChB,aAAI,CAAC,oBAAL,CAA0B,KAAI,CAAC,SAA/B;;AACA,aAAI,CAAC,cAAL;AACD;;AAED,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,YAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KATM,CAAP;AAUD,GAlBD;;AAoBA;AAAA;;AACE,QAAI,SAAS,GAAG,EAAhB;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,wBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,2BAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,qBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,mBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,sBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,oBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,uBAAL,EAAf;;AAEA,WAAO,KAAK,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B,UAAC,OAAD,EAAQ;AACzC,WAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,UAAC,IAAD,EAAK;AACzB,YAAI,CAAC,YAAL,CAAkB,OAAO,CAAC,CAAD,CAAzB,EAA8B,OAAO,CAAC,CAAD,CAArC,EAA0C,OAAO,CAAC,CAAD,CAAjD,EAAsD,OAAO,CAAC,CAAD,CAA7D,EAAkE,OAAO,CAAC,CAAD,CAAzE,EAA8E,OAAO,CAAC,CAAD,CAArF,EAA0F,OAAO,CAAC,CAAD,CAAjG;AACD,OAFD;;AAIA,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,mBAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KARM,CAAP;AASD,GAnBD;;AAqBA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EAAE,wEADU;AAEhB,YAAM,EAAE;AAFQ,KAAlB;AAIA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GAND;;AAQA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EACF,2NAFc;AAGhB,YAAM,EAAE;AAHQ,KAAlB;AAMA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GARD;;AAUA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EACF,0NAFc;AAGhB,YAAM,EAAE;AAHQ,KAAlB;AAMA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GARD;;AAUA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EACF,8NAFc;AAGhB,YAAM,EAAE;AAHQ,KAAlB;AAMA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GARD;;AAUA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EACF,6NAFc;AAGhB,YAAM,EAAE;AAHQ,KAAlB;AAMA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GARD;;AAUA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EACF,4LAFc;AAGhB,YAAM,EAAE;AAHQ,KAAlB;AAKA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GAPD;;AASA;AACE,QAAM,SAAS,GAAG;AAChB,UAAI,EAAE,8CADU;AAEhB,YAAM,EAAE;AAFQ,KAAlB;AAKA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0C,IAA1C,CAA+C,UAAC,GAAD,EAAI;AAAK;AAAG,KAA3D,CAAP;AACD,GAPD;;AASA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,QAAb,GAAwB,IAAxB,CAA6B,UAAC,KAAD,EAAM;AACxC,UAAI,SAAS,GAAG,EAAhB;AACA,UAAI,QAAQ,GAAG,sDAAK,CAAC,SAAN,CAAgB,WAAhB,CAAf;;AAEA,UAAI,QAAJ,EAAc;AACZ,iBAAS,GAAG,QAAZ;AACD;;AAED,UAAI,KAAK,YAAY,KAArB,EAA4B;AAC1B,aAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,aAAK,CAAC,OAAN,CAAc,UAAC,IAAD,EAAK;AACjB,cAAI,EAAE,GAAG,IAAI,wDAAJ,CAAS,IAAT,CAAT;;AACA,eAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,EAAnB;;AAEA,cAAI,KAAK,GAAG,SAAS,CAAC,SAAV,CAAoB,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,IAAL,KAAc,EAAE,CAAhB;AAAqB,WAAnD,CAAZ;;AACA,cAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,cAAE,CAAC,IAAH,GAAU,SAAS,CAAC,KAAD,CAAT,CAAiB,IAA3B;AACD,WAFD,MAEO;AACL,qBAAS,CAAC,IAAV,CAAe;AAAE,kBAAI,EAAE,EAAE,CAAC,IAAX;AAAiB,kBAAI,EAAE,EAAE,CAAC;AAA1B,aAAf;AACD;AACF,SAVD;AAWA,8DAAK,CAAC,SAAN,CAAgB,WAAhB,EAA6B,SAA7B;AACD,OAdD,MAcO,IAAI,KAAK,YAAY,KAArB,EAA4B;AACjC,aAAI,CAAC,UAAL,GAAkB,KAAlB;AACD;AACF,KAzBM,CAAP;AA0BD,GA3BD;;AA6BA;AAAA;;AACE,QAAI,SAAS,GAAG,EAAhB;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,gBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,mBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,qBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,wBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,iBAAL,EAAf;;AACA,aAAS,CAAC,IAAV,CAAe,KAAK,oBAAL,EAAf;;AAEA,SAAK,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B,UAAC,OAAD,EAAQ;AAClC,WAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,UAAC,IAAD,EAAK;AACzB,YAAI,CAAC,UAAL,CAAgB,GAAhB,CAAoB,UAAC,SAAD,EAAU;AAC5B,mBAAS,CAAC,IAAV,CAAe,GAAf,CAAmB,UAAC,GAAD,EAAI;AACrB,gBAAM,GAAG,GAAG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,CAAgB,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,MAAL,KAAgB,GAAG,CAAnB;AAAwB,aAAlD,CAAZ;AACA,gBAAM,GAAG,GAAG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,CAAgB,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,MAAL,KAAgB,GAAG,CAAnB;AAAwB,aAAlD,CAAZ;AACA,gBAAM,MAAM,GAAG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,CAAgB,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,MAAL,KAAgB,GAAG,CAAnB;AAAwB,aAAlD,CAAf;AACA,gBAAM,MAAM,GAAG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,CAAgB,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,MAAL,KAAgB,GAAG,CAAnB;AAAwB,aAAlD,CAAf;AACA,gBAAM,QAAQ,GAAG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,CAAgB,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,MAAL,KAAgB,GAAG,CAAnB;AAAwB,aAAlD,CAAjB;AACA,gBAAM,QAAQ,GAAG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,CAAgB,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,MAAL,KAAgB,GAAG,CAAnB;AAAwB,aAAlD,CAAjB;;AAEA,gBAAI,GAAG,KAAK,SAAZ,EAAuB;AACrB,iBAAG,CAAC,aAAJ,CAAkB,OAAlB,GAA4B,GAAG,CAAC,SAAhC;AACA,iBAAG,CAAC,OAAJ,CAAY,OAAZ,GAAsB,yEAAgB,CAAC,GAAG,CAAC,SAAJ,CAAc,OAAd,CAAsB,CAAtB,CAAD,CAAtC;AACD;;AACD,gBAAI,GAAG,KAAK,SAAZ,EAAuB;AACrB,iBAAG,CAAC,aAAJ,CAAkB,UAAlB,GAA+B,GAAG,CAAC,SAAnC;AACA,iBAAG,CAAC,OAAJ,CAAY,UAAZ,GAAyB,sEAAa,CAAC,GAAG,CAAC,SAAL,CAAtC;AACD;;AACD,gBAAI,MAAM,KAAK,SAAf,EAA0B;AACxB,iBAAG,CAAC,aAAJ,CAAkB,YAAlB,GAAiC,MAAM,CAAC,SAAxC;AACA,iBAAG,CAAC,OAAJ,CAAY,YAAZ,GAA2B,yEAAgB,CAAC,mEAAU,CAAC,MAAM,CAAC,SAAR,CAAX,CAA3C;AACD;;AACD,gBAAI,MAAM,KAAK,SAAf,EAA0B;AACxB,iBAAG,CAAC,aAAJ,CAAkB,eAAlB,GAAoC,MAAM,CAAC,SAA3C;AACA,iBAAG,CAAC,OAAJ,CAAY,eAAZ,GAA8B,sEAAa,CAAC,MAAM,CAAC,SAAR,CAA3C;AACD;;AACD,gBAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,iBAAG,CAAC,aAAJ,CAAkB,QAAlB,GAA6B,QAAQ,CAAC,SAAtC;AACA,iBAAG,CAAC,OAAJ,CAAY,QAAZ,GAAuB,yEAAgB,CAAC,mEAAU,CAAC,QAAQ,CAAC,SAAV,CAAX,CAAvC;AACD;;AACD,gBAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,iBAAG,CAAC,aAAJ,CAAkB,WAAlB,GAAgC,QAAQ,CAAC,SAAzC;AACA,iBAAG,CAAC,OAAJ,CAAY,WAAZ,GAA0B,sEAAa,CAAC,QAAQ,CAAC,SAAV,CAAvC;AACD;AACF,WAhCD;AAiCD,SAlCD;AAmCD,OApCD;;AAsCA,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,cAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KA1CD;AA2CD,GApDD;;AAsDA;AACE,QAAM,WAAW,GAAG;AAClB;AACA,UAAI,EACF,4GACA,oKAJgB;AAKlB,YAAM,EAAE;AALU,KAApB;AAQA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,WAAxB,EAAqC,KAArC,EAA4C,IAA5C,CAAiD,UAAC,GAAD,EAAI;AAAK;AAAG,KAA7D,CAAP;AACD,GAVD;;AAYA;AACE,QAAM,cAAc,GAAG;AACrB;AACA,UAAI,EACF,0FACA,6IAJmB;AAKrB,YAAM,EAAE;AALa,KAAvB;AAQA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,cAAxB,EAAwC,KAAxC,EAA+C,IAA/C,CAAoD,UAAC,GAAD,EAAI;AAAK;AAAG,KAAhE,CAAP;AACD,GAVD;;AAYA;AACE,QAAM,WAAW,GAAG;AAClB,UAAI,EAAE,gFADY;AAElB,YAAM,EAAE;AAFU,KAApB;AAKA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,WAAxB,EAAqC,KAArC,EAA4C,IAA5C,CAAiD,UAAC,GAAD,EAAI;AAAK;AAAG,KAA7D,CAAP;AACD,GAPD;;AASA;AACE,QAAM,YAAY,GAAG;AACnB,UAAI,EAAE,+EADa;AAEnB,YAAM,EAAE;AAFW,KAArB;AAKA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,YAAxB,EAAsC,KAAtC,EAA6C,IAA7C,CAAkD,UAAC,GAAD,EAAI;AAAK;AAAG,KAA9D,CAAP;AACD,GAPD;;AASA;AACE,QAAM,cAAc,GAAG;AACrB,UAAI,EAAE,oFADe;AAErB,YAAM,EAAE;AAFa,KAAvB;AAKA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,cAAxB,EAAwC,KAAxC,EAA+C,IAA/C,CAAoD,UAAC,GAAD,EAAI;AAAK;AAAG,KAAhE,CAAP;AACD,GAPD;;AASA;AACE,QAAM,eAAe,GAAG;AACtB,UAAI,EAAE,kFADgB;AAEtB,YAAM,EAAE;AAFc,KAAxB;AAKA,WAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,eAAxB,EAAyC,KAAzC,EAAgD,IAAhD,CAAqD,UAAC,GAAD,EAAI;AAAK;AAAG,KAAjE,CAAP;AACD,GAPD;;AASA,qDAAqB,IAArB,EAAyB;AACvB,SAAK,QAAL,CAAc,OAAd,CAAsB,UAAC,IAAD,EAAK;AACzB,UAAI,UAAU,GAAG,IAAI,CAAC,MAAL,CAAY,UAAC,GAAD,EAAI;AAAK,kBAAG,CAAC,IAAJ,CAAS,MAAT,CAAgB,MAAhB,KAA2B,IAAI,CAA/B;AAAsC,OAA3D,CAAjB;AAEA,gBAAU,CAAC,OAAX,CAAmB,UAAC,GAAD,EAAI;AACrB,YAAI,QAAQ,GAAG,IAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,UAAC,IAAD,EAAK;AACzC,iBAAO,IAAI,CAAC,IAAL,KAAc,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,SAAvC;AACD,SAFc,CAAf;;AAIA,YAAI,QAAQ,CAAC,MAAT,KAAoB,CAAxB,EAA2B;AACzB,cAAI,KAAG,GAAG;AACR,gBAAI,EAAE,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,SADhB;AAER,gBAAI,EAAE,EAFE;AAGR,iBAAK,EAAE,4DAHC;AAIR,gBAAI,EAAE;AAJE,WAAV;AAMA,cAAI,CAAC,UAAL,CAAgB,IAAhB,CAAqB,KAArB;AACD;;AAED,YAAI,GAAG,GAAG,IAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,UAAC,IAAD,EAAK;AACpC,iBAAO,IAAI,CAAC,IAAL,KAAc,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,SAAvC;AACD,SAFS,EAEP,CAFO,CAAV;;AAGA,WAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,GAAd;AACD,OAnBD;AAoBD,KAvBD;AAwBD,GAzBD;;AA2BA;AAAA;;AACE,SAAK,OAAL,CACG,QADH,GAEG,IAFH,CAEQ,UAAC,KAAD,EAAM;AACV,aAAO,KAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,UAAC,SAAD,EAAU;AACrC,YAAI,SAAS,GAAG,KAAK,CAAC,MAAN,CAAa,UAAC,IAAD,EAAK;AAChC,iBAAO,IAAI,CAAC,QAAL,CAAc,GAAd,KAAsB,SAAS,CAAC,IAAV,CAAe,QAAf,CAAwB,GAArD;AACD,SAFe,CAAhB;;AAGA,YAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,mBAAS,GAAG,SAAS,CAAC,CAAD,CAArB;AACA,mBAAS,CAAC,MAAV,CAAiB,SAAjB;AACD;AACF,OARM,CAAP;AASD,KAZH,EAaG,IAbH,CAaQ;AACJ,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,YAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KAjBH;AAkBD,GAnBD;;AAqBA;AAAA;;AACE,SAAK,OAAL,CAAa,aAAb,GAA6B,IAA7B,CAAkC,UAAC,UAAD,EAAW;AAC3C,UAAI,cAAc,GAAG,EAArB;AACA,UAAI,QAAQ,GAAG,sDAAK,CAAC,SAAN,CAAgB,gBAAhB,CAAf;;AACA,UAAI,QAAJ,EAAc;AACZ,sBAAc,GAAG,QAAjB;AACD;;AACD,gBAAU,CAAC,OAAX,CAAmB,UAAC,SAAD,EAAU;AAC3B,YAAI,EAAE,GAAG,IAAI,iEAAJ,CAAc,SAAd,CAAT;;AACA,aAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,EAAvB;;AACA,YAAI,KAAK,GAAG,cAAc,CAAC,SAAf,CAAyB,UAAC,IAAD,EAAK;AAAK,qBAAI,CAAC,IAAL,KAAc,EAAE,CAAhB;AAAqB,SAAxD,CAAZ;;AAEA,YAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,YAAE,CAAC,IAAH,GAAU,cAAc,CAAC,KAAD,CAAd,CAAsB,IAAhC;AACD,SAFD,MAEO;AACL,wBAAc,CAAC,IAAf,CAAoB;AAAE,gBAAI,EAAE,EAAE,CAAC,IAAX;AAAiB,gBAAI,EAAE,EAAE,CAAC;AAA1B,WAApB;AACD;AACF,OAVD;AAWA,4DAAK,CAAC,SAAN,CAAgB,gBAAhB,EAAkC,cAAlC;AAEA,UAAI,SAAS,GAAG,EAAhB;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,iBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,kBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,gBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,kBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,cAAL,EAAf;;AAEA,WAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B;AAC1B,aAAI,CAAC,UAAL;;AACA,aAAI,CAAC,cAAL;;AAEA,YAAI,WAAW,GAAG,EAAlB;;AACA,mBAAW,CAAC,IAAZ,CAAiB,KAAI,CAAC,cAAL,EAAjB;;AACA,mBAAW,CAAC,IAAZ,CAAiB,KAAI,CAAC,OAAL,EAAjB;;AACA,aAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,WAAZ,EAAyB,IAAzB,CAA8B;AAC5B,eAAI,CAAC,eAAL;;AACA,eAAI,CAAC,iBAAL,GAAyB,IAAzB;AACD,SAHD;AAID,OAXD;AAYD,KAtCD;AAuCD,GAxCD;;AA0CA;AAAA;;AACE,SAAK,OAAL,CAAa,aAAb,GAA6B,IAA7B,CAAkC,UAAC,UAAD,EAAW;AAC3C,UAAI,cAAc,GAAG,EAArB;AACA,gBAAU,CAAC,OAAX,CAAmB,UAAC,SAAD,EAAU;AAC3B,YAAI,EAAE,GAAG,IAAI,iEAAJ,CAAc,SAAd,CAAT;;AACA,YAAI,KAAI,CAAC,YAAL,CAAkB,KAAlB,CAAwB,UAAC,IAAD,EAAK;AAAK,qBAAI,CAAC,IAAL,KAAc,EAAE,CAAhB;AAAqB,SAAvD,CAAJ,EAA8D;AAC5D,eAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,EAAvB;;AACA,cAAM,UAAU,GAAG,cAAc,CAAC,SAAf,CAAyB,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,IAAL,KAAc,EAAE,CAAhB;AAAqB,WAAxD,CAAnB;;AACA,cAAI,UAAU,GAAG,CAAC,CAAlB,EAAqB;AACnB,cAAE,CAAC,IAAH,GAAU,cAAc,CAAC,UAAD,CAAd,CAA2B,IAArC;AACD,WAFD,MAEO;AACL,0BAAc,CAAC,IAAf,CAAoB;AAAE,kBAAI,EAAE,EAAE,CAAC,IAAX;AAAiB,kBAAI,EAAE,EAAE,CAAC;AAA1B,aAApB;AACD;AACF;AACF,OAXD;;AAYA,WAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAAC,EAAD,EAAK,KAAL,EAAU;AAClC,YAAI,UAAU,CAAC,KAAX,CAAiB,UAAC,IAAD,EAAK;AAAK,qBAAI,CAAC,QAAL,CAAc,IAAd,KAAuB,EAAE,CAAzB;AAA8B,SAAzD,CAAJ,EAAgE;AAC9D,eAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,KAAzB,EAAgC,CAAhC;;AACA,cAAM,UAAU,GAAG,cAAc,CAAC,SAAf,CAAyB,UAAC,IAAD,EAAK;AAAK,uBAAI,CAAC,IAAL,KAAc,EAAE,CAAhB;AAAqB,WAAxD,CAAnB;;AACA,cAAI,UAAU,GAAG,CAAC,CAAlB,EAAqB;AACnB,0BAAc,CAAC,MAAf,CAAsB,UAAtB,EAAkC,CAAlC;AACD;AACF;AACF,OARD;;AASA,4DAAK,CAAC,SAAN,CAAgB,gBAAhB,EAAkC,cAAlC;AAEA,UAAI,SAAS,GAAG,EAAhB;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,kBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,mBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,iBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,kBAAL,EAAf;;AACA,eAAS,CAAC,IAAV,CAAe,KAAI,CAAC,WAAL,EAAf;;AAEA,WAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B;AAC1B,YAAI,WAAW,GAAG,EAAlB;;AACA,mBAAW,CAAC,IAAZ,CAAiB,KAAI,CAAC,cAAL,EAAjB;;AACA,aAAI,CAAC,EAAL,CAAQ,GAAR,CAAY,WAAZ,EAAyB,IAAzB,CAA8B;AAC5B,eAAI,CAAC,eAAL;;AACA,eAAI,CAAC,iBAAL,GAAyB,IAAzB;AACD,SAHD;AAID,OAPD;AAQD,KAxCD;AAyCD,GA1CD;;AA4CA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,cAAb,GAA8B,IAA9B,CAAmC,UAAC,WAAD,EAAY;AACpD,iBAAW,CAAC,OAAZ,CAAoB,UAAC,IAAD,EAAK;AACvB,YAAI,MAAM,GAAG,IAAI,oEAAJ,CAAe,IAAf,CAAb;;AACA,YAAI,GAAG,GAAG,KAAI,CAAC,cAAL,CAAoB,IAAI,CAAC,QAAL,CAAc,SAAlC,CAAV;;AACA,aAAI,CAAC,gBAAL,CAAsB,IAAtB,CAA2B,MAA3B;;AACA,WAAG,CAAC,WAAJ,CAAgB,IAAhB,CAAqB,MAArB;AACD,OALD;AAMD,KAPM,CAAP;AAQD,GATD;;AAWA;AAAA;;AACE,SAAK,OAAL,CAAa,cAAb,GAA8B,IAA9B,CAAmC,UAAC,cAAD,EAAe;AAChD,WAAI,CAAC,gBAAL,CACG,MADH,CACU,UAAC,UAAD,EAAW;AACjB,eAAO,CAAC,UAAU,CAAC,UAAnB;AACD,OAHH,EAIG,OAJH,CAIW,UAAC,eAAD,EAAgB;AACvB,YAAI,eAAe,GAAG,cAAc,CAAC,MAAf,CAAsB,UAAC,IAAD,EAAK;AAC/C,iBAAO,IAAI,CAAC,QAAL,CAAc,GAAd,KAAsB,eAAe,CAAC,IAAhB,CAAqB,QAArB,CAA8B,GAA3D;AACD,SAFqB,CAAtB;;AAGA,YAAI,eAAe,CAAC,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,yBAAe,GAAG,eAAe,CAAC,CAAD,CAAjC;AACD,SAFD,MAEO;AACL,yBAAe,GAAG,KAAlB;AACD;;AAED,YAAI,eAAe,KAAK,KAAxB,EAA+B;AAC7B,yBAAe,CAAC,MAAhB,CAAuB,eAAvB;AACA,wBAAc,CAAC,MAAf,CAAsB,cAAc,CAAC,OAAf,CAAuB,eAAvB,CAAtB,EAA+D,CAA/D;AACD,SAHD,MAGO;AACL,yBAAe,CAAC,OAAhB;AACD;AACF,OApBH;;AAqBA,oBAAc,GAAG,cAAc,CAAC,GAAf,CAAmB,UAAC,aAAD,EAAc;AAAK,mBAAI,oEAAJ;AAA6B,OAAnE,CAAjB;AACA,WAAI,CAAC,gBAAL,GAAwB,KAAI,CAAC,gBAAL,CAAsB,MAAtB,CAA6B,cAA7B,CAAxB;AAEA,oBAAc,CAAC,OAAf,CAAuB,UAAC,aAAD,EAAc;AACnC,YAAI,GAAG,GAAG,KAAI,CAAC,cAAL,CAAoB,aAAa,CAAC,IAAd,CAAmB,QAAnB,CAA4B,SAAhD,CAAV;;AACA,WAAG,CAAC,WAAJ,CAAgB,IAAhB,CAAqB,aAArB;AACD,OAHD;AAID,KA7BD;AA8BD,GA/BD;;AAiCA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,eAAb,GAA+B,IAA/B,CAAoC,UAAC,YAAD,EAAa;AACtD,kBAAY,CAAC,OAAb,CAAqB,UAAC,IAAD,EAAK;AACxB,YAAI,GAAG,GAAG,KAAI,CAAC,cAAL,CAAoB,IAAI,CAAC,QAAL,CAAc,SAAlC,CAAV;;AACA,YAAI,EAAE,GAAG,IAAI,sEAAJ,CAAgB,IAAhB,CAAT;;AACA,WAAG,CAAC,YAAJ,CAAiB,IAAjB,CAAsB,EAAtB;;AACA,aAAI,CAAC,iBAAL,CAAuB,IAAvB,CAA4B,EAA5B;AACD,OALD;AAMD,KAPM,CAAP;AAQD,GATD;;AAWA;AAAA;;AACE,SAAK,OAAL,CAAa,eAAb,GAA+B,IAA/B,CAAoC,UAAC,YAAD,EAAa;AAC/C,WAAI,CAAC,iBAAL,CACG,MADH,CACU,UAAC,WAAD,EAAY;AAClB,eAAO,CAAC,WAAW,CAAC,UAApB;AACD,OAHH,EAIG,OAJH,CAIW,UAAC,gBAAD,EAAiB;AACxB,YAAI,gBAAgB,GAAG,YAAY,CAAC,MAAb,CAAoB,UAAC,IAAD,EAAK;AAC9C,iBAAO,IAAI,CAAC,QAAL,CAAc,GAAd,KAAsB,gBAAgB,CAAC,IAAjB,CAAsB,QAAtB,CAA+B,GAA5D;AACD,SAFsB,CAAvB;;AAGA,YAAI,gBAAgB,CAAC,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,0BAAgB,GAAG,gBAAgB,CAAC,CAAD,CAAnC;AACD,SAFD,MAEO;AACL,0BAAgB,GAAG,KAAnB;AACD;;AAED,YAAI,gBAAgB,KAAK,KAAzB,EAAgC;AAC9B,0BAAgB,CAAC,MAAjB,CAAwB,gBAAxB;AACA,sBAAY,CAAC,MAAb,CAAoB,YAAY,CAAC,OAAb,CAAqB,gBAArB,CAApB,EAA4D,CAA5D;AACD,SAHD,MAGO;AACL,0BAAgB,CAAC,OAAjB;AACD;AACF,OApBH;;AAqBA,kBAAY,GAAG,YAAY,CAAC,GAAb,CAAiB,UAAC,cAAD,EAAe;AAAK,mBAAI,sEAAJ;AAA+B,OAApE,CAAf;AACA,WAAI,CAAC,iBAAL,GAAyB,KAAI,CAAC,iBAAL,CAAuB,MAAvB,CAA8B,YAA9B,CAAzB;AAEA,kBAAY,CAAC,OAAb,CAAqB,UAAC,cAAD,EAAe;AAClC,YAAI,GAAG,GAAG,KAAI,CAAC,cAAL,CAAoB,cAAc,CAAC,IAAf,CAAoB,QAApB,CAA6B,SAAjD,CAAV;;AACA,WAAG,CAAC,YAAJ,CAAiB,IAAjB,CAAsB,cAAtB;AACD,OAHD;AAID,KA7BD;AA8BD,GA/BD;;AAiCA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,aAAb,GAA6B,IAA7B,CAAkC,UAAC,UAAD,EAAW;AAClD,gBAAU,CAAC,OAAX,CAAmB,UAAC,IAAD,EAAK;AACtB,YAAI,GAAG,GAAG,KAAI,CAAC,cAAL,CAAoB,IAAI,CAAC,QAAL,CAAc,SAAlC,CAAV;;AACA,YAAI,EAAE,GAAG,IAAI,kEAAJ,CAAc,IAAd,CAAT;;AACA,WAAG,CAAC,UAAJ,CAAe,IAAf,CAAoB,EAApB;;AACA,aAAI,CAAC,eAAL,CAAqB,IAArB,CAA0B,EAA1B;AACD,OALD;AAMD,KAPM,CAAP;AAQD,GATD;;AAWA;AAAA;;AACE,SAAK,OAAL,CAAa,aAAb,GAA6B,IAA7B,CAAkC,UAAC,UAAD,EAAW;AAC3C,WAAI,CAAC,eAAL,CACG,MADH,CACU,UAAC,SAAD,EAAU;AAChB,eAAO,CAAC,SAAS,CAAC,UAAlB;AACD,OAHH,EAIG,OAJH,CAIW,UAAC,cAAD,EAAe;AACtB,YAAI,cAAc,GAAG,UAAU,CAAC,MAAX,CAAkB,UAAC,IAAD,EAAK;AAC1C,iBAAO,IAAI,CAAC,QAAL,CAAc,GAAd,KAAsB,cAAc,CAAC,IAAf,CAAoB,QAApB,CAA6B,GAA1D;AACD,SAFoB,CAArB;;AAGA,YAAI,cAAc,CAAC,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,wBAAc,GAAG,cAAc,CAAC,CAAD,CAA/B;AACD,SAFD,MAEO;AACL,wBAAc,GAAG,KAAjB;AACD;;AAED,YAAI,cAAc,KAAK,KAAvB,EAA8B;AAC5B,wBAAc,CAAC,MAAf,CAAsB,cAAtB;AACA,oBAAU,CAAC,MAAX,CAAkB,UAAU,CAAC,OAAX,CAAmB,cAAnB,CAAlB,EAAsD,CAAtD;AACD,SAHD,MAGO;AACL,wBAAc,CAAC,OAAf;AACD;AACF,OApBH;;AAqBA,gBAAU,GAAG,UAAU,CAAC,GAAX,CAAe,UAAC,YAAD,EAAa;AAAK,mBAAI,kEAAJ;AAA2B,OAA5D,CAAb;AACA,WAAI,CAAC,eAAL,GAAuB,KAAI,CAAC,eAAL,CAAqB,MAArB,CAA4B,UAA5B,CAAvB;AAEA,gBAAU,CAAC,OAAX,CAAmB,UAAC,YAAD,EAAa;AAC9B,YAAI,GAAG,GAAG,KAAI,CAAC,cAAL,CAAoB,YAAY,CAAC,IAAb,CAAkB,QAAlB,CAA2B,SAA/C,CAAV;;AACA,WAAG,CAAC,UAAJ,CAAe,IAAf,CAAoB,YAApB;AACD,OAHD;AAID,KA7BD;AA8BD,GA/BD;;AAiCA;AAAA;;AACE,SAAK,YAAL,CAAkB,OAAlB,CAA0B,UAAC,EAAD,EAAG;AAC3B,UAAI,QAAQ,GAAG,KAAI,CAAC,SAAL,CAAe,MAAf,CACb,UAAC,GAAD,EAAI;AAAK,gBAAC,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,eAAnB,IAAsC,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,SAAlB,KAAgC,EAAE,CAAxE;AAA6E,OADzE,CAAf;;AAGA,UAAI,QAAQ,GAAG,KAAI,CAAC,aAAL,CAAmB,MAAnB,CAA0B,UAAC,IAAD,EAAK;AAAK,mBAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,SAAnB;AAAmC,OAAvE,CAAf;;AACA,cAAQ,CAAC,OAAT,CAAiB,UAAC,EAAD,EAAG;AAClB,YAAI,GAAG,GAAG,EAAE,CAAC,IAAH,CAAQ,QAAR,CAAiB,GAA3B;;AACA,aAAI,CAAC,SAAL,CAAe,OAAf,CAAuB,UAAC,GAAD,EAAI;AACzB,cAAI,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,eAAtB,EAAuC;AACrC,gBAAI,CAAC,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,eAAlB,CAAkC,MAAlC,CAAyC,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,IAAL,KAAc,SAAd,IAA2B,IAAI,CAAC,GAAL,KAA3B;AAA2C,aAA9F,EAAgG,CAAhG,CAAL,EAAyG;AACvG,sBAAQ,CAAC,IAAT,CAAc,GAAd;AACD;AACF;AACF,SAND;AAOD,OATD;AAWA,QAAE,CAAC,IAAH,GAAU,QAAV;AACD,KAjBD;AAkBD,GAnBD;;AAqBA;AAAA;;AACE,SAAK,YAAL,CAAkB,OAAlB,CAA0B,UAAC,EAAD,EAAG;AAC3B,QAAE,CAAC,QAAH,GAAc,KAAI,CAAC,aAAL,CAAmB,MAAnB,CAA0B,UAAC,IAAD,EAAK;AAAK,mBAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,SAAnB,KAAiC,EAAE,CAAnC;AAAwC,OAA5E,CAAd;AAEA,QAAE,CAAC,QAAH,CAAY,OAAZ,CAAoB,UAAC,EAAD,EAAG;AACrB,YAAI,GAAG,GAAG,EAAE,CAAC,IAAH,CAAQ,QAAR,CAAiB,GAA3B;AACA,YAAI,QAAQ,GAAG,EAAf;;AAEA,aAAI,CAAC,SAAL,CAAe,OAAf,CAAuB,UAAC,GAAD,EAAI;AACzB,cAAI,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,eAAtB,EAAuC;AACrC,gBAAI,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,eAAlB,CAAkC,MAAlC,CAAyC,UAAC,IAAD,EAAK;AAAK,yBAAI,CAAC,IAAL,KAAc,SAAd,IAA2B,IAAI,CAAC,GAAL,KAA3B;AAA2C,aAA9F,EAAgG,CAAhG,CAAJ,EAAwG;AACtG,sBAAQ,CAAC,IAAT,CAAc,GAAd;AACD;AACF;AACF,SAND;;AAQA,UAAE,CAAC,IAAH,GAAU,QAAV;AACD,OAbD;AAcD,KAjBD;AAkBD,GAnBD;;AAqBA;AAAA;;AACE,SAAK,YAAL,CAAkB,OAAlB,CAA0B,UAAC,EAAD,EAAG;AAC3B,QAAE,CAAC,WAAH,CAAe,OAAf,CAAuB,UAAC,UAAD,EAAW;AAChC,kBAAU,CAAC,IAAX,GAAkB,KAAI,CAAC,oBAAL,CAA0B,UAAU,CAAC,IAAX,CAAgB,IAAhB,CAAqB,QAArB,CAA8B,WAAxD,EAAqE,EAAE,CAAC,IAAxE,CAAlB;AACA,kBAAU,CAAC,QAAX,GAAsB,KAAI,CAAC,cAAL,CAAoB,UAApB,CAAtB;AACD,OAHD;AAIA,QAAE,CAAC,YAAH,CAAgB,OAAhB,CAAwB,UAAC,WAAD,EAAY;AAClC,mBAAW,CAAC,IAAZ,GAAmB,KAAI,CAAC,oBAAL,CAA0B,WAAW,CAAC,IAAZ,CAAiB,IAAjB,CAAsB,QAAtB,CAA+B,WAAzD,EAAsE,EAAE,CAAC,IAAzE,CAAnB;AACA,mBAAW,CAAC,QAAZ,GAAuB,KAAI,CAAC,cAAL,CAAoB,WAApB,CAAvB;AACD,OAHD;AAIA,QAAE,CAAC,UAAH,CAAc,OAAd,CAAsB,UAAC,SAAD,EAAU;AAC9B,iBAAS,CAAC,IAAV,GAAiB,KAAI,CAAC,oBAAL,CAA0B,SAAS,CAAC,IAAV,CAAe,IAAf,CAAoB,QAApB,CAA6B,WAAvD,EAAoE,EAAE,CAAC,IAAvE,CAAjB;AACA,iBAAS,CAAC,QAAV,GAAqB,KAAI,CAAC,cAAL,CAAoB,SAApB,CAArB;AACD,OAHD;AAKA,QAAE,CAAC,IAAH,CAAQ,OAAR,CAAgB,UAAC,GAAD,EAAI;AAClB,WAAG,CAAC,IAAJ,GAAW,KAAI,CAAC,oBAAL,CAA0B,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,MAA5C,EAAoD,EAAE,CAAC,IAAvD,CAAX;AACD,OAFD;AAIA,QAAE,CAAC,QAAH,CAAY,OAAZ,CAAoB,UAAC,IAAD,EAAK;AACvB,YAAI,CAAC,IAAL,CAAU,GAAV,CAAc,UAAC,GAAD,EAAI;AAChB,aAAG,CAAC,IAAJ,GAAW,KAAI,CAAC,oBAAL,CAA0B,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,MAA5C,EAAoD,EAAE,CAAC,IAAvD,CAAX;AACD,SAFD;AAGD,OAJD;AAMA,QAAE,CAAC,KAAH,CAAS,CAAT,EAAY,IAAZ,GAAmB,KAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,UAAC,IAAD,EAAK;AAAK,gBAAC,IAAI,CAAC,IAAN,IAAc,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,SAAnB,KAAiC,EAAE,CAAjD;AAAsD,OAAtF,CAAnB;AACD,KAzBD;AA0BD,GA3BD;;AA6BA;AAAA;;AACE,QAAI,SAAS,GAAG,EAAhB;;AAEA,aAAS,CAAC,IAAV,CAAe,KAAK,WAAL,EAAf;;AAEA,SAAK,EAAL,CAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B;AAC1B,WAAI,CAAC,UAAL;;AACA,WAAI,CAAC,cAAL;AACD,KAHD;AAID,GATD;;AAWA,qDAAqB,MAArB,EAA6B,SAA7B,EAAwC,IAAxC,EAA6D;AAArB;AAAA,aAAO,KAAK,SAAZ;AAAqB;;AAC3D,WAAO,IAAI,CACR,MADI,CACG,UAAC,IAAD,EAAK;AACX,aAAO,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,SAAnB,KAAiC,SAAxC;AACD,KAHI,EAIJ,MAJI,CAIG,UAAC,IAAD,EAAK;AACX,UAAI,MAAM,GAAG,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,MAAhC;;AAEA,UAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,eAAO,KAAP;AACD,OAFD,MAEO;AACL,aAAK,IAAI,IAAT,IAAiB,MAAjB,EAAyB;AACvB,cAAI,CAAC,MAAM,CAAC,cAAP,CAAsB,IAAtB,CAAL,EAAkC;AAChC,mBAAO,KAAP;AACD;;AACD,cAAI,MAAM,CAAC,IAAD,CAAN,KAAiB,MAAM,CAAC,IAAD,CAA3B,EAAmC;AACjC,mBAAO,KAAP;AACD;AACF;AACF;;AACD,UAAI,CAAC,IAAL,GAAY,IAAZ;AACA,aAAO,IAAP;AACD,KArBI,CAAP;AAsBD,GAvBD;;AAyBA,+CAAe,MAAf,EAAqB;AAArB;;AACE,WAAO,KAAK,aAAL,CAAmB,MAAnB,CAA0B,UAAC,IAAD,EAAK;AACpC,UAAI,CAAC,IAAI,CAAC,IAAL,CAAU,IAAX,IAAmB,CAAC,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,QAAvC,EAAiD;AAC/C,eAAO,KAAP;AACD;;AACD,UAAI,WAAW,GAAG,IAAI,CAAC,IAAL,CAAU,IAAV,CAAe,QAAjC;;AACA,UAAI,MAAM,GAAG,KAAI,CAAC,oBAAL,CAA0B,WAA1B,EAAuC,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,SAA1D,EAAqE,MAAM,CAAC,IAA5E,CAAb;;AACA,UAAI,MAAM,CAAC,MAAP,GAAgB,CAApB,EAAuB;AACrB,eAAO,IAAP;AACD;;AAED,aAAO,KAAP;AACD,KAXM,CAAP;AAYD,GAbD;;AAeA;AAAA;;AACE,WAAO,KAAK,aAAL,CAAmB,GAAnB,CAAuB,KAAK,QAAL,CAAc,MAAd,GAAuB,WAA9C,EAA2D,IAA3D,CAAgE,UAAC,EAAD,EAAG;AACxE,WAAI,CAAC,OAAL,GAAe,EAAf;;AACA,WAAI,CAAC,gBAAL,CAAsB,KAAI,CAAC,OAAL,CAAa,WAAnC;;AACA,aAAO,KAAI,CAAC,eAAL,CAAqB,KAAI,CAAC,OAAL,CAAa,UAAlC,EAA8C,IAA9C,CAAmD;AACxD,aAAI,CAAC,SAAL,GAAiB,IAAjB;AACD,OAFM,CAAP;AAGD,KANM,CAAP;AAOD,GARD;;AAUA,gDAAgB,IAAhB,EAAoB;AAApB;;AACE,WAAO,KAAK,aAAL,CAAmB,GAAnB,CAAuB,IAAvB,EAA6B,IAA7B,CAAkC,UAAC,EAAD,EAAG;AAC1C,WAAI,CAAC,YAAL,GAAoB,IAAI,+EAAJ,CAAoB,EAApB,CAApB;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA,wCAAQ,aAAR,EAA6B;AAA7B;;AAAQ;AAAA;AAAqB;;AAC3B,WAAO,KAAK,OAAL,CAAa,OAAb,GAAuB,IAAvB,CAA4B,UAAC,IAAD,EAAK;AACtC,UAAI,IAAI,YAAY,KAApB,EAA2B;AACzB,aAAI,CAAC,SAAL,GAAiB,KAAjB;;AACA,YAAI,aAAJ,EAAmB;AACjB,cAAI,GAAG,IAAI,CAAC,MAAL,CAAY,UAAC,GAAD,EAAI;AAAK,0BAAO,GAAG,CAAC,MAAJ,CAAW,MAAlB;AAAwC,WAA7D,CAAP;AACD;;AACD,aAAI,CAAC,SAAL,GAAiB,IAAI,CAAC,GAAL,CAAS,UAAC,GAAD,EAAI;AAAK,qBAAI,qDAAJ;AAAY,SAA9B,CAAjB;AACD,OAND,MAMO,IAAI,IAAI,YAAY,KAApB,EAA2B;AAChC,aAAI,CAAC,SAAL,GAAiB,IAAjB;AACD;;AAED,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,WAAL,CAAiB,aAAjB;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KAdM,CAAP;AAeD,GAhBD;;AAkBA,4CAAY,aAAZ,EAAiC;AAAjC;;AAAY;AAAA;AAAqB;;AAC/B,SAAK,OAAL,CAAa,OAAb,GAAuB,IAAvB,CAA4B,UAAC,IAAD,EAAK;AAC/B,UAAI,IAAI,YAAY,KAApB,EAA2B;AACzB,aAAI,CAAC,SAAL,GAAiB,KAAjB;;AAEA,YAAI,aAAJ,EAAmB;AACjB,cAAI,GAAG,IAAI,CAAC,MAAL,CAAY,UAAC,GAAD,EAAI;AAAK,0BAAO,GAAG,CAAC,MAAJ,CAAW,MAAlB;AAAwC,WAA7D,CAAP;AACD;;AAED,aAAI,CAAC,SAAL,CACG,MADH,CACU,UAAC,GAAD,EAAI;AAAK,kBAAC,GAAG,CAAJ;AAAe,SADlC,EAEG,OAFH,CAEW,UAAC,QAAD,EAAS;AAChB,cAAI,QAAQ,GAAG,IAAI,CAAC,MAAL,CAAY,UAAC,IAAD,EAAK;AAC9B,mBAAO,IAAI,CAAC,QAAL,CAAc,GAAd,KAAsB,QAAQ,CAAC,IAAT,CAAc,QAAd,CAAuB,GAApD;AACD,WAFc,CAAf;;AAGA,cAAI,QAAQ,CAAC,MAAT,GAAkB,CAAtB,EAAyB;AACvB,oBAAQ,GAAG,QAAQ,CAAC,CAAD,CAAnB;AACD,WAFD,MAEO;AACL,oBAAQ,GAAG,KAAX;AACD;;AAED,cAAI,QAAQ,KAAK,KAAjB,EAAwB;AACtB,oBAAQ,CAAC,MAAT,CAAgB,QAAhB;AACA,gBAAI,CAAC,MAAL,CAAY,IAAI,CAAC,OAAL,CAAa,QAAb,CAAZ,EAAoC,CAApC;AACD,WAHD,MAGO;AACL,oBAAQ,CAAC,OAAT;AACD;AACF,SAlBH;;AAmBA,YAAI,GAAG,IAAI,CAAC,GAAL,CAAS,UAAC,GAAD,EAAI;AAAK,qBAAI,qDAAJ;AAAY,SAA9B,CAAP;AACA,aAAI,CAAC,SAAL,GAAiB,KAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,IAAtB,CAAjB;;AACA,aAAI,CAAC,UAAL,CAAgB,IAAhB;AACD,OA7BD,MA6BO,IAAI,IAAI,YAAY,KAApB,EAA2B;AAChC,aAAI,CAAC,SAAL,GAAiB,IAAjB;AACD;AACF,KAjCD;AAmCA,SAAK,OAAL,CAAa;AACX,WAAI,CAAC,WAAL,CAAiB,aAAjB;AACD,KAFD,EAEG,KAAK,WAFR;AAGD,GAvCD;;AAyCA;AAAA;;AACE,SAAK,OAAL,CAAa,aAAb,GAA6B,IAA7B,CAAkC,UAAC,UAAD,EAAW;AAC3C,UAAI,UAAU,YAAY,KAA1B,EAAiC;AAC/B,aAAI,CAAC,eAAL,GAAuB,KAAvB;AACA,aAAI,CAAC,eAAL,GAAuB,UAAU,CAAC,GAAX,CAAe,UAAC,SAAD,EAAU;AAAK,qBAAI,iEAAJ;AAAwB,SAAtD,CAAvB;AACD,OAHD,MAGO,IAAI,UAAU,YAAY,KAA1B,EAAiC;AACtC,aAAI,CAAC,eAAL,GAAuB,UAAvB;AACD;;AAED,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,wBAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KAXD;AAYD,GAbD;;AAeA;AAAA;;AACE,SAAK,OAAL,CAAa,aAAb,GAA6B,IAA7B,CAAkC,UAAC,UAAD,EAAW;AAC3C,UAAI,UAAU,YAAY,KAA1B,EAAiC;AAC/B,aAAI,CAAC,eAAL,GAAuB,KAAvB;AACA,aAAI,CAAC,eAAL,GAAuB,UAAU,CAAC,GAAX,CAAe,UAAC,SAAD,EAAU;AAAK,qBAAI,iEAAJ;AAAwB,SAAtD,CAAvB;AACD,OAHD,MAGO,IAAI,UAAU,YAAY,KAA1B,EAAiC;AACtC,aAAI,CAAC,eAAL,GAAuB,UAAvB;AACD;;AAED,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,wBAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KAXD;AAYD,GAbD;;AAeA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,WAAb,GAA2B,IAA3B,CAAgC,UAAC,QAAD,EAAS;AAC9C,WAAI,CAAC,aAAL,GAAqB,QAAQ,CAAC,GAAT,CAAa,UAAC,OAAD,EAAQ;AAAK,mBAAI,6DAAJ;AAAoB,OAA9C,CAArB;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,OAAb,GAAuB,IAAvB,CAA4B,UAAC,IAAD,EAAK;AACtC,WAAI,CAAC,SAAL,GAAiB,IAAI,CAAC,GAAL,CAAS,UAAC,GAAD,EAAI;AAAK,mBAAI,qDAAJ;AAAY,OAA9B,CAAjB;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,WAAb,GAA2B,IAA3B,CAAgC,UAAC,QAAD,EAAS;AAC9C,WAAI,CAAC,aAAL,GAAqB,QAAQ,CAAC,GAAT,CAAa,UAAC,OAAD,EAAQ;AAAK,mBAAI,6DAAJ;AAAoB,OAA9C,CAArB;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA;AAAA;;AACE,WAAO,KAAK,OAAL,CAAa,OAAb,GAAuB,IAAvB,CAA4B,UAAC,OAAD,EAAQ;AACzC,WAAI,CAAC,SAAL,CACG,MADH,CACU,UAAC,GAAD,EAAI;AACV,eAAO,CAAC,GAAG,CAAC,UAAZ;AACD,OAHH,EAIG,OAJH,CAIW,UAAC,QAAD,EAAS;AAChB,YAAI,QAAQ,GAAG,OAAO,CAAC,MAAR,CAAe,UAAC,IAAD,EAAK;AACjC,iBAAO,IAAI,CAAC,QAAL,CAAc,GAAd,KAAsB,QAAQ,CAAC,IAAT,CAAc,QAAd,CAAuB,GAApD;AACD,SAFc,CAAf;;AAGA,YAAI,QAAQ,CAAC,MAAT,GAAkB,CAAtB,EAAyB;AACvB,kBAAQ,GAAG,QAAQ,CAAC,CAAD,CAAnB;AACD,SAFD,MAEO;AACL,kBAAQ,GAAG,KAAX;AACD;;AAED,YAAI,QAAQ,KAAK,KAAjB,EAAwB;AACtB,kBAAQ,CAAC,MAAT,CAAgB,QAAhB;AACA,iBAAO,CAAC,MAAR,CAAe,OAAO,CAAC,OAAR,CAAgB,QAAhB,CAAf,EAA0C,CAA1C;AACD,SAHD,MAGO;AACL,kBAAQ,CAAC,OAAT;AACD;AACF,OApBH;;AAqBA,aAAO,GAAG,OAAO,CAAC,GAAR,CAAY,UAAC,MAAD,EAAO;AAAK,mBAAI,qDAAJ;AAAe,OAAvC,CAAV;AACA,WAAI,CAAC,SAAL,GAAiB,KAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,OAAtB,CAAjB;AACD,KAxBM,CAAP;AAyBD,GA1BD;;AA4BA,+CAAe,SAAf,EAAwB;AACtB,WAAO,KAAK,YAAL,CAAkB,MAAlB,CAAyB,UAAC,EAAD,EAAG;AACjC,aAAO,EAAE,CAAC,IAAH,KAAY,SAAnB;AACD,KAFM,EAEJ,CAFI,CAAP;AAGD,GAJD;;AAMA,iDAAiB,IAAjB,EAAqB;AACnB,QAAI,IAAI,KAAK,SAAb,EAAwB;AACtB,WAAK,WAAL,GAAmB,oBAAnB;AACD,KAFD,MAEO;AACL,WAAK,WAAL,GAAmB,IAAI,GAAG,IAA1B;AACD;AACF,GAND;;AAQA,gDAAgB,IAAhB,EAAyB;AAAT;AAAA;AAAS;;AACvB,WAAO,IAAI,CAAC,MAAL,CAAY,UAAC,IAAD,EAAK;AAAK,cAAC,IAAI,CAAL;AAAgB,KAAtC,EAAwC,MAA/C;AACD,GAFD;;AAIA;AAAA;;AACE,QAAI,WAAW,GAAG,KAAK,SAAL,CAAe,MAAf,CAAsB,UAAC,IAAD,EAAK;AAAK,kBAAI,CAAC,YAAL;AAAuB,KAAvD,CAAlB;;AACA,QAAI,WAAW,CAAC,MAAZ,GAAqB,CAArB,IAA0B,WAAW,CAAC,MAAZ,CAAmB,UAAC,GAAD,EAAI;AAAK,gBAAG,CAAC,OAAJ;AAAiC,KAA7D,EAA+D,MAA/D,GAAwE,CAAtG,EAAyG;AACvG,WAAK,SAAL,CAAe,OAAf,CAAuB,UAAC,GAAD,EAAM,KAAN,EAAW;AAChC,YAAI,KAAI,CAAC,YAAL,CAAkB,GAAlB,KAA0B,GAAG,CAAC,OAAJ,KAAgB,iBAA1C,IAA+D,KAAI,CAAC,WAAxE,EAAqF;AACnF,cAAM,KAAK,GAAG,KAAI,CAAC,WAAL,CAAiB,IAAjB,CAAsB,UAAC,KAAD,EAAM;AAAK,wBAAK,CAAC,cAAN,CAAqB,IAArB,KAA8B,GAAG,CAAjC;AAAsC,WAAvE,CAAd;;AACA,cAAI,KAAK,KAAK,SAAd,EAAyB;AACvB,iBAAI,CAAC,SAAL,CAAe,KAAf,EAAsB,OAAtB,GAAgC,KAAK,CAAC,OAAtC;AACD;AACF;AACF,OAPD;AAQD;;AAED,WAAO,KAAK,YAAL,CAAkB,WAAlB,CAAP;AACD,GAdD;;AAgBA,6CAAa,KAAb,EAA+C,IAA/C,EAAuG;AAAxD;AAAA,cAAQ,uDAAR,EAAe,yDAAf,EAAwB,yDAAxB,EAAiC,2DAAjC,EAA4C,6DAA5C;AAAwD;;AACrG,QAAM,MAAM,GAAG,EAAf;AAEA,QAAI,CAAC,OAAL,CAAa,UAAC,MAAD,EAAO;AAClB,YAAM,CAAC,IAAP,CAAW,KAAX,SAAM,uDAAS,KAAK,CAAC,MAAN,CAAa,UAAC,GAAD,EAAI;AAAK,kBAAG,CAAC,MAAJ;AAAqB,OAA3C,CAAT,CAAN;AACD,KAFD;AAIA,WAAO,MAAP;AACD,GARD;;AAUA;AACE,WAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,MAAL;AAAqB,KAApD,CAAP;AACD,GAFD;;AAIA,qCAAK,EAAL,EAAO;AACL,QAAI,GAAG,GAAG,IAAV;;AACA,QAAI,EAAJ,EAAQ;AACN,SAAG,GAAG,QAAQ,CAAC,sBAAT,CAAgC,EAAhC,EAAoC,CAApC,CAAN;AACD;;AACD,QAAI,GAAJ,EAAS;AACP,SAAG,CAAC,cAAJ,CAAmB;AAAE,aAAK,EAAE,QAAT;AAAmB,gBAAQ,EAAE;AAA7B,OAAnB;AACD;AACF,GARD;;AAUA,oDAAoB,MAApB,EAA4E;AAAxD;AAAA;AAAwD;;AAC1E,WAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,MAAD,CAAJ,KAAiB,yDAAjB,IAA4B,IAAI,CAAC,MAAD,CAAJ,KAA5B;AAAkD,KAAjF,CAAP;AACD,GAFD;;AAIA,uDAAuB,MAAvB,EAAwF;AAAjE;AAAA;AAAiE;;AACtF,WAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,MAAD,CAAJ,KAAiB,yDAAjB,IAA4B,IAAI,CAAC,MAAD,CAAJ,KAA5B;AAAkD,KAAjF,CAAP;AACD,GAFD;;AAIA,qDAAqB,MAArB,EAAwD;AAAnC;AAAA;AAAmC;;AACtD,WAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,MAAD,CAAJ,KAAiB,yDAAjB,IAA4B,IAAI,CAAC,MAAD,CAAJ,KAA5B;AAAkD,KAAjF,CAAP;AACD,GAFD;;AAIA;AACE,WAAO,KAAK,eAAL,CAAqB,MAArB,CAA4B,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAC,MAAL;AAAqB,KAA3D,CAAP;AACD,GAFD;;AAIA;AAAA;;AACE,SAAK,OAAL,CAAa,SAAb,GAAyB,IAAzB,CAA8B,UAAC,MAAD,EAAO;AACnC,WAAI,CAAC,WAAL,GAAmB,MAAnB;;AAEA,WAAI,CAAC,OAAL,CAAa;AACX,aAAI,CAAC,SAAL;AACD,OAFD,EAEG,KAAI,CAAC,WAFR;AAGD,KAND;AAOD,GARD;;AAUA,6CAAa,GAAb,EAAqB;AACnB,QAAI,CAAC,GAAG,CAAC,UAAT,EAAqB;AACnB,UAAI,GAAG,CAAC,MAAJ,KAAe,yDAAf,IAA0B,GAAG,CAAC,MAAJ,KAAe,uDAAzC,IAAkD,GAAG,CAAC,MAAJ,KAAe,6DAArE,EAAkF;AAChF,eAAO,IAAP;AACD;;AACD,aAAO,CAAC,KAAK,cAAL,CAAoB,GAApB,CAAR;AACD;;AACD,WAAO,KAAP;AACD,GARD;;AAUA,+CAAe,GAAf,EAAuB;AACrB,WAAO,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,UAAd,CAAyB,KAAzB,CAA+B,UAAC,SAAD,EAAU;AAC9C,UAAM,MAAM,GAAG,EAAf;AACA,UAAM,SAAS,GAAG,EAAlB;;AAEA,UAAI,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAkB,SAAlB,KAAgC,aAAhC,IAAiD,GAAG,CAAC,MAAJ,KAAe,2DAApE,EAA+E;AAC7E,YAAI,CAAC,SAAS,CAAC,SAAV,CAAoB,QAArB,IAAiC,CAAC,SAAS,CAAC,SAAV,CAAoB,QAApB,CAA6B,GAAnE,EAAwE;AACtE,gBAAM,CAAC,IAAP,CAAY,aAAZ;AACD;;AACD,YAAI,CAAC,SAAS,CAAC,SAAV,CAAoB,MAArB,IAA+B,CAAC,SAAS,CAAC,SAAV,CAAoB,MAApB,CAA2B,GAA/D,EAAoE;AAClE,gBAAM,CAAC,IAAP,CAAY,WAAZ;AACD;;AACD,YAAI,CAAC,SAAS,CAAC,SAAV,CAAoB,QAArB,IAAiC,CAAC,SAAS,CAAC,SAAV,CAAoB,QAApB,CAA6B,MAAnE,EAA2E;AACzE,mBAAS,CAAC,IAAV,CAAe,gBAAf;AACD;;AACD,YAAI,CAAC,SAAS,CAAC,SAAV,CAAoB,MAArB,IAA+B,CAAC,SAAS,CAAC,SAAV,CAAoB,MAApB,CAA2B,MAA/D,EAAuE;AACrE,mBAAS,CAAC,IAAV,CAAe,cAAf;AACD;AACF;;AAED,UAAI,MAAM,CAAC,MAAP,GAAgB,CAAhB,IAAqB,SAAS,CAAC,MAAV,GAAmB,CAA5C,EAA+C;AAC7C,WAAG,CAAC,OAAJ,GAAc,iBAAc,SAAS,CAAC,IAAxB,GAA4B,wBAA5B,IACH,MAAM,CAAC,MAAP,IAAiB,aAAa,MAAM,CAAC,IAAP,CAAY,OAAZ,CAAb,GAAoC,GADlD,IACqD,qBADrD,IAEH,SAAS,CAAC,MAAV,IAAoB,aAAa,SAAS,CAAC,IAAV,CAAe,OAAf,CAAb,GAAuC,GAFxD,CAAd;AAGA,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD,KA3BM,CAAP;AA4BD,GA7BD;;AA+BA;AACE,SAAK,QAAL,GAAgB,CAAC,KAAK,QAAtB;AACD,GAFD;;AAGF;AAAC,CAvjCD;;;;;;;;;;;;;;;;;;;;;;ACpBA;AAEA;AACA;AAEA;;AAEA;AAAA;AAAA;AAAmC;;AAqBjC,yBACE,MADF,EAEE,SAFF,EAGS,EAHT,EAIS,UAJT,EAKS,aALT,EAMS,UANT,EAOS,SAPT,EAQS,QART,EASU,OATV,EASiB;AATjB,gBAWE,kBAAM,MAAN,EAAc,UAAd,EAA0B,aAA1B,EAAyC,UAAzC,EAAqD,SAArD,EAAgE,QAAhE,EAA0E,EAA1E,EAA8E,OAA9E,KAAsF,IAXxF;;AAGS;AACA;AACA;AACA;AACA;AACA;AACC;AAfV,2BAAiB,qBAAjB;AACA,uBAAkB,IAAlB;AACA,+BAAqB,IAArB;AACA,6BAAmB,KAAnB;AAeE,SAAI,CAAC,SAAL,GAAiB,KAAjB;AACA,SAAI,CAAC,OAAL,GAAe,2EAAmB,CAAC,OAAD,CAAlC;;AAEA,SAAI,CAAC,WAAL,GAAmB,IAAnB,CAAwB;AACtB,WAAI,CAAC,SAAL;;AACA,WAAI,CAAC,WAAL;;AACA,WAAI,CAAC,UAAL,GACG,IADH,CACQ;AACJ,YAAI,KAAI,CAAC,QAAL,CAAc,MAAd,GAAuB,CAAvB,IAA4B,KAAI,CAAC,UAAL,KAAoB,IAApD,EAA0D;AACxD,eAAI,CAAC,aAAL;AACD;;AACD,aAAI,CAAC,SAAL,GAAiB,IAAjB;AACD,OANH,EAOG,IAPH,CAOQ;AACJ,aAAI,CAAC,mBAAL,GAA2B,IAA3B,CAAgC,aAAQ,CAAxC;AACD,OATH;AAUD,KAbD;;AAeA,QAAM,eAAe,GAAG,YAAY,CAAC,OAAb,CAAqB,KAAI,CAAC,cAA1B,CAAxB;AACA,SAAI,CAAC,IAAL,GAAY,eAAe,GAAG,IAAI,CAAC,KAAL,CAAW,eAAX,CAAH,GAAiC,EAA5D;AAEA,QAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,gBAAvB,CAAb;AACA,QAAI,CAAC,gBAAL,CAAsB,QAAtB,EAAgC;AAC9B,WAAI,CAAC,gBAAL,GAAwB,IAAI,CAAC,SAAL,GAAiB,EAAzC;AACA,YAAM,CAAC,MAAP;AACD,KAHD;;AAID;;AAEK,wCAAN;;;;;;AACsB;AAAA;AAAA,cAAM,KAAK,aAAL,CAAmB,MAAnB,EAAN;;;AAAd,uBAAW,GAAG,SAAd;AACA,gBAAI,GAAG,iEAAP;;AAEN,gBAAI,KAAK,CAAC,OAAN,CAAc,WAAd,CAAJ,EAAgC;AAC9B,mBAAK,QAAL,GAAgB,WAAW,CAAC,MAAZ,CAAmB,UAAC,IAAD,EAAK;AACtC,uBAAO,IAAI,CAAC,IAAL,KAAc,IAArB;AACD,eAFe,CAAhB;AAGD,aAJD,MAIO;AACD,2BAAW,EAAX;AACJ,oBAAM,CAAC,IAAP,CAAY,WAAZ,EAAyB,OAAzB,CAAiC,UAAC,GAAD,EAAI;AACnC,oBAAI,WAAW,CAAC,GAAD,CAAX,CAAiB,IAAjB,KAA0B,IAA9B,EAAoC;AAClC,4BAAQ,CAAC,IAAT,CAAc,WAAW,CAAC,GAAD,CAAzB;AACD;AACF,eAJD;AAKA,mBAAK,QAAL,GAAgB,UAAhB;AACD;;;;;;;;AACF,GAjBK;;AAmBN;AAAA;;AACE,SAAK,UAAL,GAAkB,EAAlB;;AACA,SAAK,gBAAL,CAAsB,KAAK,QAA3B,EAAqC,IAArC,CAA0C,UAAC,GAAD,EAAI;AAC5C,WAAI,CAAC,UAAL,GAAkB,GAAlB;AACD,KAFD;AAGD,GALD;;AAOA,oDAAc,EAAd,EAAgB;AACd,MAAE,CAAC,KAAH,GAAW,KAAX;AACD,GAFD;;AAIA,mDAAa,IAAb,EAAiB;AACf,QAAI,CAAC,MAAL,GAAc,CAAC,IAAI,CAAC,MAApB;AAEA;;;;;;;;AAUD,GAbD;;AAeA,iDAAW,OAAX,EAAyB;AACvB,SAAK,oBAAL,CAA0B,OAA1B;AACD,GAFD;;AAIA,8CAAQ,EAAR,EAAY,MAAZ,EAAkB;AAChB,QAAI,GAAG,GAAG,CAAV;;AAEA,QAAI,EAAE,CAAC,IAAP,EAAa;AACX,SAAG,GAAG,EAAE,CAAC,IAAH,CAAQ,MAAR,CAAe,UAAC,SAAD,EAAY,GAAZ,EAAe;AAClC,YAAI,GAAG,CAAC,aAAJ,CAAkB,MAAlB,CAAJ,EAA+B;AAC7B,iBAAO,SAAS,GAAG,GAAG,CAAC,aAAJ,CAAkB,MAAlB,CAAnB;AACD;;AACD,eAAO,SAAP;AACD,OALK,EAKH,CALG,CAAN;AAMD;;AAED,YAAQ,MAAR;AACE,WAAK,SAAL;AACE,eAAO,wEAAgB,CAAC,GAAG,CAAC,OAAJ,CAAY,CAAZ,CAAD,CAAvB;;AACF,WAAK,cAAL;AACE,eAAO,wEAAgB,CAAC,kEAAU,CAAC,GAAD,CAAX,CAAvB;;AACF,WAAK,UAAL;AACE,eAAO,wEAAgB,CAAC,kEAAU,CAAC,GAAD,CAAX,CAAvB;;AACF,WAAK,YAAL;AACE,eAAO,qEAAa,CAAC,GAAD,CAApB;;AACF,WAAK,iBAAL;AACE,eAAO,qEAAa,CAAC,GAAD,CAApB;;AACF,WAAK,aAAL;AACE,eAAO,qEAAa,CAAC,GAAD,CAApB;;AACF;AACE,eAAO,KAAP;AAdJ;AAgBD,GA5BD;;AA8BA,gDAAU,KAAV,EAAiB,IAAjB,EAAqB;AACnB,QAAI,KAAK,CAAC,OAAV,EAAmB;AACjB,UAAI,IAAI,CAAC,IAAT,EAAe;AACb,aAAK,CAAC,cAAN;AACD;;AACD,WAAK,WAAL,CAAiB,IAAjB;AACD,KALD,MAKO;AACL,UAAI,CAAC,MAAL;AACD;AACF,GATD;;AAWA;AACE,SAAK,WAAL,CAAiB,IAAjB;AACD,GAFD;;AAIA;AACE,SAAK,WAAL,CAAiB,KAAjB;AACD,GAFD;;AAIA,kDAAY,IAAZ,EAA+B;AAC7B,yDAAK,UAAL,CAAa,WAAb;AACA,QAAI,SAAS,GAAG,EAAhB;AACA,SAAK,QAAL,CAAc,GAAd,CAAkB,UAAC,EAAD,EAAG;AACnB,QAAE,CAAC,IAAH,GAAU,IAAI,KAAK,IAAT,IAAiB,IAAI,KAAK,KAA1B,GAAkC,IAAlC,GAAyC,IAAI,CAAC,IAAL,KAAc,EAAE,CAAC,IAApE;AACA,eAAS,CAAC,IAAV,CAAe;AAAE,YAAI,EAAE,EAAE,CAAC,IAAX;AAAiB,YAAI,EAAE,EAAE,CAAC;AAA1B,OAAf;AACD,KAHD;AAIA,yDAAK,CAAC,SAAN,CAAgB,WAAhB,EAA6B,SAA7B;AACD,GARD;;AAUA,0DAAoB,IAApB,EAA+B;AAC7B,WAAO,IAAI,CAAC,MAAL,CAAY,UAAC,GAAD,EAAI;AAAK,gBAAG,CAAC,UAAJ;AAAwB,KAA7C,CAAP;AACD,GAFD;;AAIA,2CAAK,GAAL,EAAU,OAAV,EAAmB,SAAnB,EAA4B;AAC1B,QAAI,KAAK,QAAL,CAAc,SAAd,KAA4B,KAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,CAAhC,EAA8E;AAC5E,UAAI,KAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,EAA6C,IAA7C,CAAkD,OAAlD,CAA0D,GAA1D,MAAmE,CAAvE,EAA0E;AACxE,aAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,EAA6C,IAA7C,GAAoD,MAAM,GAA1D;AACD,OAFD,MAEO;AACL,aAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,EAA6C,IAA7C,GAAoD,GAApD;AACD;AACF;AACF,GARD;;AAUA,2CAAK,GAAL,EAAU,OAAV,EAAmB,SAAnB,EAA4B;AAC1B,QAAI,KAAK,QAAL,CAAc,SAAd,KAA4B,KAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,CAAhC,EAA8E;AAC5E,UAAI,KAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,EAA6C,IAA7C,CAAkD,OAAlD,CAA0D,GAA1D,MAAmE,CAAvE,EAA0E;AACxE,eAAO,uCAAP;AACD,OAFD,MAEO,IAAI,KAAK,QAAL,CAAc,SAAd,EAAyB,UAAzB,CAAoC,OAApC,EAA6C,IAA7C,CAAkD,OAAlD,CAA0D,MAAM,GAAhE,MAAyE,CAA7E,EAAgF;AACrF,eAAO,qCAAP;AACD;AACF;;AACD,WAAO,0CAAP;AACD,GATD;;AAWA;AACE,SAAK,kBAAL,GAA0B,CAAC,KAAK,kBAAhC;AACD,GAFD;;AAIA;AACE,WAAO,KAAK,QAAL,GAAgB,KAAK,QAAL,CAAc,MAA9B,GAAuC,CAA9C;AACD,GAFD;;AAIA;AACE,WAAO,KAAK,QAAL,GAAgB,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAC,IAAD,EAAK;AAAK,iBAAI,CAAJ;AAAS,KAAxC,EAA0C,MAA1D,GAAmE,CAA1E;AACD,GAFD;;AAIA,gDAAU,QAAV,EAA0B;AACxB,QAAI,KAAK,IAAL,CAAU,QAAV,MAAwB,SAA5B,EAAuC;AACrC,WAAK,IAAL,CAAU,QAAV,IAAsB,KAAtB;AACD,KAFD,MAEO;AACL,WAAK,IAAL,CAAU,QAAV,IAAsB,CAAC,KAAK,IAAL,CAAU,QAAV,CAAvB;AACD;;AACD,gBAAY,CAAC,OAAb,CAAqB,KAAK,cAA1B,EAA0C,IAAI,CAAC,SAAL,CAAe,KAAK,IAApB,CAA1C;AACD,GAPD;;AA7MO,8BAAc,+CAAd;AACA,0BAAU,CACf,QADe,EAEf,WAFe,EAGf,IAHe,EAIf,YAJe,EAKf,eALe,EAMf,YANe,EAOf,WAPe,EAQf,UARe,EASf,SATe,CAAV;AAoNT;AAAC,CAtND,CAAmC,iDAAnC;;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAOE,gCAAY,MAAZ,EAAoB,SAApB,EAAuC,EAAvC,EAAyC;AAAF;AACrC,SAAK,OAAL,GAAe,KAAf;AACA,SAAK,WAAL,CAAiB,iBAAjB;AACD;;AAED;AAAA;;AACE,QAAI,CAAC,KAAK,QAAL,CAAc,OAAnB,EAA4B;AAC1B,aAAO,KAAK,EAAL,CAAQ,OAAR,EAAP;AACD;;AACD,WAAO,KAAK,WAAL,CAAiB,gBAAjB,GAAoC,IAApC,CAAyC;AAC9C,WAAI,CAAC,OAAL,GAAe,IAAf;AACA,aAAO;AACL,WAAG,EAAE,kDADA;AAEL,eAAO,EAAE;AAFJ,OAAP;AAID,KANM,CAAP;AAOD,GAXD;;AAXO,qCAAc,oBAAd;AACA,iCAAU,CAAC,QAAD,EAAW,WAAX,EAAwB,IAAxB,CAAV;AAsBT;AAAC,CAxBD;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,sEAAa,CAAC;AACZ,MAAI,EAAE,oDADM;AAEZ,OAAK,EAAE;AAFK,CAAD,CAAb;;;;;;;;;;;;ACTA,2D;;;;;;;;;;;ACAA,8D;;;;;;;;;;;ACAA,yE;;;;;;;;;;;ACAA,wE","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","const ERROR = 3;\nconst WARNING = 2;\nconst TERMINATING = 1;\nconst SUCCESS = 0;\nconst SUCCEEDED = 4;\n\nconst COLOR_YELLOW = '#ffff0096';\nconst COLOR_RED = '#a52a2a';\nconst COLOR_GREEN = '#299c46';\n\nconst PODS_LIMIT = 10;\n\nconst TYPE_PROMETHEUS = 'prometheus';\n\nconst TYPE_DATASOURCE = 'devopsprodidy-kubegraf-datasource';\nexport {\n  ERROR,\n  WARNING,\n  TERMINATING,\n  SUCCESS,\n  SUCCEEDED,\n  COLOR_YELLOW,\n  COLOR_RED,\n  COLOR_GREEN,\n  PODS_LIMIT,\n  TYPE_PROMETHEUS,\n  TYPE_DATASOURCE\n};\n","import { Pod } from './types/pod';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nlet __prepare = (items) => {\n  return items.map((item) => {\n    return {\n      name: item.metadata.name,\n      data: item,\n    };\n  });\n};\n\nlet __preparePods = (pods) => {\n  return pods.map((item) => {\n    return new Pod(item);\n  });\n};\n\nlet __convertToGB = (bytes) => {\n  return kbn.valueFormats['bytes'](bytes, 3, null);\n};\n\nlet __convertToHours = (seconds) => {\n  return kbn.valueFormats['ms'](seconds, 1, null);\n};\n\nlet __roundCpu = (cpu) => {\n  return parseFloat(cpu).toFixed(3);\n};\n\nlet __convertToMicro = (cpu) => {\n  return cpu * 1000 + 'm';\n};\n\nlet __getLastNonNullValue = (dataset) => {\n  if (dataset) {\n    let skiper = dataset.filter((item) => item[0] != null);\n    return skiper[skiper.length - 1][0];\n  }\n};\n\nlet __percentUsed = (used, allocatable) => {\n  return ((parseFloat(used) / parseFloat(allocatable)) * 100).toFixed(2) + '%';\n};\n\nconst __getGrafanaVersion = (window) => {\n  let version = 5;\n\n  try {\n    version = window.grafanaBootData.settings.buildInfo.version.split('.')[0];\n  } catch (e) {\n    console.error(e);\n  }\n\n  return version;\n};\n\nexport {\n  __prepare,\n  __preparePods,\n  __convertToGB,\n  __roundCpu,\n  __percentUsed,\n  __convertToMicro,\n  __getLastNonNullValue,\n  __getGrafanaVersion,\n  __convertToHours,\n};\n","//import moment from \"moment\";\nimport { dateTime } from '@grafana/data';\n\nexport class PrometheusProxy {\n  ds: any;\n  version: any;\n\n  constructor(ds) {\n    this.ds = ds;\n  }\n\n  query(query: any, debug = false) {\n    let body = {\n      //range: { from: moment().subtract(2, \"minute\"), to: moment() },\n      range: { from: dateTime().subtract(2, 'minute'), to: dateTime() },\n      targets: [{ expr: query.expr, format: 'time_series' }],\n      legendFormat: '{{' + query.legend + '}}',\n      interval: '15s',\n    };\n\n    let res = this.ds.query(body);\n    if (typeof res.then !== 'function') {\n      res = res.toPromise();\n    }\n\n    return res.then((res) => {\n      if (res && res.data) {\n        return this.formData(res.data, query, debug);\n      } else {\n        return {};\n      }\n    });\n  }\n\n  formData(data, query, debug = false) {\n    return data.map((item) => {\n      if (debug) {\n        console.log(item);\n      }\n\n      return {\n        target: this.__getName(item, query),\n        datapoint: this.__getLastNonNullValue(item),\n      };\n    });\n  }\n\n  __getLastNonNullValue = (item) => {\n    if (item.fields) {\n      let valueField = item.fields.filter((row) => {\n        return row.name && row.name === 'Value';\n      });\n\n      if (valueField) {\n        let vArr = valueField[0].values.buffer.filter((point) => point != null);\n        let value = vArr[vArr.length - 1];\n        if (value == null) {\n          console.log(item);\n        }\n        return value;\n      }\n    } else if (item.datapoints) {\n      let skiper = item.datapoints.filter((item) => item[0] != null);\n      return skiper[skiper.length - 1][0];\n    } else {\n      return 0;\n    }\n  };\n\n  __getName = (item, query) => {\n    if (item.target !== undefined) {\n      return item.target.substring(query.legend.length + 3, item.target.length - 2);\n    }\n\n    if (item.name !== undefined) {\n      return item.name.substring(query.legend.length + 3, item.name.length - 2);\n    }\n  };\n}\n","export class Store {\n  get(key: string) {\n    return window.localStorage[key];\n  }\n\n  set(key: string, value: any) {\n    window.localStorage[key] = value;\n  }\n\n  getBool(key: string, def: any) {\n    if (def !== void 0 && !this.exists(key)) {\n      return def;\n    }\n    return window.localStorage[key] === 'true';\n  }\n\n  getObject(key: string, def?: any) {\n    let ret = def;\n    if (this.exists(key)) {\n      const json = window.localStorage[key];\n      try {\n        ret = JSON.parse(json);\n      } catch (error) {\n        console.error(`Error parsing store object: ${key}. Returning default: ${def}. [${error}]`);\n      }\n    }\n    return ret;\n  }\n\n  // Returns true when successfully stored\n  setObject(key: string, value: any): boolean {\n    let json;\n    try {\n      json = JSON.stringify(value);\n    } catch (error) {\n      console.error(`Could not stringify object: ${key}. [${error}]`);\n      return false;\n    }\n    try {\n      this.set(key, json);\n    } catch (error) {\n      // Likely hitting storage quota\n      console.error(`Could not save item in localStorage: ${key}. [${error}]`);\n      return false;\n    }\n    return true;\n  }\n\n  exists(key: string) {\n    return window.localStorage[key] !== void 0;\n  }\n\n  delete(key: string) {\n    window.localStorage.removeItem(key);\n  }\n}\n\nexport const store = new Store();\nexport default store;\n","import { BaseModel } from '../../common/types/traits/baseModel';\nimport { ERROR, SUCCESS, COLOR_RED, COLOR_GREEN } from '../../common/constants';\n\nexport class Component extends BaseModel {\n  constructor(data) {\n    super(data);\n  }\n\n  get status() {\n    let type = this.data.conditions.filter((item) => item.type === 'Healthy')[0];\n\n    if (type !== undefined && type.status === 'True') {\n      return SUCCESS;\n    } else {\n      return ERROR;\n    }\n  }\n\n  get color() {\n    switch (this.status) {\n      case SUCCESS:\n        return COLOR_GREEN;\n      case ERROR:\n        return COLOR_RED;\n      default:\n        return;\n    }\n  }\n\n  get message() {\n    let conditions = this.data.conditions;\n\n    if (conditions) {\n      let message = conditions.filter((item) => item.type === 'Healthy')[0];\n      return message && message.message;\n    }\n  }\n}\n","import { Job } from '../../common/types/job';\nimport { BaseModel } from '../../common/types/traits/baseModel';\n\nexport class Cronjob extends BaseModel {\n  jobs: Job[];\n\n  constructor(data) {\n    super(data);\n    this.jobs = [];\n  }\n}\n","import { Pod } from './pod';\nimport { Service } from './service';\nimport { BaseModel } from '../../common/types/traits/baseModel';\n\nexport class Daemonset extends BaseModel {\n  pods: Pod[];\n  services: Service[];\n\n  constructor(data: any) {\n    super(data);\n    this.pods = [];\n  }\n}\n","import { Pod } from './pod';\nimport { Service } from './service';\nimport { BaseModel } from './traits/baseModel';\n\nexport class Deployment extends BaseModel {\n  pods: Pod[];\n  services: Service[];\n\n  constructor(data: any) {\n    super(data);\n    this.pods = [];\n    this.services = [];\n  }\n}\n","import { Pod } from '../../common/types/pod';\nimport { BaseModel } from '../../common/types/traits/baseModel';\n\nexport class Job extends BaseModel {\n  pods: Pod[];\n\n  constructor(data) {\n    super(data);\n    this.pods = [];\n  }\n}\n","import { Deployment } from './deployment';\nimport { Statefulset } from './statefulset';\nimport { Daemonset } from './daemonset';\nimport store from '../../common/store';\nimport { Pod } from '../../common/types/pod';\nimport { Job } from '../../common/types/job';\nimport { Cronjob } from '../../common/types/cronjob';\nimport { BaseModel } from '../../common/types/traits/baseModel';\n\nexport class Namespace extends BaseModel {\n  deployments: Deployment[];\n  statefulsets: Statefulset[];\n  daemonsets: Daemonset[];\n  other: Array<{ pods: Pod[] }>;\n  jobs: Job[];\n  cronJobs: Cronjob[];\n  sort: string;\n\n  constructor(data) {\n    super(data);\n    this.deployments = [];\n    this.statefulsets = [];\n    this.daemonsets = [];\n    this.other = [{ pods: [] }];\n    this.sort = 'name';\n  }\n\n  toggle() {\n    super.toggle();\n    let namespaceStore = store.getObject('namespaceStore');\n    let index = namespaceStore.findIndex((item) => item.name === this.name);\n    if (index || index === 0) {\n      namespaceStore[index].open = this.open;\n    }\n    store.setObject('namespaceStore', namespaceStore);\n  }\n}\n","import { Pod } from './pod';\nimport { __convertToGB, __roundCpu, __percentUsed, __getLastNonNullValue } from '../helpers';\nimport store from '../../common/store';\nimport { BaseModel } from '../../common/types/traits/baseModel';\nimport { ERROR, SUCCESS, WARNING, COLOR_YELLOW, COLOR_RED, COLOR_GREEN } from '../constants';\n\nexport class Node extends BaseModel {\n  hideNs: boolean;\n  namespaces: Array<{\n    name: string;\n    limit: number | boolean;\n    pods: Pod[];\n    sort: string;\n  }>;\n  metrics: {\n    cpuRequested: number | string;\n    memoryRequested: number | string;\n    cpuUsed: number | string;\n    memoryUsed: number | string;\n    podsCount: number | string;\n    cpuLimit: number | string;\n    memoryLimit: number | string;\n  };\n\n  cpuIndicate: boolean;\n  memoryIndicate: boolean;\n  podsIndicate: boolean;\n  cpuRequestedIndicate: boolean;\n  memoryRequestedIndicate: boolean;\n  podsRequestedIndicate: boolean;\n  cpuLimitIndicate: boolean;\n  memoryLimitIndicate: boolean;\n\n  constructor(data) {\n    super(data);\n    this.namespaces = [];\n    this.metrics = {\n      cpuUsed: 'N/A',\n      memoryUsed: 'N/A',\n      podsCount: 'N/A',\n      cpuRequested: 'N/A',\n      memoryRequested: 'N/A',\n      cpuLimit: 'N/A',\n      memoryLimit: 'N/A',\n    };\n    this.cpuIndicate = false;\n    this.memoryIndicate = false;\n    this.podsIndicate = false;\n    this.cpuRequestedIndicate = false;\n    this.memoryRequestedIndicate = false;\n    this.podsRequestedIndicate = false;\n    this.cpuLimitIndicate = false;\n    this.memoryLimitIndicate = false;\n    this.nsListState();\n    this.hideNs = store.getBool(this.name + 'NsList', false);\n  }\n\n  toggle() {\n    super.toggle();\n    let nodeStore = store.getObject('nodeStore');\n    let index = nodeStore.findIndex((item) => item.name === this.name);\n    if (index || index === 0) {\n      nodeStore[index].open = this.open;\n    }\n    store.setObject('nodeStore', nodeStore);\n  }\n\n  nsListState() {\n    if (store.get(this.name + 'NsList') === undefined) {\n      store.set(this.name + 'NsList', true);\n    }\n\n    return store.get(this.name + 'NsList');\n  }\n\n  get status() {\n    let type = this.data.status.conditions.filter((item) => item.type === 'Ready')[0];\n\n    if (type !== undefined && type.status === 'True') {\n      return SUCCESS;\n    } else {\n      return ERROR;\n    }\n  }\n\n  get podsCount() {\n    if (this.namespaces) {\n      return this.namespaces.reduce((accumulator, currentValue) => {\n        return accumulator + currentValue.pods.length;\n      }, 0);\n    }\n    return 0;\n  }\n\n  get color() {\n    if (this.status === SUCCESS) {\n      return '#18e018';\n    } else {\n      return COLOR_RED;\n    }\n  }\n\n  get message() {\n    if (this.status === SUCCESS) {\n      return 'ok';\n    } else {\n      return \"Node isn't ready\";\n    }\n  }\n\n  get cpuStatus() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n    return this.__getStatus(this.metrics.cpuUsed, cpu);\n  }\n\n  get cpuStatusRequested() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n    return this.__getStatusRequested(this.metrics.cpuRequested, cpu);\n  }\n\n  get cpuLimitStatus() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n    return this.__getStatusLimit(this.metrics.cpuLimit, cpu);\n  }\n\n  get memoryStatus() {\n    return this.__getStatus(this.metrics.memoryUsed, this.__getBytes(this.data.status.allocatable.memory));\n  }\n\n  get memoryStatusRequested() {\n    return this.__getStatusRequested(\n      this.metrics.memoryRequested,\n      this.__getBytes(this.data.status.allocatable.memory)\n    );\n  }\n\n  get memoryLimitStatus() {\n    return this.__getStatusLimit(this.metrics.memoryLimit, this.__getBytes(this.data.status.allocatable.memory));\n  }\n\n  get podsStatus() {\n    return this.__getStatus(this.metrics.podsCount, this.data.status.allocatable.pods);\n  }\n\n  get podsStatusRequested() {\n    return this.__getStatusRequested(this.metrics.podsCount, this.data.status.allocatable.pods);\n  }\n\n  get hostIp() {\n    return this.data.status.addresses.filter((item) => item.type === 'InternalIP')[0].address;\n  }\n\n  get memoryCapacityFormatted() {\n    return __convertToGB(this.__getBytes(this.data.status.capacity.memory));\n  }\n\n  get memoryAllocatableFormatted() {\n    return __convertToGB(this.__getBytes(this.data.status.allocatable.memory));\n  }\n\n  get cpuAllocatableFormatted() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n    return cpu;\n  }\n\n  /*used format*/\n\n  get memoryUsedFormatted() {\n    return (\n      __convertToGB(this.metrics.memoryUsed) +\n      ' (' +\n      __percentUsed(this.metrics.memoryUsed, this.__getBytes(this.data.status.allocatable.memory)) +\n      ')'\n    );\n  }\n\n  get memoryRequestedFormatted() {\n    return (\n      __convertToGB(this.metrics.memoryRequested) +\n      ' (' +\n      __percentUsed(this.metrics.memoryRequested, this.__getBytes(this.data.status.allocatable.memory)) +\n      ')'\n    );\n  }\n\n  get memoryLimitFormatted() {\n    return (\n      __convertToGB(this.metrics.memoryLimit) +\n      ' (' +\n      __percentUsed(this.metrics.memoryLimit, this.__getBytes(this.data.status.allocatable.memory)) +\n      ')'\n    );\n  }\n\n  get cpuUsedFormatted() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n\n    return __roundCpu(this.metrics.cpuUsed) + ' (' + __percentUsed(this.metrics.cpuUsed, cpu) + ')';\n  }\n\n  get cpuRequestedFormatted() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n\n    return __roundCpu(this.metrics.cpuRequested) + ' (' + __percentUsed(this.metrics.cpuRequested, cpu) + ')';\n  }\n\n  get cpuLimitFormatted() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n\n    return __roundCpu(this.metrics.cpuLimit) + ' (' + __percentUsed(this.metrics.cpuLimit, cpu) + ')';\n  }\n\n  get podsUsedFormatted() {\n    return (\n      this.metrics.podsCount + ' (' + __percentUsed(this.metrics.podsCount, this.data.status.allocatable.pods) + ')'\n    );\n  }\n\n  get podsRequestedFormatted() {\n    return (\n      this.metrics.podsCount + ' (' + __percentUsed(this.metrics.podsCount, this.data.status.allocatable.pods) + ')'\n    );\n  }\n\n  /*percent used*/\n\n  get cpuPercentUsed() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n    return __roundCpu(this.metrics.cpuUsed) + ' / ' + cpu + ' (' + __percentUsed(this.metrics.cpuUsed, cpu) + ')';\n  }\n\n  get cpuPercentRequested() {\n    let cpu = this.data.status.allocatable.cpu;\n    if (cpu.indexOf('m') > -1) {\n      cpu = parseInt(cpu, 10) / 1000;\n    }\n    return (\n      __roundCpu(this.metrics.cpuRequested) + ' / ' + cpu + ' (' + __percentUsed(this.metrics.cpuRequested, cpu) + ')'\n    );\n  }\n\n  get memoryPercentUsed() {\n    let used = this.metrics.memoryUsed;\n    let allocatable = this.__getBytes(this.data.status.allocatable.memory);\n    let percent = __percentUsed(used, allocatable);\n    return __convertToGB(used) + ' / ' + __convertToGB(allocatable) + ' (' + percent + ') ';\n  }\n\n  get memoryPercentRequested() {\n    let allocatable = this.__getBytes(this.data.status.allocatable.memory);\n    let percent = __percentUsed(this.metrics.memoryRequested, allocatable);\n    return __convertToGB(this.metrics.memoryRequested) + ' / ' + __convertToGB(allocatable) + ' (' + percent + ') ';\n  }\n\n  get podsPercentUsed() {\n    let used = this.metrics.podsCount;\n    let allocatable = this.data.status.allocatable.pods;\n    let percent = __percentUsed(used, allocatable);\n    return used + ' / ' + allocatable + ' (' + percent + ') ';\n  }\n\n  /*color*/\n\n  get rowCpuColor() {\n    return this.__getColor(this.cpuStatus);\n  }\n\n  get rowCpuRequestedColor() {\n    return this.__getColor(this.cpuStatusRequested);\n  }\n\n  get rowCpuLimitColor() {\n    return this.__getColor(this.cpuLimitStatus);\n  }\n\n  get rowMemoryColor() {\n    return this.__getColor(this.memoryStatus);\n  }\n\n  get rowMemoryRequestedColor() {\n    return this.__getColor(this.memoryStatusRequested);\n  }\n\n  get rowMemoryLimitColor() {\n    return this.__getColor(this.memoryLimitStatus);\n  }\n\n  get rowPodsColor() {\n    return this.__getColor(this.podsStatus);\n  }\n\n  get rowPodsRequestedColor() {\n    return this.__getColor(this.podsStatusRequested);\n  }\n\n  parseMetrics(cpuReq, memoryReq, pods, cpuUsed, memoryUsed, cpuLimit, memoryLimit) {\n    const currentStatus = {\n      podsStatus: this.podsStatus,\n      podsStatusRequested: this.podsStatusRequested,\n      cpuStatus: this.cpuStatus,\n      cpuStatusRequested: this.cpuStatusRequested,\n      cpuLimitStatus: this.cpuLimitStatus,\n      memoryStatus: this.memoryStatus,\n      memoryStatusRequested: this.memoryStatusRequested,\n      memoryLimitStatus: this.memoryLimitStatus,\n    };\n\n    this.metrics.cpuRequested = this.__getLastMetric(cpuReq);\n    this.metrics.memoryRequested = this.__getLastMetric(memoryReq);\n    this.metrics.podsCount = this.__getLastMetricByInstance(pods);\n    this.metrics.cpuUsed = this.__getLastMetricByInstance(cpuUsed);\n    this.metrics.memoryUsed = this.__getLastMetricByInstance(memoryUsed);\n    this.metrics.cpuLimit = this.__getLastMetricByInstance(cpuLimit);\n    this.metrics.memoryLimit = this.__getLastMetricByInstance(memoryLimit);\n\n    for (const type in currentStatus) {\n      if (currentStatus.hasOwnProperty(type) && this.hasOwnProperty(type)) {\n        if (currentStatus[type] !== undefined && currentStatus[type] !== this[type]) {\n          this.setMetricIndicated(type);\n        }\n      }\n    }\n  }\n\n  setMetricIndicated(metricStatus) {\n    const map = {\n      podsStatus: 'podsIndicate',\n      podsStatusRequested: 'podsRequestedIndicate',\n      cpuStatus: 'cpuIndicate',\n      cpuStatusRequested: 'cpuRequestedIndicate',\n      cpuLimitStatus: 'cpuLimitIndicate',\n      memoryStatus: 'memoryIndicate',\n      memoryStatusRequested: 'memoryRequestedIndicate',\n      memoryLimitStatus: 'memoryLimitIndicate',\n    };\n    if (map[metricStatus] && this.hasOwnProperty(map[metricStatus])) {\n      this[map[metricStatus]] = true;\n      setTimeout(() => {\n        this[map[metricStatus]] = false;\n      }, 10000);\n    }\n  }\n\n  __getLastMetricByInstance(metrics) {\n    const datapoints = metrics.filter((item) => {\n      return item.target.includes(this.hostIp) || item.target.includes(this.name);\n    })[0];\n\n    if (datapoints !== undefined) {\n      return datapoints.datapoint;\n    }\n    return 'N/A';\n  }\n\n  __getLastMetric(metrics) {\n    const datapoints = metrics.filter((item) => {\n      return item.target === this.name;\n    })[0];\n\n    if (datapoints !== undefined) {\n      return datapoints.datapoint;\n    }\n    return 'N/A';\n  }\n\n  __getBytes(str: string): number {\n    let bytes = this.__parseInt(str) * 1024;\n    if (str.indexOf('Mi') > -1) {\n      bytes = bytes * 1024;\n    }\n    return bytes;\n  }\n\n  __parseInt(str: string): number {\n    return parseInt(str, 10);\n  }\n\n  __getStatus(used, allocatable) {\n    let diff = used / allocatable;\n\n    if (diff <= 0.5) {\n      return SUCCESS;\n    } else if (diff > 0.5 && diff <= 0.8) {\n      return WARNING;\n    } else if (diff > 0.8) {\n      return ERROR;\n    } else {\n      return;\n    }\n  }\n\n  __getStatusRequested(requested, allocatable) {\n    let diff = requested / allocatable;\n\n    if (diff <= 0.5) {\n      return SUCCESS;\n    } else if (diff > 0.5 && diff <= 0.8) {\n      return WARNING;\n    } else if (diff > 0.8) {\n      return ERROR;\n    } else {\n      return;\n    }\n  }\n\n  __getStatusLimit(limit, allocatable): number {\n    let diff = limit / allocatable;\n\n    if (diff <= 0.9) {\n      return SUCCESS;\n    } else if (diff > 0.9 && diff <= 1) {\n      return WARNING;\n    } else if (diff > 1) {\n      return ERROR;\n    }\n    return;\n  }\n\n  __getColor(status): string {\n    switch (status) {\n      case SUCCESS:\n        return COLOR_GREEN;\n      case WARNING:\n        return COLOR_YELLOW;\n      case ERROR:\n        return COLOR_RED;\n      default:\n        return;\n    }\n  }\n}\n","import { ERROR, SUCCEEDED, SUCCESS, TERMINATING, WARNING } from '../constants';\nimport { BaseModel } from './traits/baseModel';\n\nexport class Pod extends BaseModel {\n  metrics: {\n    cpuUsed: number | string;\n    memoryUsed: number | string;\n    cpuRequested: number | string;\n    memoryRequested: number | string;\n    cpuLimit: number | string;\n    memoryLimit: number | string;\n  };\n  sourceMetrics: {\n    cpuUsed: number;\n    memoryUsed: number;\n    cpuRequested: number;\n    memoryRequested: number;\n    cpuLimit: number;\n    memoryLimit: number;\n  };\n  used: boolean;\n  private eventMessage: string = null;\n\n  constructor(data) {\n    super(data);\n    this.metrics = {\n      cpuUsed: 'N-A',\n      memoryUsed: 'N-A',\n      cpuRequested: 'N-A',\n      memoryRequested: 'N-A',\n      cpuLimit: 'N-A',\n      memoryLimit: 'N-A',\n    };\n    this.sourceMetrics = {\n      cpuUsed: null,\n      memoryUsed: null,\n      cpuRequested: null,\n      memoryRequested: null,\n      cpuLimit: null,\n      memoryLimit: null,\n    };\n    this.used = false;\n  }\n\n  get status() {\n    if (this.data.metadata.deletionTimestamp) {\n      return TERMINATING;\n    } else if (this.data.status.phase === 'Running') {\n      let conditionStatus;\n      let containerStatuses;\n      let initContainerStatuses;\n\n      if (this.data.status.conditions) {\n        conditionStatus = this.data.status.conditions.filter((item) => item.status === 'False');\n        conditionStatus.length > 0 ? (conditionStatus = true) : (conditionStatus = false);\n      }\n      if (this.data.status.containerStatuses) {\n        containerStatuses = this.data.status.containerStatuses.filter((item) => item.ready === false);\n        containerStatuses.length > 0 ? (containerStatuses = true) : (containerStatuses = false);\n      }\n      if (this.data.status.initContainerStatuses) {\n        initContainerStatuses = this.data.status.initContainerStatuses.filter((item) => item.ready === false);\n        initContainerStatuses.length > 0 ? (initContainerStatuses = true) : (initContainerStatuses = false);\n      }\n      if (conditionStatus || containerStatuses || initContainerStatuses) {\n        return ERROR;\n      } else {\n        return SUCCESS;\n      }\n    } else {\n      switch (this.data.status.phase) {\n        case 'Pending':\n          return WARNING;\n        case 'Succeeded':\n          return SUCCEEDED;\n        case 'Failed':\n          return ERROR;\n        case 'Unknown':\n          return ERROR;\n        default:\n          return ERROR;\n      }\n    }\n  }\n\n  get color() {\n    switch (this.status) {\n      case ERROR:\n        return 'error';\n      case WARNING:\n        return 'warning';\n      case TERMINATING:\n        return 'terminating';\n      case SUCCESS:\n        return 'success';\n      case SUCCEEDED:\n        return 'succeeded';\n      default:\n        return 'success';\n    }\n  }\n\n  get message() {\n    if (this.eventMessage) {\n      return this.eventMessage;\n    }\n\n    let status = this.status;\n    let data = this.data;\n    let phase = this.data.status.phase;\n    let message = 'Pod is ' + phase;\n    if (status === ERROR) {\n      if (data.status.containerStatuses) {\n        let d = data.status.containerStatuses.filter((item) => item.ready === false)[0];\n        if (d && d.state && d.state.waiting) {\n          if (d.state.waiting.message && d.state.waiting.reason) {\n            message = d.state.waiting.reason + '. ' + d.state.waiting.message;\n            return message;\n          }\n        }\n      } else if (data.status.conditions) {\n        let d = data.status.conditions.filter(\n          (item) => item.ready === false || (item.type === 'PodScheduled' && item.status === 'False')\n        )[0];\n        if (d !== undefined) {\n          return d.message;\n        }\n      } else if (data.status.message) {\n        return data.status.message;\n      }\n      return 'Undefined error';\n    } else {\n      if (this.data.metadata.deletionTimestamp) {\n        return 'Pod is Terminating';\n      } else if (phase === 'Running' || phase === 'Succeeded') {\n        return 'Pod is ' + phase;\n      } else {\n        if (data.status.containerStatuses) {\n          let d = data.status.containerStatuses.filter((item) => item.ready === false)[0];\n          if (d.state.waiting.message && d.state.waiting.message.length > 0) {\n            message = d.state.waiting.message;\n          }\n        } else if (data.status.conditions) {\n          let d = data.status.conditions.filter(\n            (item) => item.ready === false || (item.type === 'PodScheduled' && item.status === 'False')\n          )[0];\n          if (d !== undefined) {\n            message = d.message;\n          }\n        } else if (data.status.message) {\n          message = data.status.message;\n        }\n        return message;\n      }\n    }\n  }\n\n  set message(msg) {\n    this.eventMessage = msg;\n  }\n\n  get NaMessage() {\n    return 'Prometheus metrics unavailable';\n  }\n\n  get usageCpuColor() {\n    if (this.sourceMetrics.cpuUsed === null) {\n      return '';\n    }\n\n    if (this.sourceMetrics.cpuRequested && this.sourceMetrics.cpuLimit) {\n      const min =\n        (this.sourceMetrics.cpuLimit - this.sourceMetrics.cpuRequested) * 0.5 + this.sourceMetrics.cpuRequested;\n      const max =\n        (this.sourceMetrics.cpuLimit - this.sourceMetrics.cpuRequested) * 0.8 + this.sourceMetrics.cpuRequested;\n\n      if (this.sourceMetrics.cpuUsed < min) {\n        return 'green';\n      } else if (this.sourceMetrics.cpuUsed >= max) {\n        return 'red';\n      } else {\n        return 'yellow';\n      }\n    }\n    return 'red';\n  }\n\n  get usageMemoryColor() {\n    if (this.sourceMetrics.memoryUsed === null) {\n      return '';\n    }\n\n    if (this.sourceMetrics.memoryRequested && this.sourceMetrics.memoryLimit) {\n      const min =\n        (this.sourceMetrics.memoryLimit - this.sourceMetrics.memoryRequested) * 0.5 +\n        this.sourceMetrics.memoryRequested;\n      const max =\n        (this.sourceMetrics.memoryLimit - this.sourceMetrics.memoryRequested) * 0.8 +\n        this.sourceMetrics.memoryRequested;\n\n      if (this.sourceMetrics.memoryUsed < min) {\n        return 'green';\n      } else if (this.sourceMetrics.memoryUsed >= max) {\n        return 'red';\n      } else {\n        return 'yellow';\n      }\n    }\n\n    return 'red';\n  }\n}\n","import { BaseModel } from '../../common/types/traits/baseModel';\n\nexport class Service extends BaseModel {\n  constructor(data) {\n    super(data);\n  }\n}\n","import { Pod } from './pod';\nimport { Service } from './service';\nimport { BaseModel } from '../../common/types/traits/baseModel';\n\nexport class Statefulset extends BaseModel {\n  pods: Pod[];\n  services: Service[];\n\n  constructor(data: any) {\n    super(data);\n    this.pods = [];\n  }\n}\n","import { PODS_LIMIT } from '../../constants';\nexport class BaseModel {\n  name: string;\n  data: any;\n  is_deleted: boolean;\n  open: boolean;\n  limit: number | boolean;\n\n  constructor(data) {\n    this.name = data.metadata.name;\n    this.data = data;\n    this.is_deleted = false;\n    this.open = true;\n    this.limit = PODS_LIMIT;\n  }\n\n  update(data) {\n    this.name = data.metadata.name;\n    this.data = data;\n  }\n\n  destroy() {\n    this.is_deleted = true;\n  }\n\n  toggle() {\n    this.open = !this.open;\n  }\n\n  showAllPods() {\n    this.limit = false;\n  }\n}\n","import store from '../../common/store';\n\nimport { K8sPage } from '../k8s-page';\nimport { __getGrafanaVersion } from '../../common/helpers';\nimport { TYPE_DATASOURCE } from \"../../common/constants\";\n\nexport class ApplicationsOverview extends K8sPage {\n  static $inject = [\n    '$scope',\n    '$injector',\n    '$q',\n    'backendSrv',\n    'datasourceSrv',\n    'contextSrv',\n    '$location',\n    '$timeout',\n    '$window',\n  ];\n  static templateUrl = 'components/applications-overview/applications-overview.html';\n  columnNames: Array<{\n    colName: string;\n    nsKey: string;\n  }>;\n  hideAllWarningPods: boolean;\n  version: number;\n  open: { [key: string]: boolean };\n  storageOpenKey = 'application-overview-open';\n  showColumn: { [key: string]: { [key: string]: boolean } };\n  storageShowColumnKey = 'application-overview-show-column';\n  showScrollButton = false;\n  clusters: any[];\n\n  constructor(\n    $scope,\n    $injector,\n    public $q,\n    public backendSrv,\n    public datasourceSrv,\n    public contextSrv,\n    public $location,\n    public $timeout,\n    private $window\n  ) {\n    super($scope, backendSrv, datasourceSrv, contextSrv, $location, $timeout, $q, $window);\n    this.pageReady = false;\n    this.version = __getGrafanaVersion($window);\n\n    this.__prepareDS().then(() => {\n      this.getEvents();\n      this.getClusters();\n      this.getClusterComponents();\n      this.getNamespaceMap();\n    });\n\n    this.columnNames = [\n      {\n        colName: 'Deployments',\n        nsKey: 'deployments',\n      },\n      {\n        colName: 'Statefulsets',\n        nsKey: 'statefulsets',\n      },\n      {\n        colName: 'Daemonsets',\n        nsKey: 'daemonsets',\n      },\n      {\n        colName: 'Other pods',\n        nsKey: 'other',\n      },\n      {\n        colName: 'Cron Jobs',\n        nsKey: 'cronJobs',\n      },\n      {\n        colName: 'Jobs',\n        nsKey: 'jobs',\n      },\n    ];\n    this.hideAllWarningPods = true;\n\n    const openFromStorage = localStorage.getItem(this.storageOpenKey);\n    this.open = openFromStorage ? JSON.parse(openFromStorage) : {};\n\n    //const showColumnFromStorage = localStorage.getItem(this.storageShowColumnKey);\n    const showColumnFromStorage = false;\n    this.showColumn = showColumnFromStorage ? JSON.parse(showColumnFromStorage) : { cronJobs: {}, jobs: {}, other: {} };\n    if (typeof this.showColumn.other === 'undefined') {\n      this.showColumn.other = {};\n    }\n\n    const elem = document.querySelector('.scroll-canvas');\n    elem.addEventListener('scroll', () => {\n      this.showScrollButton = elem.scrollTop > 64;\n      $scope.$apply();\n    });\n  }\n\n  async getClusters() {\n    const datasources = await this.datasourceSrv.getAll();\n    const type = TYPE_DATASOURCE;\n\n    if (Array.isArray(datasources)) {\n      this.clusters = datasources.filter((item) => {\n        return item.type === type;\n      });\n    } else {\n      let clusters = [];\n      Object.keys(datasources).forEach((key) => {\n        if (datasources[key].type === type) {\n          clusters.push(datasources[key]);\n        }\n      });\n      this.clusters = clusters;\n    }\n  }\n\n  __showAll() {\n    this.toggleNamespace(true);\n  }\n\n  __hideAll() {\n    this.toggleNamespace(false);\n  }\n\n  namespaceClick(event, namespace) {\n    if (event.ctrlKey || event.metaKey) {\n      if (namespace.open) {\n        event.preventDefault();\n      }\n      this.toggleNamespace(namespace);\n    } else {\n      namespace.toggle();\n    }\n  }\n\n  toggleNamespace(namespace: boolean | any) {\n    store.delete('namespaceStore');\n    let namespaceStore = [];\n    this.namespaceMap.map((ns) => {\n      ns.open = namespace === true || namespace === false ? namespace : namespace.name === ns.name;\n      namespaceStore.push({ name: ns.name, open: ns.open });\n    });\n    store.setObject('namespaceStore', namespaceStore);\n  }\n\n  updatePods(newPods): void {\n    this.refreshNamespaceMap();\n  }\n\n  toggleAllWarningPods() {\n    this.hideAllWarningPods = !this.hideAllWarningPods;\n  }\n\n  namespaceFilterIsDeleted(namespaces) {\n    return namespaces.filter((item) => item.is_deleted === false || typeof item.is_deleted === 'undefined');\n  }\n\n  namespaceCount(): number {\n    return this.namespaceMap ? this.namespaceMap.length : 0;\n  }\n\n  namespaceActiveCount(): number {\n    return this.namespaceMap ? this.namespaceMap.filter((namespace) => namespace.open).length : 0;\n  }\n\n  toggleTab(namespace: string): void {\n    if (this.open[namespace] === undefined) {\n      this.open[namespace] = false;\n    } else {\n      this.open[namespace] = !this.open[namespace];\n    }\n    localStorage.setItem(this.storageOpenKey, JSON.stringify(this.open));\n  }\n\n  toggleColumn(columnName: string, namespace: string): void {\n    if (this.showColumn[columnName][namespace] === undefined) {\n      this.showColumn[columnName][namespace] = true;\n    } else {\n      this.showColumn[columnName][namespace] = !this.showColumn[columnName][namespace];\n    }\n    //localStorage.setItem(this.storageShowColumnKey, JSON.stringify(this.showColumn));\n  }\n\n  showCheck(columnName: string, namespace: string): boolean {\n    return (\n      (columnName !== 'jobs' && columnName !== 'cronJobs' && columnName !== 'other') ||\n      (this.showColumn[columnName][namespace] !== undefined && this.showColumn[columnName][namespace] !== false)\n    );\n  }\n}\n","import { K8sPage } from '../k8s-page';\nimport { __getGrafanaVersion } from '../../common/helpers';\nimport { COLOR_GREEN, COLOR_RED, COLOR_YELLOW, ERROR, TYPE_DATASOURCE, WARNING } from '../../common/constants';\n\nexport class ClusterAlerts extends K8sPage {\n  static templateUrl = 'components/cluster-alerts/cluster-alerts.html';\n  static $inject = [\n    '$scope',\n    '$injector',\n    '$q',\n    'backendSrv',\n    'datasourceSrv',\n    'contextSrv',\n    '$location',\n    '$timeout',\n    '$window',\n  ];\n  clusters: any[];\n  version: number;\n  showScrollButton = false;\n\n  constructor(\n    $scope,\n    $injector,\n    public $q,\n    public backendSrv,\n    public datasourceSrv,\n    public contextSrv,\n    public $location,\n    public $timeout,\n    private $window\n  ) {\n    super($scope, backendSrv, datasourceSrv, contextSrv, $location, $timeout, $q, $window);\n    this.pageReady = false;\n    this.version = __getGrafanaVersion($window);\n\n    this.__prepareDS().then(() => {\n      let _promises = [];\n\n      _promises.push(this.getEvents());\n      _promises.push(this.getPods());\n      _promises.push(this.getClusterComponents());\n      _promises.push(this.getClusters());\n      _promises.push(\n        this.getNodeMap(true).then(() => {\n          this.getResourcesMetrics().then(() => {\n            this.nodesMapReady = true;\n          });\n        })\n      );\n\n      this.$q.all(_promises).then(() => {\n        this.pageReady = true;\n      });\n    });\n\n    const elem = document.querySelector('.scroll-canvas');\n    elem.addEventListener('scroll', () => {\n      this.showScrollButton = elem.scrollTop > 64;\n      $scope.$apply();\n    });\n  }\n  getAlertsNodesByCPU2(status: 'cpuStatus' | 'cpuStatusRequested' = 'cpuStatus') {}\n\n  async getClusters() {\n    const datasources = await this.datasourceSrv.getAll();\n    const type = TYPE_DATASOURCE;\n\n    if (Array.isArray(datasources)) {\n      this.clusters = datasources.filter((item) => {\n        return item.type === type;\n      });\n    } else {\n      let clusters = [];\n      Object.keys(datasources).forEach((key) => {\n        if (datasources[key].type === type) {\n          clusters.push(datasources[key]);\n        }\n      });\n      this.clusters = clusters;\n    }\n  }\n\n  getAlertsNodesByResources(): any[] {\n    return this.nodesMap\n      .filter(this.resourceProblem)\n      .map((node: any) => {\n        if (\n          node.cpuStatus === ERROR ||\n          node.cpuStatusRequested === ERROR ||\n          node.memoryStatus === ERROR ||\n          node.memoryStatusRequested === ERROR ||\n          node.podsStatus === ERROR\n        ) {\n          node.statusColor = COLOR_RED;\n          node.statusForSort = ERROR;\n        } else {\n          node.statusColor = COLOR_YELLOW;\n          node.statusForSort = WARNING;\n        }\n        node.statusMessage = this.nodeMessages(node).join(';<br/>');\n        return node;\n      })\n      .sort((a, b) => b.statusForSort - a.statusForSort);\n  }\n\n  clusterProblem() {\n    const warnings = [\n      this.getWarningNodes().length === 0,\n      this.getAlertsNodesByCPU().length === 0,\n      this.getAlertsNodesByMemory().length === 0,\n      this.getAlertsNodesByPods().length === 0,\n      this.getAlertsNodesByCPU('cpuStatusRequested').length === 0,\n      this.getAlertsNodesByMemory('memoryStatusRequested').length === 0,\n      this.getWarningPods().length === 0,\n      this.getAlertsComponents.length === 0,\n    ];\n\n    return this.nodesError || this.componentsError || this.podsError || warnings.some((w) => w !== true);\n  }\n\n  resourceProblem(node): boolean {\n    return (\n      node.cpuStatus === WARNING ||\n      node.cpuStatus === ERROR ||\n      node.cpuStatusRequested === ERROR ||\n      node.cpuStatusRequested === WARNING ||\n      node.memoryStatus === ERROR ||\n      node.memoryStatus === WARNING ||\n      node.memoryStatusRequested === ERROR ||\n      node.memoryStatusRequested === WARNING ||\n      node.podsStatus === WARNING ||\n      node.podsStatus === ERROR\n    );\n  }\n\n  nodeMessages(node): string[] {\n    const messages: string[] = [];\n    if (node.cpuStatus === ERROR || node.cpuStatus === WARNING) {\n      messages.push(`CPU used: ${node.cpuPercentUsed}`);\n    }\n    if (node.cpuStatusRequested === ERROR || node.cpuStatusRequested === WARNING) {\n      messages.push(`CPU requested: ${node.cpuPercentRequested}`);\n    }\n    if (node.memoryStatus === ERROR || node.memoryStatus === WARNING) {\n      messages.push(`Memory used: ${node.memoryPercentUsed}`);\n    }\n    if (node.memoryStatusRequested === ERROR || node.memoryStatusRequested === WARNING) {\n      messages.push(`Memory requested: ${node.memoryPercentUsed}`);\n    }\n    if (node.podsStatus === ERROR || node.podsStatus === WARNING) {\n      messages.push(`Pods count used: ${node.podsPercentUsed}`);\n    }\n    return messages;\n  }\n}\n","import appEvents from 'grafana/app/core/app_events';\nimport { TYPE_DATASOURCE, TYPE_PROMETHEUS } from '../../common/constants';\nimport { __getGrafanaVersion } from '../../common/helpers';\n\nexport class ClusterConfig {\n  static templateUrl = 'components/cluster-config/cluster-config.html';\n  static $inject = ['$scope', '$injector', 'backendSrv', 'datasourceSrv', 'alertSrv', '$q', '$location', '$window'];\n  cluster: any;\n  prometheusList: any[];\n  busy: boolean;\n  $scope: any;\n  pageReady: boolean;\n  version: number;\n  retry = 3;\n\n  constructor(\n    $scope,\n    $injector,\n    private backendSrv,\n    private datasourceSrv,\n    private alertSrv,\n    private $q,\n    private $location,\n    private $window\n  ) {\n    this.pageReady = false;\n    this.$scope = $scope;\n    this.busy = false;\n    this.version = __getGrafanaVersion($window);\n\n    this.getCluster().finally(() => {\n      this.pageReady = true;\n      this.$scope.$apply();\n    });\n  }\n\n  async getCluster(): Promise<void> {\n    if ('clusterId' in this.$location.search()) {\n      await this.getDatasource(this.$location.search().clusterId);\n      document.title = 'DevOpsProdigy KubeGraf | Edit cluster';\n    } else {\n      this.cluster = {\n        type: TYPE_DATASOURCE,\n        access: 'proxy',\n        jsonData: {\n          refresh_pods_rate: '60',\n          access_via_token: false,\n          prom_name: '',\n        },\n      };\n      document.title = 'DevOpsProdigy KubeGraf | New cluster';\n    }\n\n    await this.getPrometheusList();\n  }\n\n  getPrometheusList() {\n    return this.backendSrv.get('/api/datasources').then((datasources) => {\n      this.prometheusList = datasources.filter((item) => {\n        return item.type === TYPE_PROMETHEUS;\n      });\n      let defProm = this.prometheusList.filter((item) => item.isDefault);\n      if (defProm.length > 0 && this.cluster.jsonData.prom_name === '') {\n        this.cluster.jsonData.prom_name = defProm[0].name;\n      }\n    });\n  }\n\n  saveCluster() {\n    if (this.busy) {\n      return;\n    }\n    this.busy = true;\n    this.cluster.jsonData.cluster_url = this.cluster.url;\n\n    return this.saveDatasource()\n      .then((res) => {\n        if (res && res.datasource) {\n          this.cluster = res.datasource;\n          this.testCluster();\n        }\n      })\n      .finally(() => {\n        this.busy = false;\n      });\n  }\n\n  check(): boolean {\n    return !this.pageReady ? false : this.$scope.clusterForm.$valid;\n  }\n\n  saveDatasource() {\n    return this.cluster.id ? this.updateDatasource() : this.createDatasource();\n  }\n\n  createDatasource() {\n    return this.backendSrv.post('/api/datasources', this.cluster).then(\n      (res) => {\n        return this.$q.resolve(res);\n      },\n      (err) => {\n        return this.$q.reject(err);\n      }\n    );\n  }\n\n  updateDatasource() {\n    return this.backendSrv.put('/api/datasources/' + this.cluster.id, this.cluster).then(\n      (res) => {\n        return this.$q.resolve(res);\n      },\n      (err) => {\n        return this.$q.reject(err);\n      }\n    );\n  }\n\n  getDatasource(id) {\n    return this.backendSrv.get('/api/datasources/' + id).then((result) => {\n      if (!result.jsonData.prom_name) {\n        result.jsonData.prom_name = '';\n      }\n\n      if (!result.jsonData.refresh_pods_rate) {\n        result.jsonData.refresh_pods_rate = '60';\n      }\n\n      this.cluster = result;\n    });\n  }\n\n  testCluster() {\n    let url = '/api/v1/namespaces';\n    let _url = '/api/datasources/proxy/' + this.cluster.id;\n    if (this.cluster.jsonData.access_via_token) {\n      _url += '/__proxy';\n    }\n    _url += url;\n    this.backendSrv\n      .datasourceRequest({\n        url: _url,\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' },\n      })\n      .then(\n        (response) => {\n          if (response && response.status === 200) {\n            setTimeout(() => {\n              window.history.back();\n            }, 800);\n          } else {\n            appEvents.emit('alert-error', ['Unhandled error']);\n          }\n        },\n        (error) => {\n          if (error && error.status && error.statusText) {\n            appEvents.emit('alert-error', [error.status + ' ' + error.statusText]);\n          } else {\n            appEvents.emit('alert-error', ['Unhandled error']);\n          }\n        }\n      );\n  }\n}\n","export class ClusterOverview {\n  static $inject = ['$location'];\n  constructor($location) {\n    const cluster = $location.search().clusterName;\n    if (cluster) {\n      window.location.href = 'plugins/devopsprodigy-kubegraf-app/page/applications-overview?clusterName=' + cluster;\n    }\n  }\n}\n","import appEvents from 'grafana/app/core/app_events';\nimport { __getGrafanaVersion } from '../../common/helpers';\nimport { TYPE_DATASOURCE } from \"../../common/constants\";\n\nexport class ClustersList {\n  static $inject = ['$scope', '$injector', 'backendSrv', 'datasourceSrv', 'contextSrv', 'utilSrv', '$window'];\n  static templateUrl = 'components/clusters-list/clusters-list.html';\n  isReady: boolean;\n  clusters: any[];\n  $scope: any;\n  isAdmin: boolean;\n  version: number;\n  showScrollButton = false;\n\n  constructor(\n    $scope,\n    $injector,\n    private backendSrv,\n    private datasourceSrv,\n    private contextSrv,\n    private utilSrv,\n    private $window\n  ) {\n    this.isReady = false;\n    this.$scope = $scope;\n    this.version = __getGrafanaVersion($window);\n    document.title = 'DevOpsProdigy KubeGraf';\n\n    try {\n      this.getClusters().then(() => {\n        this.isReady = true;\n        this.$scope.$apply();\n      });\n    } catch (e) {\n      console.error(e);\n    }\n\n    try {\n      this.isAdmin = this.contextSrv.hasRole('Admin');\n    } catch (e) {\n      console.error(e);\n      this.isAdmin = false;\n    }\n\n    const elem = document.querySelector('.scroll-canvas');\n    elem.addEventListener('scroll', () => {\n      this.showScrollButton = elem.scrollTop > 64;\n      $scope.$apply();\n    });\n  }\n\n  async getClusters() {\n    const datasources = await this.datasourceSrv.getAll();\n    const type = TYPE_DATASOURCE;\n\n    if (Array.isArray(datasources)) {\n      this.clusters = datasources.filter((item) => {\n        return item.type === type;\n      });\n    } else {\n      let clusters = [];\n      Object.keys(datasources).forEach((key) => {\n        if (datasources[key].type === type) {\n          clusters.push(datasources[key]);\n        }\n      });\n      this.clusters = clusters;\n    }\n  }\n\n  deleteCluster(cluster) {\n    appEvents.emit('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete this cluster?',\n      yesText: 'Delete',\n      icon: 'fa-trash',\n      onConfirm: () => {\n        this.confirmDelete(cluster.id);\n      },\n    });\n  }\n\n  confirmDelete(id) {\n    this.backendSrv.delete('/api/datasources/' + id).then(() => {\n      this.clusters = this.clusters.filter((item) => {\n        return item.id !== id;\n      });\n      this.$scope.$apply();\n    });\n  }\n}\n","import appEvents from 'grafana/app/core/app_events';\nimport { Pod } from '../common/types/pod';\nimport { PrometheusProxy } from '../common/proxies/prometheusProxy';\nimport { ERROR, PODS_LIMIT, SUCCEEDED, SUCCESS, TERMINATING, WARNING } from '../common/constants';\nimport { Component } from '../common/types/component';\nimport { Service } from '../common/types/service';\nimport { Job } from '../common/types/job';\nimport { Cronjob } from '../common/types/cronjob';\nimport { Namespace } from '../common/types/namespace';\nimport store from '../common/store';\nimport { Deployment } from '../common/types/deployment';\nimport { Statefulset } from '../common/types/statefulset';\nimport { Daemonset } from '../common/types/daemonset';\nimport { Node } from '../common/types/node';\nimport { __convertToGB, __convertToHours, __convertToMicro, __roundCpu } from '../common/helpers';\n\nconst REFRESH_RATE_DEFAULT = 60000;\nconst ERROR_MSG_MEMORY_REQUESTS_LIMITS = 'Memory limits and requests not configured';\nconst ERROR_MSG_CPU_REQUESTS_LIMITS = 'CPU limits and requests not configured';\n\nexport class K8sPage {\n  pageReady: boolean;\n  namespaceMapReady: boolean;\n  nodesMapReady = false;\n  $scope: any;\n  cluster: any;\n  prometheusDS: any;\n  isAdmin: boolean;\n  location: any;\n  backendSrv: any;\n  datasourceSrv: any;\n  contextSrv: any;\n  timeout: any;\n  refreshRate: number;\n  $q: any;\n  scrollToTop: object;\n\n  //common store\n  storePods: Pod[] = [];\n  storeEvents: any[] = null;\n  storeComponents: Component[] = [];\n  storeServices: Service[] = [];\n  storeJobs: Job[] = [];\n  storeCronJobs: Cronjob[] = [];\n  storeDeployments: Deployment[] = [];\n  storeStatefulSets: Statefulset[] = [];\n  storeDaemonSets: Daemonset[] = [];\n  namespaceMap: Namespace[] = [];\n  nodesMap: Node[] = [];\n  nodesError: Boolean | Error = false;\n  podsError: Boolean | Error = false;\n  componentsError: Boolean | Error = false;\n  orgId = 1;\n  showMenu = false;\n  updatePods(pods: Pod[]) {}\n\n  constructor($scope, backendSrv, datasourceSrv, contextSrv, $location, timeout, $q, $window) {\n    this.$q = $q;\n    this.$scope = $scope;\n    this.pageReady = false;\n    this.location = $location;\n    this.backendSrv = backendSrv;\n    this.contextSrv = contextSrv;\n    this.datasourceSrv = datasourceSrv;\n    this.timeout = timeout;\n    this.orgId = $window.grafanaBootData && $window.grafanaBootData.user ? $window.grafanaBootData.user.orgId : 1;\n    try {\n      this.isAdmin = this.contextSrv.hasRole('Admin');\n    } catch (e) {\n      console.error(e);\n      this.isAdmin = false;\n    }\n    if (!('clusterName' in $location.search())) {\n      appEvents.emit('alert-error', ['Cluster not specified']);\n\n      return;\n    }\n    document.title = 'DevOpsProdigy KubeGraf';\n\n    const elem = document.querySelector('.scroll-canvas');\n    this.scrollToTop = () => {\n      elem.scrollTo({\n        top: 0,\n        left: elem.scrollLeft,\n        behavior: 'smooth',\n      });\n    };\n  }\n\n  async __getServersInfo(nodes: Node[]) {\n    const info = [];\n    const instance = nodes\n      .reduce((accumulator: string[], node) => [...accumulator, `${node.name}|${node.hostIp}:.+`], [])\n      .join('|');\n\n    const result = await Promise.all([\n      this.prometheusDS.query(\n        {\n          expr: `count(count(node_cpu_seconds_total{instance=~\"${instance}\"}) by (cpu, instance)) by (instance)`,\n          legend: 'instance',\n        },\n        false\n      ), //cpuCores\n      this.prometheusDS.query(\n        {\n          expr: `sum(node_memory_MemTotal_bytes{instance=~\"${instance}\"}) by (instance)`,\n          legend: 'instance',\n        },\n        false\n      ), //ramTotal\n      this.prometheusDS.query(\n        {\n          expr: `sum(node_memory_SwapTotal_bytes{instance=~\"${instance}\"}) by (instance)`,\n          legend: 'instance',\n        },\n        false\n      ), //swapTotal\n      this.prometheusDS.query(\n        {\n          expr: `sum(node_filesystem_size_bytes{instance=~\"${instance}\",mountpoint=\"/\",fstype!=\"rootfs\"}) by (instance)`,\n          legend: 'instance',\n        },\n        false\n      ), //rootFSTotal\n      this.prometheusDS.query(\n        {\n          expr: `sum(node_load1{instance=~\"${instance}\"}) by (instance)`,\n          legend: 'instance',\n        },\n        false\n      ), //sysLoad\n      this.prometheusDS.query(\n        {\n          expr: `sum(node_time_seconds{instance=~\"${instance}\"} - node_boot_time_seconds{instance=~\"${instance}\"}) by (instance)`,\n          legend: 'instance',\n        },\n        false\n      ), //uptime\n    ]);\n\n    for (const node of nodes) {\n      const datapoints = result.map((item) => {\n        return item.find((element) => element.target === node.name || element.target.indexOf(`${node.hostIp}:`) === 0);\n      });\n\n      info[node.name] = {\n        cpuCores: datapoints[0] && datapoints[0].datapoint,\n        ramTotal: datapoints[1] && __convertToGB(datapoints[1].datapoint),\n        swapTotal: datapoints[2] && __convertToGB(datapoints[2].datapoint),\n        rootFSTotal: datapoints[3] && __convertToGB(datapoints[3].datapoint),\n        sysLoad: datapoints[4] && datapoints[4].datapoint,\n        uptime: datapoints[5] && __convertToHours(datapoints[5].datapoint * 1000),\n      };\n    }\n\n    return info;\n  }\n\n  getNodeDashboardLink(node) {\n    let dbUrl = 'dashboard/db/devopsprodigy-kubegraf-nodes-dashboard?orgId=' + this.orgId;\n    dbUrl += '&' + 'var-cluster=' + this.cluster.name;\n    dbUrl += '&' + 'var-node=' + node.name;\n    return dbUrl;\n  }\n\n  getPodDashboardLink(pod) {\n    let dbUrl = 'dashboard/db/devopsprodigy-kubegraf-pods-dashboard?orgId=' + this.orgId;\n    dbUrl += '&' + 'var-cluster=' + this.cluster.name;\n    dbUrl += '&' + 'var-namespace=' + pod.data.metadata.namespace;\n    dbUrl += '&' + 'var-pod=' + pod.name;\n    return dbUrl;\n  }\n\n  getEntityDashboardLink(entity, name) {\n    let entityName = name.substring(0, name.length - 1);\n    let dbUrl = 'dashboard/db/devopsprodigy-kubegraf-' + name + '-dashboard?orgId=' + this.orgId;\n    dbUrl += '&' + 'var-cluster=' + this.cluster.name;\n    dbUrl += '&' + 'var-namespace=' + entity.data.metadata.namespace;\n    dbUrl += '&' + 'var-' + entityName + '=' + entity.name;\n    return dbUrl;\n  }\n\n  getNodeMap(withoutPods = false) {\n    let _promises = [];\n    _promises.push(this.getNodes());\n\n    if (!withoutPods) {\n      _promises.push(this.getPods(true));\n    }\n\n    return this.$q.all(_promises).then(() => {\n      if (!withoutPods) {\n        this.insertPodsToNodesMap(this.storePods);\n        this.getPodsMetrics();\n      }\n\n      this.timeout(() => {\n        this.refreshNodes();\n      }, this.refreshRate);\n    });\n  }\n\n  getResourcesMetrics() {\n    let _promises = [];\n    _promises.push(this.__getCpuMetricsRequested());\n    _promises.push(this.__getMemoryMetricsRequested());\n    _promises.push(this.__getPodsCountMetrics());\n    _promises.push(this.__getCpuMetricsUsed());\n    _promises.push(this.__getMemoryMetricsUsed());\n    _promises.push(this.__getCpuLimitMetrics());\n    _promises.push(this.__getMemoryLimitMetrics());\n\n    return this.$q.all(_promises).then((results) => {\n      this.nodesMap.forEach((node) => {\n        node.parseMetrics(results[0], results[1], results[2], results[3], results[4], results[5], results[6]);\n      });\n\n      this.timeout(() => {\n        this.getResourcesMetrics();\n      }, this.refreshRate);\n    });\n  }\n\n  __getCpuMetricsUsed() {\n    const promQuery = {\n      expr: 'sum(rate(container_cpu_usage_seconds_total{id=\"/\"}[2m])) by (instance)',\n      legend: 'instance',\n    };\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  __getCpuMetricsRequested() {\n    const promQuery = {\n      expr:\n        'sum(sum(kube_pod_container_resource_requests{resource=\"cpu\",unit=\"core\"}) by (namespace, pod, node) * on (pod, namespace) group_left()  (sum(kube_pod_status_phase{phase=\"Running\"}) by (pod, namespace) == 1)) by (node)',\n      legend: 'node',\n    };\n\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  __getCpuLimitMetrics() {\n    const promQuery = {\n      expr:\n        'sum(sum(kube_pod_container_resource_limits{resource=\"cpu\", unit=\"core\"}) by (namespace, pod, node) * on (pod, namespace) group_left()  (sum(kube_pod_status_phase{phase=\"Running\"}) by (pod, namespace) == 1)) by (node)',\n      legend: 'node',\n    };\n\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  __getMemoryMetricsRequested() {\n    const promQuery = {\n      expr:\n        'sum(sum(kube_pod_container_resource_requests{resource=\"memory\", unit=\"byte\"}) by (namespace, pod, node) * on (pod, namespace) group_left() (sum(kube_pod_status_phase{phase=\"Running\"}) by (pod, namespace) == 1)) by (node)',\n      legend: 'node',\n    };\n\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  __getMemoryLimitMetrics() {\n    const promQuery = {\n      expr:\n        'sum(sum(kube_pod_container_resource_limits{resource=\"memory\", unit=\"byte\"}) by (namespace, pod, node) * on (pod, namespace) group_left()  (sum(kube_pod_status_phase{phase=\"Running\"}) by (pod, namespace) == 1)) by (node)',\n      legend: 'node',\n    };\n\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  __getMemoryMetricsUsed() {\n    const promQuery = {\n      expr:\n        'sum(node_memory_MemTotal_bytes) by (instance) - sum(node_memory_MemFree_bytes) by (instance) - sum(node_memory_Buffers_bytes) by (instance) - sum(node_memory_Cached_bytes) by (instance) ',\n      legend: 'instance',\n    };\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  __getPodsCountMetrics() {\n    const promQuery = {\n      expr: 'sum(kubelet_running_pod_count) by (instance)',\n      legend: 'instance',\n    };\n\n    return this.prometheusDS.query(promQuery, false).then((res) => res);\n  }\n\n  getNodes() {\n    return this.cluster.getNodes().then((nodes) => {\n      let nodeStore = [];\n      let getStore = store.getObject('nodeStore');\n\n      if (getStore) {\n        nodeStore = getStore;\n      }\n\n      if (nodes instanceof Array) {\n        this.nodesError = false;\n        nodes.forEach((node) => {\n          let nd = new Node(node);\n          this.nodesMap.push(nd);\n\n          let index = nodeStore.findIndex((item) => item.name === nd.name);\n          if (index > -1) {\n            nd.open = nodeStore[index].open;\n          } else {\n            nodeStore.push({ name: nd.name, open: nd.open });\n          }\n        });\n        store.setObject('nodeStore', nodeStore);\n      } else if (nodes instanceof Error) {\n        this.nodesError = nodes;\n      }\n    });\n  }\n\n  getPodsMetrics() {\n    let _promises = [];\n    _promises.push(this.__getPodsUsedCpu());\n    _promises.push(this.__getPodsUsedMemory());\n    _promises.push(this.__getPodsRequestedCpu());\n    _promises.push(this.__getPodsRequestedMemory());\n    _promises.push(this.__getPodsLimitCpu());\n    _promises.push(this.__getPodsLimitMemory());\n\n    this.$q.all(_promises).then((results) => {\n      this.nodesMap.forEach((node) => {\n        node.namespaces.map((namespace) => {\n          namespace.pods.map((pod) => {\n            const cpu = results[0].find((item) => item.target === pod.name);\n            const mem = results[1].find((item) => item.target === pod.name);\n            const cpuReq = results[2].find((item) => item.target === pod.name);\n            const memReq = results[3].find((item) => item.target === pod.name);\n            const cpuLimit = results[4].find((item) => item.target === pod.name);\n            const memLimit = results[5].find((item) => item.target === pod.name);\n\n            if (cpu !== undefined) {\n              pod.sourceMetrics.cpuUsed = cpu.datapoint;\n              pod.metrics.cpuUsed = __convertToMicro(cpu.datapoint.toFixed(3));\n            }\n            if (mem !== undefined) {\n              pod.sourceMetrics.memoryUsed = mem.datapoint;\n              pod.metrics.memoryUsed = __convertToGB(mem.datapoint);\n            }\n            if (cpuReq !== undefined) {\n              pod.sourceMetrics.cpuRequested = cpuReq.datapoint;\n              pod.metrics.cpuRequested = __convertToMicro(__roundCpu(cpuReq.datapoint));\n            }\n            if (memReq !== undefined) {\n              pod.sourceMetrics.memoryRequested = memReq.datapoint;\n              pod.metrics.memoryRequested = __convertToGB(memReq.datapoint);\n            }\n            if (cpuLimit !== undefined) {\n              pod.sourceMetrics.cpuLimit = cpuLimit.datapoint;\n              pod.metrics.cpuLimit = __convertToMicro(__roundCpu(cpuLimit.datapoint));\n            }\n            if (memLimit !== undefined) {\n              pod.sourceMetrics.memoryLimit = memLimit.datapoint;\n              pod.metrics.memoryLimit = __convertToGB(memLimit.datapoint);\n            }\n          });\n        });\n      });\n\n      this.timeout(() => {\n        this.getPodsMetrics();\n      }, this.refreshRate);\n    });\n  }\n\n  __getPodsUsedCpu() {\n    const podsUsedCpu = {\n      //expr: 'sum(rate(container_cpu_usage_seconds_total{pod_name!=\"\", container_name!=\"\", container_name!=\"POD\"}[2m])) by (pod_name)',\n      expr:\n        'sum(rate(container_cpu_usage_seconds_total{pod!=\"\", container!=\"\", container!=\"POD\"}[2m])) by (pod) or ' +\n        'sum(label_replace(rate(container_cpu_usage_seconds_total{pod_name!=\"\", container_name!=\"\", container_name!=\"POD\"}[2m]), \"pod\", \"$1\", \"pod_name\", \"(.*)\")) by (pod)',\n      legend: 'pod',\n    };\n\n    return this.prometheusDS.query(podsUsedCpu, false).then((res) => res);\n  }\n\n  __getPodsUsedMemory() {\n    const podsUsedMemory = {\n      //expr: 'sum(container_memory_usage_bytes{container_name!=\"\", container_name!=\"POD\"}) by (pod_name)'\n      expr:\n        'sum(container_memory_working_set_bytes{container!=\"\", container!=\"POD\"}) by (pod) or ' +\n        'sum(label_replace(container_memory_working_set_bytes{container_name!=\"\", container_name!=\"POD\"}, \"pod\", \"$1\", \"pod_name\", \"(.*)\")) by (pod)',\n      legend: 'pod',\n    };\n\n    return this.prometheusDS.query(podsUsedMemory, false).then((res) => res);\n  }\n\n  __getPodsRequestedCpu() {\n    const podsUsedCpu = {\n      expr: 'sum(kube_pod_container_resource_requests{resource=\"cpu\",unit=\"core\"}) by (pod)',\n      legend: 'pod',\n    };\n\n    return this.prometheusDS.query(podsUsedCpu, false).then((res) => res);\n  }\n\n  __getPodsLimitCpu() {\n    const podsLimitCpu = {\n      expr: 'sum(kube_pod_container_resource_limits{resource=\"cpu\", unit=\"core\"}) by (pod)',\n      legend: 'pod',\n    };\n\n    return this.prometheusDS.query(podsLimitCpu, false).then((res) => res);\n  }\n\n  __getPodsRequestedMemory() {\n    const podsUsedMemory = {\n      expr: 'sum(kube_pod_container_resource_requests{resource=\"memory\", unit=\"byte\"}) by (pod)',\n      legend: 'pod',\n    };\n\n    return this.prometheusDS.query(podsUsedMemory, false).then((res) => res);\n  }\n\n  __getPodsLimitMemory() {\n    const podsLimitMemory = {\n      expr: 'sum(kube_pod_container_resource_limits{resource=\"memory\", unit=\"byte\"}) by (pod)',\n      legend: 'pod',\n    };\n\n    return this.prometheusDS.query(podsLimitMemory, false).then((res) => res);\n  }\n\n  insertPodsToNodesMap(pods) {\n    this.nodesMap.forEach((node) => {\n      let filterPods = pods.filter((pod) => pod.data.status.hostIP === node.hostIp);\n\n      filterPods.forEach((pod) => {\n        let _nsIsset = node.namespaces.filter((item) => {\n          return item.name === pod.data.metadata.namespace;\n        });\n\n        if (_nsIsset.length === 0) {\n          let _ns = {\n            name: pod.data.metadata.namespace,\n            pods: [],\n            limit: PODS_LIMIT,\n            sort: 'name',\n          };\n          node.namespaces.push(_ns);\n        }\n\n        let _ns = node.namespaces.filter((item) => {\n          return item.name === pod.data.metadata.namespace;\n        })[0];\n        _ns.pods.push(pod);\n      });\n    });\n  }\n\n  refreshNodes() {\n    this.cluster\n      .getNodes()\n      .then((nodes) => {\n        return this.nodesMap.forEach((issetNode) => {\n          let equalNode = nodes.filter((item) => {\n            return item.metadata.uid === issetNode.data.metadata.uid;\n          });\n          if (equalNode.length > 0) {\n            equalNode = equalNode[0];\n            issetNode.update(equalNode);\n          }\n        });\n      })\n      .then(() => {\n        this.timeout(() => {\n          this.refreshNodes();\n        }, this.refreshRate);\n      });\n  }\n\n  getNamespaceMap() {\n    this.cluster.getNamespaces().then((namespaces) => {\n      let namespaceStore = [];\n      let getStore = store.getObject('namespaceStore');\n      if (getStore) {\n        namespaceStore = getStore;\n      }\n      namespaces.forEach((namespace) => {\n        let ns = new Namespace(namespace);\n        this.namespaceMap.push(ns);\n        let index = namespaceStore.findIndex((item) => item.name === ns.name);\n\n        if (index > -1) {\n          ns.open = namespaceStore[index].open;\n        } else {\n          namespaceStore.push({ name: ns.name, open: ns.open });\n        }\n      });\n      store.setObject('namespaceStore', namespaceStore);\n\n      let _promises = [];\n      _promises.push(this.attachDeployments());\n      _promises.push(this.attachStatefulsets());\n      _promises.push(this.attachDaemonsets());\n      _promises.push(this.getClusterCronJobs());\n      _promises.push(this.getClusterJobs());\n\n      this.$q.all(_promises).then(() => {\n        this.attachJobs();\n        this.attachCronJobs();\n\n        let _psPromises = [];\n        _psPromises.push(this.getAllServices());\n        _psPromises.push(this.getPods());\n        this.$q.all(_psPromises).then(() => {\n          this.attachPodsToMap();\n          this.namespaceMapReady = true;\n        });\n      });\n    });\n  }\n\n  refreshNamespaceMap() {\n    this.cluster.getNamespaces().then((namespaces) => {\n      let namespaceStore = [];\n      namespaces.forEach((namespace) => {\n        let ns = new Namespace(namespace);\n        if (this.namespaceMap.every((item) => item.name !== ns.name)) {\n          this.namespaceMap.push(ns);\n          const storeIndex = namespaceStore.findIndex((item) => item.name === ns.name);\n          if (storeIndex > -1) {\n            ns.open = namespaceStore[storeIndex].open;\n          } else {\n            namespaceStore.push({ name: ns.name, open: ns.open });\n          }\n        }\n      });\n      this.namespaceMap.forEach((ns, index) => {\n        if (namespaces.every((item) => item.metadata.name !== ns.name)) {\n          this.namespaceMap.splice(index, 1);\n          const storeIndex = namespaceStore.findIndex((item) => item.name === ns.name);\n          if (storeIndex > -1) {\n            namespaceStore.splice(storeIndex, 1);\n          }\n        }\n      });\n      store.setObject('namespaceStore', namespaceStore);\n\n      let _promises = [];\n      _promises.push(this.refreshDeployments());\n      _promises.push(this.refreshStatefulsets());\n      _promises.push(this.refreshDaemonsets());\n      _promises.push(this.getClusterCronJobs());\n      _promises.push(this.refreshJobs());\n\n      this.$q.all(_promises).then(() => {\n        let _psPromises = [];\n        _psPromises.push(this.getAllServices());\n        this.$q.all(_psPromises).then(() => {\n          this.attachPodsToMap();\n          this.namespaceMapReady = true;\n        });\n      });\n    });\n  }\n\n  attachDeployments() {\n    return this.cluster.getDeployments().then((deployments) => {\n      deployments.forEach((item) => {\n        let deploy = new Deployment(item);\n        let _ns = this.__getNamespace(item.metadata.namespace);\n        this.storeDeployments.push(deploy);\n        _ns.deployments.push(deploy);\n      });\n    });\n  }\n\n  refreshDeployments() {\n    this.cluster.getDeployments().then((newDeployments) => {\n      this.storeDeployments\n        .filter((deployment) => {\n          return !deployment.is_deleted;\n        })\n        .forEach((issetDeployment) => {\n          let equalDeployment = newDeployments.filter((item) => {\n            return item.metadata.uid === issetDeployment.data.metadata.uid;\n          });\n          if (equalDeployment.length > 0) {\n            equalDeployment = equalDeployment[0];\n          } else {\n            equalDeployment = false;\n          }\n\n          if (equalDeployment !== false) {\n            issetDeployment.update(equalDeployment);\n            newDeployments.splice(newDeployments.indexOf(equalDeployment), 1);\n          } else {\n            issetDeployment.destroy();\n          }\n        });\n      newDeployments = newDeployments.map((newDeployment) => new Deployment(newDeployment));\n      this.storeDeployments = this.storeDeployments.concat(newDeployments);\n\n      newDeployments.forEach((newDeployment) => {\n        let _ns = this.__getNamespace(newDeployment.data.metadata.namespace);\n        _ns.deployments.push(newDeployment);\n      });\n    });\n  }\n\n  attachStatefulsets() {\n    return this.cluster.getStatefulsets().then((statefulsets) => {\n      statefulsets.forEach((item) => {\n        let _ns = this.__getNamespace(item.metadata.namespace);\n        let ss = new Statefulset(item);\n        _ns.statefulsets.push(ss);\n        this.storeStatefulSets.push(ss);\n      });\n    });\n  }\n\n  refreshStatefulsets() {\n    this.cluster.getStatefulsets().then((Statefulsets) => {\n      this.storeStatefulSets\n        .filter((statefulset) => {\n          return !statefulset.is_deleted;\n        })\n        .forEach((issetStatefulset) => {\n          let equalStatefulset = Statefulsets.filter((item) => {\n            return item.metadata.uid === issetStatefulset.data.metadata.uid;\n          });\n          if (equalStatefulset.length > 0) {\n            equalStatefulset = equalStatefulset[0];\n          } else {\n            equalStatefulset = false;\n          }\n\n          if (equalStatefulset !== false) {\n            issetStatefulset.update(equalStatefulset);\n            Statefulsets.splice(Statefulsets.indexOf(equalStatefulset), 1);\n          } else {\n            issetStatefulset.destroy();\n          }\n        });\n      Statefulsets = Statefulsets.map((newStatefulset) => new Statefulset(newStatefulset));\n      this.storeStatefulSets = this.storeStatefulSets.concat(Statefulsets);\n\n      Statefulsets.forEach((newStatefulset) => {\n        let _ns = this.__getNamespace(newStatefulset.data.metadata.namespace);\n        _ns.statefulsets.push(newStatefulset);\n      });\n    });\n  }\n\n  attachDaemonsets() {\n    return this.cluster.getDaemonsets().then((daemonsets) => {\n      daemonsets.forEach((item) => {\n        let _ns = this.__getNamespace(item.metadata.namespace);\n        let ds = new Daemonset(item);\n        _ns.daemonsets.push(ds);\n        this.storeDaemonSets.push(ds);\n      });\n    });\n  }\n\n  refreshDaemonsets() {\n    this.cluster.getDaemonsets().then((Daemonsets) => {\n      this.storeDaemonSets\n        .filter((daemonset) => {\n          return !daemonset.is_deleted;\n        })\n        .forEach((issetDaemonSet) => {\n          let equalDaemonSet = Daemonsets.filter((item) => {\n            return item.metadata.uid === issetDaemonSet.data.metadata.uid;\n          });\n          if (equalDaemonSet.length > 0) {\n            equalDaemonSet = equalDaemonSet[0];\n          } else {\n            equalDaemonSet = false;\n          }\n\n          if (equalDaemonSet !== false) {\n            issetDaemonSet.update(equalDaemonSet);\n            Daemonsets.splice(Daemonsets.indexOf(equalDaemonSet), 1);\n          } else {\n            issetDaemonSet.destroy();\n          }\n        });\n      Daemonsets = Daemonsets.map((newDaemonset) => new Daemonset(newDaemonset));\n      this.storeDaemonSets = this.storeDaemonSets.concat(Daemonsets);\n\n      Daemonsets.forEach((newDaemonset) => {\n        let _ns = this.__getNamespace(newDaemonset.data.metadata.namespace);\n        _ns.daemonsets.push(newDaemonset);\n      });\n    });\n  }\n\n  attachJobs() {\n    this.namespaceMap.forEach((ns) => {\n      let jobsList = this.storeJobs.filter(\n        (job) => !job.data.metadata.ownerReferences && job.data.metadata.namespace === ns.name\n      );\n      let ns_crons = this.storeCronJobs.filter((cron) => cron.data.metadata.namespace === ns);\n      ns_crons.forEach((cj) => {\n        let uid = cj.data.metadata.uid;\n        this.storeJobs.forEach((job) => {\n          if (job.data.metadata.ownerReferences) {\n            if (!job.data.metadata.ownerReferences.filter((item) => item.kind === 'CronJob' && item.uid === uid)[0]) {\n              jobsList.push(job);\n            }\n          }\n        });\n      });\n\n      ns.jobs = jobsList;\n    });\n  }\n\n  attachCronJobs() {\n    this.namespaceMap.forEach((ns) => {\n      ns.cronJobs = this.storeCronJobs.filter((cron) => cron.data.metadata.namespace === ns.name);\n\n      ns.cronJobs.forEach((cj) => {\n        let uid = cj.data.metadata.uid;\n        let jobsList = [];\n\n        this.storeJobs.forEach((job) => {\n          if (job.data.metadata.ownerReferences) {\n            if (job.data.metadata.ownerReferences.filter((item) => item.kind === 'CronJob' && item.uid === uid)[0]) {\n              jobsList.push(job);\n            }\n          }\n        });\n\n        cj.jobs = jobsList;\n      });\n    });\n  }\n\n  attachPodsToMap() {\n    this.namespaceMap.forEach((ns) => {\n      ns.deployments.forEach((deployment) => {\n        deployment.pods = this.__findPodsBySelector(deployment.data.spec.selector.matchLabels, ns.name);\n        deployment.services = this.__findServices(deployment);\n      });\n      ns.statefulsets.forEach((statefulset) => {\n        statefulset.pods = this.__findPodsBySelector(statefulset.data.spec.selector.matchLabels, ns.name);\n        statefulset.services = this.__findServices(statefulset);\n      });\n      ns.daemonsets.forEach((daemonset) => {\n        daemonset.pods = this.__findPodsBySelector(daemonset.data.spec.selector.matchLabels, ns.name);\n        daemonset.services = this.__findServices(daemonset);\n      });\n\n      ns.jobs.forEach((job) => {\n        job.pods = this.__findPodsBySelector(job.data.metadata.labels, ns.name);\n      });\n\n      ns.cronJobs.forEach((cron) => {\n        cron.jobs.map((job) => {\n          job.pods = this.__findPodsBySelector(job.data.metadata.labels, ns.name);\n        });\n      });\n\n      ns.other[0].pods = this.storePods.filter((item) => !item.used && item.data.metadata.namespace === ns.name);\n    });\n  }\n\n  updateJobs() {\n    let _promises = [];\n\n    _promises.push(this.refreshJobs());\n\n    this.$q.all(_promises).then(() => {\n      this.attachJobs();\n      this.attachCronJobs();\n    });\n  }\n\n  __findPodsBySelector(filter, namespace, pods = this.storePods) {\n    return pods\n      .filter((item) => {\n        return item.data.metadata.namespace === namespace;\n      })\n      .filter((item) => {\n        let labels = item.data.metadata.labels;\n\n        if (typeof labels === 'undefined') {\n          return false;\n        } else {\n          for (let prop in filter) {\n            if (!labels.hasOwnProperty(prop)) {\n              return false;\n            }\n            if (labels[prop] !== filter[prop]) {\n              return false;\n            }\n          }\n        }\n        item.used = true;\n        return true;\n      });\n  }\n\n  __findServices(entity) {\n    return this.storeServices.filter((item) => {\n      if (!item.data.spec || !item.data.spec.selector) {\n        return false;\n      }\n      let matchLabels = item.data.spec.selector;\n      let result = this.__findPodsBySelector(matchLabels, item.data.metadata.namespace, entity.pods);\n      if (result.length > 0) {\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  __prepareDS() {\n    return this.datasourceSrv.get(this.location.search().clusterName).then((ds) => {\n      this.cluster = ds;\n      this.__setRefreshRate(this.cluster.refreshRate);\n      return this.getPrometheusDS(this.cluster.prometheus).then(() => {\n        this.pageReady = true;\n      });\n    });\n  }\n\n  getPrometheusDS(name) {\n    return this.datasourceSrv.get(name).then((ds) => {\n      this.prometheusDS = new PrometheusProxy(ds);\n    });\n  }\n\n  getPods(skipEmptyHost = false) {\n    return this.cluster.getPods().then((pods) => {\n      if (pods instanceof Array) {\n        this.podsError = false;\n        if (skipEmptyHost) {\n          pods = pods.filter((pod) => typeof pod.status.hostIP !== 'undefined');\n        }\n        this.storePods = pods.map((pod) => new Pod(pod));\n      } else if (pods instanceof Error) {\n        this.podsError = pods;\n      }\n\n      this.timeout(() => {\n        this.refreshPods(skipEmptyHost);\n      }, this.refreshRate);\n    });\n  }\n\n  refreshPods(skipEmptyHost = false) {\n    this.cluster.getPods().then((pods) => {\n      if (pods instanceof Array) {\n        this.podsError = false;\n\n        if (skipEmptyHost) {\n          pods = pods.filter((pod) => typeof pod.status.hostIP !== 'undefined');\n        }\n\n        this.storePods\n          .filter((pod) => !pod.is_deleted)\n          .forEach((issetPod) => {\n            let equalPod = pods.filter((item) => {\n              return item.metadata.uid === issetPod.data.metadata.uid;\n            });\n            if (equalPod.length > 0) {\n              equalPod = equalPod[0];\n            } else {\n              equalPod = false;\n            }\n\n            if (equalPod !== false) {\n              issetPod.update(equalPod);\n              pods.splice(pods.indexOf(equalPod), 1);\n            } else {\n              issetPod.destroy();\n            }\n          });\n        pods = pods.map((pod) => new Pod(pod));\n        this.storePods = this.storePods.concat(pods);\n        this.updatePods(pods);\n      } else if (pods instanceof Error) {\n        this.podsError = pods;\n      }\n    });\n\n    this.timeout(() => {\n      this.refreshPods(skipEmptyHost);\n    }, this.refreshRate);\n  }\n\n  getClusterComponents() {\n    this.cluster.getComponents().then((components) => {\n      if (components instanceof Array) {\n        this.componentsError = false;\n        this.storeComponents = components.map((component) => new Component(component));\n      } else if (components instanceof Error) {\n        this.componentsError = components;\n      }\n\n      this.timeout(() => {\n        this.refreshClusterComponents();\n      }, this.refreshRate);\n    });\n  }\n\n  refreshClusterComponents() {\n    this.cluster.getComponents().then((components) => {\n      if (components instanceof Array) {\n        this.componentsError = false;\n        this.storeComponents = components.map((component) => new Component(component));\n      } else if (components instanceof Error) {\n        this.componentsError = components;\n      }\n\n      this.timeout(() => {\n        this.refreshClusterComponents();\n      }, this.refreshRate);\n    });\n  }\n\n  getAllServices() {\n    return this.cluster.getServices().then((services) => {\n      this.storeServices = services.map((service) => new Service(service));\n    });\n  }\n\n  getClusterJobs() {\n    return this.cluster.getJobs().then((jobs) => {\n      this.storeJobs = jobs.map((job) => new Job(job));\n    });\n  }\n\n  getClusterCronJobs() {\n    return this.cluster.getCronJobs().then((cronjobs) => {\n      this.storeCronJobs = cronjobs.map((cronjob) => new Cronjob(cronjob));\n    });\n  }\n\n  refreshJobs() {\n    return this.cluster.getJobs().then((newJobs) => {\n      this.storeJobs\n        .filter((job) => {\n          return !job.is_deleted;\n        })\n        .forEach((issetJob) => {\n          let equalPod = newJobs.filter((item) => {\n            return item.metadata.uid === issetJob.data.metadata.uid;\n          });\n          if (equalPod.length > 0) {\n            equalPod = equalPod[0];\n          } else {\n            equalPod = false;\n          }\n\n          if (equalPod !== false) {\n            issetJob.update(equalPod);\n            newJobs.splice(newJobs.indexOf(equalPod), 1);\n          } else {\n            issetJob.destroy();\n          }\n        });\n      newJobs = newJobs.map((newJob) => new Job(newJob));\n      this.storeJobs = this.storeJobs.concat(newJobs);\n    });\n  }\n\n  __getNamespace(namespace) {\n    return this.namespaceMap.filter((ns) => {\n      return ns.name === namespace;\n    })[0];\n  }\n\n  __setRefreshRate(rate) {\n    if (rate === undefined) {\n      this.refreshRate = REFRESH_RATE_DEFAULT;\n    } else {\n      this.refreshRate = rate * 1000;\n    }\n  }\n\n  __getPodsLength(pods = []) {\n    return pods.filter((item) => !item.is_deleted).length;\n  }\n\n  getWarningPods() {\n    let warningPods = this.storePods.filter((item) => this.podIsWarning(item));\n    if (warningPods.length > 0 && warningPods.filter((pod) => pod.message === 'Undefined error').length > 0) {\n      this.storePods.forEach((pod, index) => {\n        if (this.podIsWarning(pod) && pod.message === 'Undefined error' && this.storeEvents) {\n          const event = this.storeEvents.find((event) => event.involvedObject.name === pod.name);\n          if (event !== undefined) {\n            this.storePods[index].message = event.message;\n          }\n        }\n      });\n    }\n\n    return this.sortByStatus(warningPods);\n  }\n\n  sortByStatus(array: Array<{ status: number }>, rule = [ERROR, WARNING, SUCCESS, SUCCEEDED, TERMINATING]): any[] {\n    const sorted = [];\n\n    rule.forEach((status) => {\n      sorted.push(...array.filter((pod) => pod.status === status));\n    });\n\n    return sorted;\n  }\n\n  getWarningNodes() {\n    return this.nodesMap.filter((item) => item.status === ERROR);\n  }\n\n  goTo(id) {\n    let pod = null;\n    if (id) {\n      pod = document.getElementsByClassName(id)[0];\n    }\n    if (pod) {\n      pod.scrollIntoView({ block: 'center', behavior: 'smooth' });\n    }\n  }\n\n  getAlertsNodesByCPU(status: 'cpuStatus' | 'cpuStatusRequested' = 'cpuStatus') {\n    return this.nodesMap.filter((item) => item[status] === WARNING || item[status] === ERROR);\n  }\n\n  getAlertsNodesByMemory(status: 'memoryStatus' | 'memoryStatusRequested' = 'memoryStatus') {\n    return this.nodesMap.filter((item) => item[status] === WARNING || item[status] === ERROR);\n  }\n\n  getAlertsNodesByPods(status: 'podsStatus' = 'podsStatus') {\n    return this.nodesMap.filter((item) => item[status] === WARNING || item[status] === ERROR);\n  }\n\n  getAlertsComponents() {\n    return this.storeComponents.filter((item) => item.status === ERROR);\n  }\n\n  getEvents() {\n    this.cluster.getEvents().then((events) => {\n      this.storeEvents = events;\n\n      this.timeout(() => {\n        this.getEvents();\n      }, this.refreshRate);\n    });\n  }\n\n  podIsWarning(pod: Pod): boolean {\n    if (!pod.is_deleted) {\n      if (pod.status === WARNING || pod.status === ERROR || pod.status === TERMINATING) {\n        return true;\n      }\n      return !this.validResources(pod);\n    }\n    return false;\n  }\n\n  validResources(pod: Pod): boolean {\n    return pod.data.spec.containers.every((container) => {\n      const msgCpu = [];\n      const msgMemory = [];\n\n      if (pod.data.metadata.namespace !== 'kube-system' && pod.status !== SUCCEEDED) {\n        if (!container.resources.requests || !container.resources.requests.cpu) {\n          msgCpu.push('CPU request');\n        }\n        if (!container.resources.limits || !container.resources.limits.cpu) {\n          msgCpu.push('CPU limit');\n        }\n        if (!container.resources.requests || !container.resources.requests.memory) {\n          msgMemory.push('Memory request');\n        }\n        if (!container.resources.limits || !container.resources.limits.memory) {\n          msgMemory.push('Memory limit');\n        }\n      }\n\n      if (msgCpu.length > 0 || msgMemory.length > 0) {\n        pod.message = `Container \"${container.name}\":\n                 ${msgCpu.length && 'Specify ' + msgCpu.join(' and ') + ';'}\n                 ${msgMemory.length && 'Specify ' + msgMemory.join(' and ') + ';'}`;\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  toggleMenu() {\n    this.showMenu = !this.showMenu;\n  }\n}\n","import { K8sPage } from '../k8s-page';\nimport { Node } from '../../common/types/node';\nimport store from '../../common/store';\nimport { __convertToGB, __roundCpu, __convertToMicro, __getGrafanaVersion } from '../../common/helpers';\nimport { Pod } from '../../common/types/pod';\nimport { TYPE_DATASOURCE } from \"../../common/constants\";\n\nexport class NodesOverview extends K8sPage {\n  static templateUrl = 'components/nodes-overview/nodes-overview.html';\n  static $inject = [\n    '$scope',\n    '$injector',\n    '$q',\n    'backendSrv',\n    'datasourceSrv',\n    'contextSrv',\n    '$location',\n    '$timeout',\n    '$window',\n  ];\n  version: number;\n  open: { [key: string]: boolean };\n  storageOpenKey = 'nodes-overview-open';\n  serverInfo: any = null;\n  hideAllWarningPods = true;\n  showScrollButton = false;\n  clusters: any[];\n\n  constructor(\n    $scope,\n    $injector,\n    public $q,\n    public backendSrv,\n    public datasourceSrv,\n    public contextSrv,\n    public $location,\n    public $timeout,\n    private $window\n  ) {\n    super($scope, backendSrv, datasourceSrv, contextSrv, $location, $timeout, $q, $window);\n    this.pageReady = false;\n    this.version = __getGrafanaVersion($window);\n\n    this.__prepareDS().then(() => {\n      this.getEvents();\n      this.getClusters();\n      this.getNodeMap()\n        .then(() => {\n          if (this.nodesMap.length > 0 && this.serverInfo === null) {\n            this.getServerInfo();\n          }\n          this.pageReady = true;\n        })\n        .then(() => {\n          this.getResourcesMetrics().then(() => {});\n        });\n    });\n\n    const openFromStorage = localStorage.getItem(this.storageOpenKey);\n    this.open = openFromStorage ? JSON.parse(openFromStorage) : {};\n\n    const elem = document.querySelector('.scroll-canvas');\n    elem.addEventListener('scroll', () => {\n      this.showScrollButton = elem.scrollTop > 64;\n      $scope.$apply();\n    });\n  }\n\n  async getClusters() {\n    const datasources = await this.datasourceSrv.getAll();\n    const type = TYPE_DATASOURCE;\n\n    if (Array.isArray(datasources)) {\n      this.clusters = datasources.filter((item) => {\n        return item.type === type;\n      });\n    } else {\n      let clusters = [];\n      Object.keys(datasources).forEach((key) => {\n        if (datasources[key].type === type) {\n          clusters.push(datasources[key]);\n        }\n      });\n      this.clusters = clusters;\n    }\n  }\n\n  getServerInfo() {\n    this.serverInfo = {};\n    this.__getServersInfo(this.nodesMap).then((res) => {\n      this.serverInfo = res;\n    });\n  }\n\n  showAllPodsNS(ns) {\n    ns.limit = false;\n  }\n\n  toggleNsList(node) {\n    node.hideNs = !node.hideNs;\n\n    /*let key = node.name + 'NsList';\n        let state = store.get(key);\n\n        if (state === 'false') {\n            state = false;\n        } else if (state === 'true') {\n            state = true;\n        }\n\n        store.set(key, !state);*/\n  }\n\n  updatePods(newPods: Pod[]): void {\n    this.insertPodsToNodesMap(newPods);\n  }\n\n  summary(ns, metric) {\n    let res = 0;\n\n    if (ns.pods) {\n      res = ns.pods.reduce((prevValue, pod) => {\n        if (pod.sourceMetrics[metric]) {\n          return prevValue + pod.sourceMetrics[metric];\n        }\n        return prevValue;\n      }, 0);\n    }\n\n    switch (metric) {\n      case 'cpuUsed':\n        return __convertToMicro(res.toFixed(3));\n      case 'cpuRequested':\n        return __convertToMicro(__roundCpu(res));\n      case 'cpuLimit':\n        return __convertToMicro(__roundCpu(res));\n      case 'memoryUsed':\n        return __convertToGB(res);\n      case 'memoryRequested':\n        return __convertToGB(res);\n      case 'memoryLimit':\n        return __convertToGB(res);\n      default:\n        return 'N-A';\n    }\n  }\n\n  nodeClick(event, node) {\n    if (event.ctrlKey) {\n      if (node.open) {\n        event.preventDefault();\n      }\n      this.toggleNodes(node);\n    } else {\n      node.toggle();\n    }\n  }\n\n  __showAll() {\n    this.toggleNodes(true);\n  }\n\n  __hideAll() {\n    this.toggleNodes(false);\n  }\n\n  toggleNodes(node: boolean | any) {\n    store.delete('nodeStore');\n    let nodeStore = [];\n    this.nodesMap.map((ns) => {\n      ns.open = node === true || node === false ? node : node.name === ns.name;\n      nodeStore.push({ name: ns.name, open: ns.open });\n    });\n    store.setObject('nodeStore', nodeStore);\n  }\n\n  podsFilterIsDeleted(pods: Pod[]) {\n    return pods.filter((pod) => pod.is_deleted === false);\n  }\n\n  sort(key, nsIndex, nodeIndex) {\n    if (this.nodesMap[nodeIndex] && this.nodesMap[nodeIndex].namespaces[nsIndex]) {\n      if (this.nodesMap[nodeIndex].namespaces[nsIndex].sort.indexOf(key) === 0) {\n        this.nodesMap[nodeIndex].namespaces[nsIndex].sort = '-' + key;\n      } else {\n        this.nodesMap[nodeIndex].namespaces[nsIndex].sort = key;\n      }\n    }\n  }\n\n  icon(key, nsIndex, nodeIndex) {\n    if (this.nodesMap[nodeIndex] && this.nodesMap[nodeIndex].namespaces[nsIndex]) {\n      if (this.nodesMap[nodeIndex].namespaces[nsIndex].sort.indexOf(key) === 0) {\n        return '<i class=\"fa fa-long-arrow-down\"></i>';\n      } else if (this.nodesMap[nodeIndex].namespaces[nsIndex].sort.indexOf('-' + key) === 0) {\n        return '<i class=\"fa fa-long-arrow-up\"></i>';\n      }\n    }\n    return '<i class=\"fa fa-long-arrow-up grey\"></i>';\n  }\n\n  toggleAllWarningPods() {\n    this.hideAllWarningPods = !this.hideAllWarningPods;\n  }\n\n  nodeCount(): number {\n    return this.nodesMap ? this.nodesMap.length : 0;\n  }\n\n  nodeActiveCount(): number {\n    return this.nodesMap ? this.nodesMap.filter((node) => node.open).length : 0;\n  }\n\n  toggleTab(nodeName: string): void {\n    if (this.open[nodeName] === undefined) {\n      this.open[nodeName] = false;\n    } else {\n      this.open[nodeName] = !this.open[nodeName];\n    }\n    localStorage.setItem(this.storageOpenKey, JSON.stringify(this.open));\n  }\n}\n","export class DOPKubeGrafAppConfig {\n  static templateUrl = 'config/config.html';\n  static $inject = ['$scope', '$injector', '$q'];\n  enabled: boolean;\n  appModel: any;\n  appEditCtrl: any;\n\n  constructor($scope, $injector, private $q) {\n    this.enabled = false;\n    this.appEditCtrl.setPostUpdateHook();\n  }\n\n  postUpdate() {\n    if (!this.appModel.enabled) {\n      return this.$q.resolve();\n    }\n    return this.appEditCtrl.importDashboards().then(() => {\n      this.enabled = true;\n      return {\n        url: 'plugins/devopsprodigy-kubegraf-app/page/clusters',\n        message: 'DevOpsProdigy KubeGraf enabled!',\n      };\n    });\n  }\n}\n","import { loadPluginCss } from '@grafana/runtime';\nimport { ApplicationsOverview } from './components/applications-overview/applications-overview';\nimport { ClustersList } from './components/clusters-list/clusters-list';\nimport { ClusterConfig } from './components/cluster-config/cluster-config';\nimport { ClusterOverview } from './components/cluster-overview/cluster-overview';\nimport { NodesOverview } from './components/nodes-overview/nodes-overview';\nimport { ClusterAlerts } from './components/cluster-alerts/cluster-alerts';\nimport { DOPKubeGrafAppConfig } from './config/config';\n\nloadPluginCss({\n  dark: 'plugins/devopsprodigy-kubegraf-app/styles/dark.css',\n  light: 'plugins/devopsprodigy-kubegraf-app/styles/light.css',\n});\n\nexport {\n  ApplicationsOverview,\n  ClusterAlerts,\n  ClusterConfig,\n  ClusterOverview,\n  ClustersList,\n  NodesOverview,\n  DOPKubeGrafAppConfig as ConfigCtrl,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_app_events__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_utils_kbn__;"],"sourceRoot":""}